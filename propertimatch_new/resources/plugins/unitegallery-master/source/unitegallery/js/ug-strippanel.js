function UGStripPanel(){var t=this,g_objThis=jQuery(this);var g_gallery=new UniteGalleryMain(),g_objGallery,g_objWrapper,g_objPanel;var g_functions=new UGFunctions(),g_objStrip=new UGThumbsStrip(),g_panelBase=new UGPanelsBase();var g_objButtonNext,g_objButtonPrev;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var g_options={strippanel_vertical_type:false,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:true,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:true,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""};var g_defaults_vertical={strip_vertical_type:true,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0};var g_defaults_no_buttons={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8};var g_temp={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:false,isClosed:false,orientation:null,originalPos:null,isFirstRun:true};function initPanel(gallery,customOptions){g_gallery=gallery;g_objGallery=jQuery(g_gallery);g_options=jQuery.extend(g_options,customOptions);var repeatCustomOptions=false;if(g_options.strippanel_vertical_type==true){g_options=jQuery.extend(g_options,g_defaults_vertical);repeatCustomOptions=true;}if(g_options.strippanel_enable_buttons==false){g_options=jQuery.extend(g_options,g_defaults_no_buttons);repeatCustomOptions=true;}if(repeatCustomOptions==true)g_options=jQuery.extend(g_options,customOptions);var galleryOptions=g_gallery.getOptions();var globalSkin=galleryOptions.gallery_skin;if(g_options.strippanel_buttons_skin=="")g_options.strippanel_buttons_skin=globalSkin;g_objWrapper=g_gallery.getElement();g_panelBase.init(g_gallery,g_temp,t,g_options,g_objThis);g_objStrip=new UGThumbsStrip();g_objStrip.init(g_gallery,g_options);}function validatePanelBeforeRun(){if(g_options.strippanel_vertical_type==false){if(g_temp.panelWidth==0){throw new Error("Strip panel error: The width not set, please set width");return(false);}}else{if(g_temp.panelHeight==0){throw new Error("Strip panel error: The height not set, please set height");return(false);}}if(g_temp.orientation==null){throw new Error("Wrong orientation, please set panel orientation before run");return(false);}return(true);}function runPanel(){if(g_temp.isFirstRun==true&&validatePanelBeforeRun()==false)return(false);g_objStrip.run();setElementsSize();placeElements();initEvents();g_temp.isFirstRun=false;checkSideButtons();}function setPanelHtml(parentContainer){if(!parentContainer)var parentContainer=g_objWrapper;parentContainer.append("<div class='ug-strip-panel'></div>");g_objPanel=parentContainer.children('.ug-strip-panel');if(g_options.strippanel_enable_buttons==true){var arrowPrevClass="ug-strip-arrow-left";var arrowNextClass="ug-strip-arrow-right";if(g_options.strippanel_vertical_type==true){arrowPrevClass="ug-strip-arrow-up";arrowNextClass="ug-strip-arrow-down";}g_objPanel.append("<div class='ug-strip-arrow "+arrowPrevClass+" ug-skin-"+g_options.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>");g_objPanel.append("<div class='ug-strip-arrow "+arrowNextClass+" ug-skin-"+g_options.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>");}g_panelBase.setHtml(g_objPanel);g_objStrip.setHtml(g_objPanel);if(g_options.strippanel_enable_buttons==true){g_objButtonPrev=g_objPanel.children("."+arrowPrevClass);g_objButtonNext=g_objPanel.children("."+arrowNextClass);}setHtmlProperties();}function setHtmlProperties(){if(g_options.strippanel_background_color!="")g_objPanel.css("background-color",g_options.strippanel_background_color);}function setElementsSize_hor(){var stripHeight=g_objStrip.getHeight();var panelWidth=g_temp.panelWidth;if(g_objButtonNext){g_objButtonPrev.height(stripHeight);g_objButtonNext.height(stripHeight);var prevTip=g_objButtonPrev.children(".ug-strip-arrow-tip");g_functions.placeElement(prevTip,"center","middle");var nextTip=g_objButtonNext.children(".ug-strip-arrow-tip");g_functions.placeElement(nextTip,"center","middle");}var panelHeight=stripHeight+g_options.strippanel_padding_top+g_options.strippanel_padding_bottom;g_objPanel.width(panelWidth);g_objPanel.height(panelHeight);g_temp.panelHeight=panelHeight;var stripWidth=panelWidth-g_options.strippanel_padding_left-g_options.strippanel_padding_right;if(g_objButtonNext){var buttonWidth=g_objButtonNext.outerWidth();stripWidth=stripWidth-buttonWidth*2-g_options.strippanel_padding_buttons*2;}g_objStrip.resize(stripWidth);}function setElementsSize_vert(){var stripWidth=g_objStrip.getWidth();var panelHeight=g_temp.panelHeight;if(g_objButtonNext){g_objButtonPrev.width(stripWidth);g_objButtonNext.width(stripWidth);var prevTip=g_objButtonPrev.children(".ug-strip-arrow-tip");g_functions.placeElement(prevTip,"center","middle");var nextTip=g_objButtonNext.children(".ug-strip-arrow-tip");g_functions.placeElement(nextTip,"center","middle");}var panelWidth=stripWidth+g_options.strippanel_padding_left+g_options.strippanel_padding_right;g_objPanel.width(panelWidth);g_objPanel.height(panelHeight);g_temp.panelWidth=panelWidth;var stripHeight=panelHeight-g_options.strippanel_padding_top-g_options.strippanel_padding_bottom;if(g_objButtonNext){var buttonHeight=g_objButtonNext.outerHeight();stripHeight=stripHeight-buttonHeight*2-g_options.strippanel_padding_buttons*2;}g_objStrip.resize(stripHeight);}function setElementsSize(){if(g_options.strippanel_vertical_type==false)setElementsSize_hor();else
setElementsSize_vert();}function placeElements_hor(){if(g_objButtonNext){g_functions.placeElement(g_objButtonPrev,"left","top",g_options.strippanel_padding_left,g_options.strippanel_padding_top);g_functions.placeElement(g_objButtonNext,"right","top",g_options.strippanel_padding_right,g_options.strippanel_padding_top);}var stripX=g_options.strippanel_padding_left;if(g_objButtonNext)stripX+=g_objButtonNext.outerWidth()+g_options.strippanel_padding_buttons;g_objStrip.setPosition(stripX,g_options.strippanel_padding_top);}function placeElements_vert(){if(g_objButtonNext){g_functions.placeElement(g_objButtonPrev,"left","top",g_options.strippanel_padding_left,g_options.strippanel_padding_top);g_functions.placeElement(g_objButtonNext,"left","bottom",g_options.strippanel_padding_left,g_options.strippanel_padding_bottom);}var stripY=g_options.strippanel_padding_top;if(g_objButtonNext)stripY+=g_objButtonNext.outerHeight()+g_options.strippanel_padding_buttons;g_objStrip.setPosition(g_options.strippanel_padding_left,stripY);}function placeElements(){if(g_options.strippanel_vertical_type==false)placeElements_hor();else
placeElements_vert();g_panelBase.placeElements();}function __________EVENTS___________(){};function onNextButtonClick(objButton){if(g_functions.isButtonDisabled(objButton))return(true);if(g_options.strippanel_buttons_role=="advance_item")g_gallery.nextItem();else
g_objStrip.scrollForeward();}function onPrevButtonClick(objButton){if(g_functions.isButtonDisabled(objButton))return(true);if(g_options.strippanel_buttons_role=="advance_item")g_gallery.prevItem();else
g_objStrip.scrollBack();}function checkSideButtons(){if(!g_objButtonNext)return(true);if(g_objStrip.isMoveEnabled()==false){g_functions.disableButton(g_objButtonPrev);g_functions.disableButton(g_objButtonNext);return(true);}var limits=g_objStrip.getInnerStripLimits();var pos=g_objStrip.getInnerStripPos();if(pos>=limits.maxPos){g_functions.disableButton(g_objButtonPrev);}else{g_functions.enableButton(g_objButtonPrev);}if(pos<=limits.minPos)g_functions.disableButton(g_objButtonNext);else
g_functions.enableButton(g_objButtonNext);}function onStripMove(){checkSideButtons();}function onItemChange(){if(g_gallery.isLastItem())g_functions.disableButton(g_objButtonNext);else
g_functions.enableButton(g_objButtonNext);if(g_gallery.isFirstItem())g_functions.disableButton(g_objButtonPrev);else
g_functions.enableButton(g_objButtonPrev);}function initEvents(){if(g_temp.isEventsInited==true)return(false);g_temp.isEventsInited=true;if(g_objButtonNext){g_functions.addClassOnHover(g_objButtonNext,"ug-button-hover");g_functions.addClassOnHover(g_objButtonPrev,"ug-button-hover");g_functions.setButtonOnClick(g_objButtonPrev,onPrevButtonClick);g_functions.setButtonOnClick(g_objButtonNext,onNextButtonClick);if(g_options.strippanel_buttons_role!="advance_item"){jQuery(g_objStrip).on(g_objStrip.events.STRIP_MOVE,onStripMove);g_objGallery.on(g_gallery.events.SIZE_CHANGE,checkSideButtons);}else{var galleryOptions=g_gallery.getOptions();if(galleryOptions.gallery_carousel==false)jQuery(g_gallery).on(g_gallery.events.ITEM_CHANGE,onItemChange);}}g_panelBase.initEvents();}this.destroy=function(){if(g_objButtonNext){g_functions.destroyButton(g_objButtonNext);g_functions.destroyButton(g_objButtonPrev);jQuery(g_objStrip).off(g_objStrip.events.STRIP_MOVE);jQuery(g_gallery).off(g_gallery.events.ITEM_CHANGE);jQuery(g_gallery).off(g_gallery.events.SIZE_CHANGE);}g_panelBase.destroy();g_objStrip.destroy();}
this.getOrientation=function(){return(g_temp.orientation);}
this.setOrientation=function(orientation){g_temp.orientation=orientation;}
this.init=function(gallery,customOptions){initPanel(gallery,customOptions);}
this.run=function(){runPanel();}
this.setHtml=function(parentContainer){setPanelHtml(parentContainer);}
this.getElement=function(){return(g_objPanel);}
this.getSize=function(){var objSize=g_functions.getElementSize(g_objPanel);return(objSize);}
this.setWidth=function(width){g_temp.panelWidth=width;}
this.setHeight=function(height){g_temp.panelHeight=height;}
this.resize=function(newWidth){t.setWidth(newWidth);setElementsSize();placeElements();}
this.__________Functions_From_Base_____=function(){}
this.isPanelClosed=function(){return(g_panelBase.isPanelClosed());}
this.getClosedPanelDest=function(){return g_panelBase.getClosedPanelDest();}
this.openPanel=function(noAnimation){g_panelBase.openPanel(noAnimation);}
this.closePanel=function(noAnimation){g_panelBase.closePanel(noAnimation);}
this.setOpenedState=function(originalPos){g_panelBase.setOpenedState(originalPos);}
this.setClosedState=function(originalPos){g_panelBase.setClosedState(originalPos);}
this.setCustomThumbs=function(funcSetHtml){g_objStrip.setCustomThumbs(funcSetHtml);}
this.setDisabledAtStart=function(timeout){g_panelBase.setDisabledAtStart(timeout);}}
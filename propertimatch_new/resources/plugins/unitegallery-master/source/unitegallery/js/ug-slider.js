function UGSlider(){var t=this,g_objThis=jQuery(t);var g_gallery=new UniteGalleryMain(),g_objGallery,g_objWrapper,g_objThumbs;var g_objSlider,g_objInner,g_objSlide1,g_objSlide2,g_objSlide3,g_objArrowLeft,g_objArrowRight;var g_objTouchSlider,g_objZoomSlider,g_objZoomPanel,g_objButtonPlay=null,g_objButtonFullscreen=null,g_objBullets=null;var g_objVideoPlayer=new UGVideoPlayer(),g_optionsPrefix;var g_functions=new UGFunctions(),g_objProgress=null,g_objTextPanel=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"}
var g_options={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:false,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_shadow:false,slider_video_constantsize:false,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:true,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:true,slider_control_zoom:true,slider_zoom_mousewheel:true,slider_vertical_scroll_ondrag:false,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:true,slider_links_newpage:false,slider_enable_bullets:false,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:true,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:true,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:true,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:false,slider_enable_fullscreen_button:true,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:false,slider_enable_zoom_panel:true,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:false,slider_controls_always_on:false,slider_controls_appear_ontap:true,slider_controls_appear_duration:300,slider_enable_text_panel:true,slider_textpanel_always_on:true,slider_videoplay_button_type:"square"};var g_defaultsProgressBar={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0};var g_temp={isRunOnce:false,isTextPanelSaparateHover:false,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:true,currentControlsMode:"image"};function __________GENERAL___________(){};function initSlider(objGallery,objOptions,optionsPrefix){g_gallery=objGallery;if(optionsPrefix){g_optionsPrefix=optionsPrefix;objOptions=g_functions.convertCustomPrefixOptions(objOptions,g_optionsPrefix,"slider");}g_objGallery=jQuery(objGallery);var objects=g_gallery.getObjects();g_objWrapper=objects.g_objWrapper;g_objThumbs=objects.g_objThumbs;if(objOptions.hasOwnProperty("slider_progress_indicator_type"))g_options.slider_progress_indicator_type=objOptions.slider_progress_indicator_type;if(g_options.slider_progress_indicator_type=="bar"){g_options=jQuery.extend(g_options,g_defaultsProgressBar);}if(objOptions)t.setOptions(objOptions);processOptions();if(g_options.slider_enable_bullets==true){g_objBullets=new UGBullets();var bulletsOptions={bullets_skin:g_options.slider_bullets_skin,bullets_space_between:g_options.slider_bullets_space_between}
g_objBullets.init(g_gallery,bulletsOptions);}if(g_options.slider_enable_text_panel){g_objTextPanel=new UGTextPanel();g_objTextPanel.init(g_gallery,g_options,"slider");}if(g_options.slider_enable_zoom_panel){g_objZoomPanel=new UGZoomButtonsPanel();g_objZoomPanel.init(t,g_options);}var galleryID=g_gallery.getGalleryID();g_objVideoPlayer.init(g_options,false,galleryID);}function runSlider(){if(g_temp.isRunOnce==true)return(false);g_temp.isRunOnce=true;if(g_options.slider_background_color){var bgColor=g_options.slider_background_color;if(g_options.slider_background_opacity!=1)bgColor=g_functions.convertHexToRGB(bgColor,g_options.slider_background_opacity);g_objSlider.css("background-color",bgColor);}else if(g_options.slider_background_opacity!=1){bgColor=g_functions.convertHexToRGB("#000000",g_options.slider_background_opacity);g_objSlider.css("background-color",bgColor);}if(g_options.slider_control_swipe==true){g_objTouchSlider=new UGTouchSliderControl();g_objTouchSlider.init(t,g_options);}if(g_options.slider_control_zoom==true){g_objZoomSlider=new UGZoomSliderControl();g_objZoomSlider.init(t,g_options);}if(g_objTextPanel)g_objTextPanel.run();initEvents();}function processOptions(){var galleryOptions=g_gallery.getOptions();var globalSkin=galleryOptions.gallery_skin;if(g_options.slider_bullets_skin=="")g_options.slider_bullets_skin=globalSkin;if(g_options.slider_arrows_skin=="")g_options.slider_arrows_skin=globalSkin;if(g_options.slider_zoompanel_skin=="")g_options.slider_zoompanel_skin=globalSkin;if(g_options.slider_play_button_skin=="")g_options.slider_play_button_skin=globalSkin;if(g_options.slider_fullscreen_button_skin=="")g_options.slider_fullscreen_button_skin=globalSkin;g_options.video_enable_closebutton=g_options.slider_video_enable_closebutton;if(galleryOptions.gallery_mousewheel_role!="zoom")g_options.slider_zoom_mousewheel=false;}function getHtmlSlide(loaderClass,numSlide){var classVideoplay="ug-type-square";if(g_options.slider_videoplay_button_type=="round")classVideoplay="ug-type-round";html="";html+="<div class='ug-slide-wrapper ug-slide"+numSlide+"'>";html+="<div class='ug-item-wrapper'></div>";html+="<div class='ug-slider-preloader "+loaderClass+"'></div>";html+="<div class='ug-button-videoplay "+classVideoplay+"' style='display:none'></div>";html+="</div>";return(html);}function setHtmlSlider(objParent){if(objParent)g_objWrapper=objParent;var loaderClass=getLoaderClass();var galleryOptions=g_gallery.getOptions();var html="<div class='ug-slider-wrapper'>";html+="<div class='ug-slider-inner'>";html+=getHtmlSlide(loaderClass,1);html+=getHtmlSlide(loaderClass,2);html+=getHtmlSlide(loaderClass,3);html+="</div>";if(g_options.slider_enable_arrows==true){html+="<div class='ug-slider-control ug-arrow-left ug-skin-"+g_options.slider_arrows_skin+"'></div>";html+="<div class='ug-slider-control ug-arrow-right ug-skin-"+g_options.slider_arrows_skin+"'></div>";}if(g_options.slider_enable_play_button==true){html+="<div class='ug-slider-control ug-button-play ug-skin-"+g_options.slider_play_button_skin+"'></div>";}if(g_options.slider_enable_fullscreen_button==true){html+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+g_options.slider_fullscreen_button_skin+"'></div>";}html+="</div>";g_objWrapper.append(html);g_objSlider=g_objWrapper.children(".ug-slider-wrapper");g_objInner=g_objSlider.children(".ug-slider-inner");g_objSlide1=g_objInner.children(".ug-slide1");g_objSlide2=g_objInner.children(".ug-slide2");g_objSlide3=g_objInner.children(".ug-slide3");g_objSlide1.data("slidenum",1);g_objSlide2.data("slidenum",2);g_objSlide3.data("slidenum",3);if(g_objBullets)g_objBullets.appendHTML(g_objSlider);if(g_options.slider_enable_arrows==true){g_objArrowLeft=g_objSlider.children(".ug-arrow-left");g_objArrowRight=g_objSlider.children(".ug-arrow-right");}if(g_options.slider_enable_play_button==true){g_objButtonPlay=g_objSlider.children(".ug-button-play");}if(g_options.slider_enable_fullscreen_button==true){g_objButtonFullscreen=g_objSlider.children(".ug-button-fullscreen");}if(g_options.slider_enable_progress_indicator==true){g_objProgress=g_functions.initProgressIndicator(g_options.slider_progress_indicator_type,g_options,g_objSlider);var finalType=g_objProgress.getType();if(finalType=="bar"&&g_options.slider_progress_indicator_type=="pie"){g_options.slider_progress_indicator_type="bar";g_options=jQuery.extend(g_options,g_defaultsProgressBar);}g_gallery.setProgressIndicator(g_objProgress);}if(g_options.slider_enable_text_panel==true){g_objTextPanel.appendHTML(g_objSlider);if(g_options.slider_textpanel_always_on==false){var panelElement=g_objTextPanel.getElement();panelElement.hide().data("isHidden",true);g_temp.isTextPanelSaparateHover=true;}}if(g_options.slider_enable_zoom_panel==true){g_objZoomPanel.appendHTML(g_objSlider);}g_objVideoPlayer.setHtml(g_objInner);}function positionSlideElements(objSlide){var objPreloader=getSlidePreloader(objSlide);g_functions.placeElementInParentCenter(objPreloader);var objVideoPlayButton=getSlideVideoPlayButton(objSlide);g_functions.placeElementInParentCenter(objVideoPlayButton);}function positionElements(){if(g_objBullets){objBullets=g_objBullets.getElement();g_functions.placeElement(objBullets,g_options.slider_bullets_align_hor,g_options.slider_bullets_align_vert,g_options.slider_bullets_offset_hor,g_options.slider_bullets_offset_vert);g_functions.placeElement(objBullets,g_options.slider_bullets_align_hor,g_options.slider_bullets_align_vert,g_options.slider_bullets_offset_hor,g_options.slider_bullets_offset_vert);}if(g_options.slider_enable_arrows==true){g_functions.placeElement(g_objArrowLeft,g_options.slider_arrow_left_align_hor,g_options.slider_arrow_left_align_vert,g_options.slider_arrow_left_offset_hor,g_options.slider_arrow_left_offset_vert);g_functions.placeElement(g_objArrowRight,g_options.slider_arrow_right_align_hor,g_options.slider_arrow_left_align_vert,g_options.slider_arrow_right_offset_hor,g_options.slider_arrow_right_offset_vert);}if(g_options.slider_controls_always_on==false)hideControls(true);if(g_objProgress){var objProgressElement=g_objProgress.getElement();if(g_options.slider_progress_indicator_type=="bar"){var sliderWidth=g_objSlider.width();g_objProgress.setSize(sliderWidth);g_functions.placeElement(objProgressElement,"left",g_options.slider_progress_indicator_align_vert,0,g_options.slider_progress_indicator_offset_vert);}else{g_functions.placeElement(objProgressElement,g_options.slider_progress_indicator_align_hor,g_options.slider_progress_indicator_align_vert,g_options.slider_progress_indicator_offset_hor,g_options.slider_progress_indicator_offset_vert);}}if(g_objTextPanel)g_objTextPanel.positionPanel();placeControlsElements();positionSlideElements(g_objSlide1);positionSlideElements(g_objSlide2);positionSlideElements(g_objSlide3);checkMobileModify();}function placeControlsElements(){if(g_objButtonPlay)g_functions.placeElement(g_objButtonPlay,g_options.slider_play_button_align_hor,g_options.slider_play_button_align_vert,g_options.slider_play_button_offset_hor,g_options.slider_play_button_offset_vert);if(g_objButtonFullscreen)g_functions.placeElement(g_objButtonFullscreen,g_options.slider_fullscreen_button_align_hor,g_options.slider_fullscreen_button_align_vert,g_options.slider_fullscreen_button_offset_hor,g_options.slider_fullscreen_button_offset_vert);if(g_objZoomPanel){var zoomPanelElement=g_objZoomPanel.getElement();g_functions.placeElement(zoomPanelElement,g_options.slider_zoompanel_align_hor,g_options.slider_zoompanel_align_vert,g_options.slider_zoompanel_offset_hor,g_options.slider_zoompanel_offset_vert);}}function positionSlides(){var slides=t.getSlidesReference();var posX=0,posY=0,innerWidth;var posXPrev=0,posXCurrent=0,posXNext,nextHasItem,prevHasItem;nextHasItem=t.isSlideHasItem(slides.objNextSlide);prevHasItem=t.isSlideHasItem(slides.objPrevSlide);if(prevHasItem){posXCurrent=slides.objPrevSlide.outerWidth();slides.objPrevSlide.css("z-index",1);}else
slides.objPrevSlide.hide();posXNext=posXCurrent+slides.objCurrentSlide.outerWidth();innerWidth=posXNext;if(nextHasItem){innerWidth=posXNext+slides.objNextSlide.outerWidth();slides.objPrevSlide.css("z-index",2);}else
slides.objNextSlide.hide();slides.objCurrentSlide.css("z-index",3);g_functions.placeElement(slides.objCurrentSlide,posXCurrent,posY);g_objInner.css({"left":-posXCurrent+"px",width:innerWidth+"px"});if(prevHasItem){g_functions.placeElement(slides.objPrevSlide,posXPrev,posY);g_functions.showElement(slides.objPrevSlide);}if(nextHasItem){g_functions.showElement(slides.objNextSlide);g_functions.placeElement(slides.objNextSlide,posXNext,posY);}}function resizeSlideItem(objSlide){var index=objSlide.data("index");if(index===undefined||index==null)return(false);var objItem=g_gallery.getItem(index);if(!objItem)return(false);setItemToSlide(objSlide,objItem);}function showPreloader(objPreloader){objPreloader.stop(true).show(100);}function hidePreloader(objPreloader){objPreloader.stop(true).hide(100);}function setImageDesign(objImage,slideType){var css={};if(g_options.slider_image_border==true){css["border-style"]="solid";css["border-width"]=g_options.slider_image_border_width+"px";css["border-color"]=g_options.slider_image_border_color;css["border-radius"]=g_options.slider_image_border_radius;}if(slideType!="image"&&g_options.slider_video_constantsize==true)css["background-color"]="#000000";if(g_options.slider_image_shadow==true){css["box-shadow"]="3px 3px 10px 0px #353535";}objImage.css(css);}function scaleImageConstantSize(objImage,objItem){var constantWidth=g_options.slider_video_constantsize_width;var constantHeight=g_options.slider_video_constantsize_height;var scaleMode=g_options.slider_video_constantsize_scalemode;g_functions.scaleImageExactSizeInParent(objImage,objItem.imageWidth,objItem.imageHeight,constantWidth,constantHeight,scaleMode);}function setImageToSlide(objSlide,objItem,isForce){var objItemWrapper=objSlide.children(".ug-item-wrapper");var objPreloader=getSlidePreloader(objSlide);if(typeof objItem.urlImage=="undefined"||objItem.urlImage=="")throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var urlImage=objItem.urlImage;var currentImage=objSlide.data("urlImage");objSlide.data("urlImage",urlImage);var scaleMode=t.getScaleMode(objSlide);var slideType=t.getSlideType(objSlide);objPadding=t.getObjImagePadding();if(currentImage==urlImage&&isForce!==true){var objImage=objItemWrapper.children("img");if(objItem.imageWidth==0||objItem.imageHeight==0){g_gallery.checkFillImageSize(objImage,objItem);}if(slideType!="image"&&g_options.slider_video_constantsize==true)scaleImageConstantSize(objImage,objItem);else
g_functions.scaleImageFitParent(objImage,objItem.imageWidth,objItem.imageHeight,scaleMode,objPadding);g_objThis.trigger(t.events.AFTER_PUT_IMAGE,objSlide);}else{objImage=g_functions.placeImageInsideParent(urlImage,objItemWrapper,objItem.imageWidth,objItem.imageHeight,scaleMode,objPadding);if(objItem.isBigImageLoaded==true){objImage.fadeTo(0,1);hidePreloader(objPreloader);if(slideType!="image"&&g_options.slider_video_constantsize==true)scaleImageConstantSize(objImage,objItem);g_objThis.trigger(t.events.AFTER_PUT_IMAGE,objSlide);}else{objImage.fadeTo(0,0);showPreloader(objPreloader);objSlide.data("isLoading",true);if(t.isSlideCurrent(objSlide))g_objThis.trigger(t.events.CURRENTSLIDE_LOAD_START);objImage.data("itemIndex",objItem.index);objImage.on("load",function(){var objImage=jQuery(this);var itemIndex=objImage.data("itemIndex");objImage.fadeTo(0,1);var objSlide=objImage.parent().parent();var slideType=t.getSlideType(objSlide);var objPreloader=getSlidePreloader(objSlide);var objPadding=t.getObjImagePadding();var scaleMode=t.getScaleMode(objSlide);hidePreloader(objPreloader);objSlide.data("isLoading",false);if(t.isSlideCurrent(objSlide))g_objThis.trigger(t.events.CURRENTSLIDE_LOAD_END);g_gallery.onItemBigImageLoaded(null,objImage);var objItem=g_gallery.getItem(itemIndex);if(slideType!="image"&&g_options.slider_video_constantsize==true)scaleImageConstantSize(objImage,objItem);else
g_functions.scaleImageFitParent(objImage,objItem.imageWidth,objItem.imageHeight,scaleMode,objPadding);objImage.fadeTo(0,1);g_objThis.trigger(t.events.AFTER_PUT_IMAGE,objSlide);});}}if(objImage)setImageDesign(objImage,slideType);}function setItemToSlide(objSlide,objItem){try{var objItemWrapper=objSlide.children(".ug-item-wrapper");if(objItem==null){objItemWrapper.html("");objSlide.removeData("index");objSlide.removeData("type");objSlide.removeData("urlImage");return(false);}var currentIndex=objSlide.data("index");objSlide.data("index",objItem.index);objSlide.data("type",objItem.type);if(g_options.slider_enable_links==true&&objItem.type=="image"){if(objItem.link)objSlide.addClass("ug-slide-clickable");else
objSlide.removeClass("ug-slide-clickable");}setImageToSlide(objSlide,objItem);var objVideoPlayButton=getSlideVideoPlayButton(objSlide);switch(objItem.type){case"image":objVideoPlayButton.hide();break;default:objVideoPlayButton.show();break;}}catch(error){if(typeof error.fileName!="undefined"&&error.fileName=="showbig")g_gallery.showErrorMessageReplaceGallery(error.message);objItemWrapper.html("");throw new Error(error);return(true);}}function hideTextPanel(){if(!g_objTextPanel)return(false);if(isTextPanelHidden()==true)return(false);var panelElement=g_objTextPanel.getElement();var animationTime=0;if(g_temp.isTextPanelSaparateHover==true||g_options.slider_textpanel_always_on==true){animationTime=g_options.slider_controls_appear_duration;}panelElement.stop().fadeTo(animationTime,0);panelElement.data("isHidden",true);}function showTextPanel(){if(!g_objTextPanel)return(false);if(isTextPanelHidden()==false)return(false);var panelElement=g_objTextPanel.getElement();var animationTime=0;if(g_temp.isTextPanelSaparateHover==true||g_options.slider_textpanel_always_on==true){panelElement.show();g_objTextPanel.positionElements();animationTime=g_options.slider_controls_appear_duration;}panelElement.stop().show().fadeTo(animationTime,1);panelElement.data("isHidden",false);}function isTextPanelHidden(){var panelElement=g_objTextPanel.getElement();var isHidden=panelElement.data("isHidden");if(isHidden===false)return(false);return(true);}function validateSlideType(type,objSlide){if(objSlide==undefined)var objSlide=t.getCurrentSlide();var slideType=t.getSlideType(objSlide);if(slideType!=type){throw new Error("Wrong slide type: "+slideType+", should be: "+type);return(false);}return(true);}function __________VIDEO_PLAYER_______(){};function setVideoPlayerPosition(){var objCurrentSlide=t.getCurrentSlide();var objImage=t.getSlideImage(objCurrentSlide);var slideSize=g_functions.getElementSize(objCurrentSlide);var left=slideSize.left;var top=slideSize.top;if(g_options.slider_video_constantsize==true){var imageSize=g_functions.getElementSize(objImage);left+=imageSize.left;top+=imageSize.top;}else{left+=g_options.slider_video_padding_left;top+=g_options.slider_video_padding_top;}g_objVideoPlayer.setPosition(left,top);}function setVideoPlayerConstantSize(){var videoWidth=g_options.slider_video_constantsize_width;var videoHeight=g_options.slider_video_constantsize_height;g_objVideoPlayer.setSize(videoWidth,videoHeight);var videoElement=g_objVideoPlayer.getObject();setImageDesign(videoElement);}function __________TRANSITION_______(){};function doTransition(direction,objItem,forceTransition){g_objThis.trigger(t.events.TRANSITION_START);var transition=g_options.slider_transition;if(forceTransition)transition=forceTransition;t.stopSlideAction(null,true);switch(transition){default:case"fade":transitionFade(objItem);break;case"slide":transitionSlide(direction,objItem);break;case"lightbox_open":transitionFade(objItem,false,true);break;}}this.switchSlideNums=function(direction){g_objThis.trigger(t.events.BEFORE_SWITCH_SLIDES);switch(direction){case"left":var currentNum=g_temp.numCurrent;g_temp.numCurrent=g_temp.numNext;g_temp.numNext=g_temp.numPrev;g_temp.numPrev=currentNum;break;case"right":var currentNum=g_temp.numCurrent;g_temp.numCurrent=g_temp.numPrev;g_temp.numPrev=g_temp.numNext;g_temp.numNext=currentNum;break;default:throw new Error("wrong direction: "+direction);break;}g_objThis.trigger(t.events.ITEM_CHANGED);}
function transitionSlide(direction,objItem){var animating=t.isAnimating();if(animating==true){g_temp.itemWaiting=objItem;return(true);}if(g_temp.itemWaiting!=null)g_temp.itemWaiting=null;var slides=t.getSlidesReference();switch(direction){case"right":setItemToSlide(slides.objPrevSlide,objItem);positionSlides();var posPrev=g_functions.getElementSize(slides.objPrevSlide);var destX=-posPrev.left;t.switchSlideNums("right");break;case"left":setItemToSlide(slides.objNextSlide,objItem);positionSlides();var posNext=g_functions.getElementSize(slides.objNextSlide);var destX=-posNext.left;t.switchSlideNums("left");break;default:throw new Error("wrong direction: "+direction);break;}var transSpeed=g_options.slider_transition_speed;var transEasing=g_options.slider_transition_easing;var animateParams={duration:transSpeed,easing:transEasing,queue:false,always:function(){t.stopSlideAction();g_objVideoPlayer.hide();if(g_temp.itemWaiting!=null){var direction=getSlideDirection(g_temp.itemWaiting);transitionSlide(direction,g_temp.itemWaiting);}else{t.placeNabourItems();g_objThis.trigger(t.events.TRANSITION_END);}}};g_objInner.animate({left:destX+"px"},animateParams);}function animateOpacity(objItem,opacity,completeFunction){if(completeFunction)objItem.fadeTo(g_options.slider_transition_speed,opacity,completeFunction);else
objItem.fadeTo(g_options.slider_transition_speed,opacity);}function transitionFade(objItem,noAnimation,noHidePlayer){if(!noAnimation)var noAnimation=false;var slides=t.getSlidesReference();setItemToSlide(slides.objNextSlide,objItem);var objCurrentPos=g_functions.getElementSize(slides.objCurrentSlide);g_functions.placeElement(slides.objNextSlide,objCurrentPos.left,objCurrentPos.top);var currentNum=g_temp.numCurrent;g_temp.numCurrent=g_temp.numNext;g_temp.numNext=currentNum;g_objThis.trigger(t.events.ITEM_CHANGED);slides.objNextSlide.stop(true);slides.objCurrentSlide.stop(true);if(noAnimation==true){slides.objCurrentSlide.fadeTo(0,0);slides.objNextSlide.fadeTo(0,1);t.placeNabourItems();g_objThis.trigger(t.events.TRANSITION_END);if(noHidePlayer!==true)g_objVideoPlayer.hide();}else{slides.objNextSlide.fadeTo(0,0);animateOpacity(slides.objCurrentSlide,0,function(){t.placeNabourItems();g_objThis.trigger(t.events.TRANSITION_END);if(noHidePlayer!==true)g_objVideoPlayer.hide();});if(g_objVideoPlayer.isVisible()==true){var videoElement=g_objVideoPlayer.getObject();animateOpacity(videoElement,0);}animateOpacity(slides.objNextSlide,1);}}function __________CONTROLS_OBJECT_______(){};function modifyForMobile(){if(g_options.slider_fullscreen_button_mobilehide==true&&g_objButtonFullscreen)g_objButtonFullscreen.hide();if(g_options.slider_play_button_mobilehide==true&&g_objButtonPlay)g_objButtonPlay.hide();if(g_options.slider_zoompanel_mobilehide==true&&g_objZoomPanel)g_objZoomPanel.getElement().hide();}function modifyForDesctop(){if(g_options.slider_fullscreen_button_mobilehide==true&&g_objButtonFullscreen)g_objButtonFullscreen.show();if(g_options.slider_play_button_mobilehide==true&&g_objButtonPlay)g_objButtonPlay.show();if(g_options.slider_zoompanel_mobilehide==true&&g_objZoomPanel)g_objZoomPanel.getElement().show();}function checkMobileModify(){var isMobile=g_gallery.isMobileMode();if(isMobile)modifyForMobile();else
modifyForDesctop();}function getControlsObjects(){var objControl=g_objSlider.children(".ug-slider-control");return(objControl);}function hideControls(noAnimation){if(g_functions.isTimePassed("sliderControlsToggle")==false)return(false);if(g_temp.isControlsVisible==false)return(false);if(!noAnimation)var noAnimation=false;var objControls=getControlsObjects();if(noAnimation===true)objControls.stop().fadeTo(0,0).hide();else{objControls.stop().fadeTo(g_options.slider_controls_appear_duration,0,function(){objControls.hide()});}g_temp.isControlsVisible=false;}function checkAndShowControls(noAnimation){if(g_options.slider_controls_always_on==true)showControls(noAnimation);}function showControls(noAnimation){if(g_functions.isTimePassed("sliderControlsToggle")==false)return(false);if(g_temp.isControlsVisible==true)return(true);if(!noAnimation)var noAnimation=false;var objControls=getControlsObjects();if(noAnimation===true)objControls.stop().show();else{objControls.stop().show().fadeTo(0,0);objControls.fadeTo(g_options.slider_controls_appear_duration,1);}g_temp.isControlsVisible=true;}function toggleControls(){if(g_temp.isControlsVisible==false)showControls();else
hideControls();}function setControlsMode(mode){if(mode==g_temp.currentControlsMode)return(false);switch(mode){case"image":if(g_objZoomPanel)g_objZoomPanel.getElement().show();break;case"video":if(g_objZoomPanel)g_objZoomPanel.getElement().hide();break;default:throw new Error("wrong controld mode: "+mode);break;}g_temp.currentControlsMode=mode;}function __________EVENTS___________(){};function onItemChange(){var objItem=g_gallery.getSelectedItem();t.setItem(objItem);var itemIndex=objItem.index;if(g_objBullets)g_objBullets.setActive(itemIndex);if(g_objTextPanel){if(g_temp.isTextPanelSaparateHover==false)showTextPanel();}if(objItem.type=="image"){setControlsMode("image");}else{setControlsMode("video");}}function onBulletClick(event,bulletIndex){g_gallery.selectItem(bulletIndex);}function onClick(event){if(g_objTouchSlider&&g_objTouchSlider.isTapEventOccured(event)==false)return(true);g_objThis.trigger(t.events.CLICK,event);}function onActualClick(){var currentSlide=t.getCurrentSlide();var isClickable=currentSlide.hasClass("ug-slide-clickable");var objItem=t.getCurrentItem();if(isClickable){if(g_options.slider_links_newpage==false){location.href=objItem.link;}else{window.open(objItem.link,'_blank');}return(true);}if(g_options.slider_controls_always_on==false&&g_options.slider_controls_appear_ontap==true&&t.isCurrentSlideType("image")==true){toggleControls();if(g_objTextPanel&&g_options.slider_textpanel_always_on==true&&t.isCurrentSlideType("image")&&t.isCurrentSlideImageFit())showTextPanel();}}function onZoomChange(event){if(g_objTextPanel&&t.isCurrentSlideType("image")&&t.isCurrentSlideImageFit()==false)hideTextPanel();}function onMouseEnter(){showControls();}function onMouseLeave(){hideControls();}function objVideoPlayClick(objButton){var objSlide=objButton.parent();t.startSlideAction(objSlide);}function onVideoPlayerShow(){if(g_gallery.isPlayMode()){g_gallery.pausePlaying();}g_objThis.trigger(t.events.ACTION_START);}function onVideoPlayerHide(){if(g_gallery.isPlayMode()){g_gallery.continuePlaying();}g_objThis.trigger(t.events.ACTION_END);}function onItemImageUpdate(event,index,urlImage){if(g_objSlide1.data("index")==index){objItem=g_gallery.getItem(index);setImageToSlide(g_objSlide1,objItem,true);}if(g_objSlide2.data("index")==index){objItem=g_gallery.getItem(index);setImageToSlide(g_objSlide2,objItem,true);}if(g_objSlide3.data("index")==index){objItem=g_gallery.getItem(index);setImageToSlide(g_objSlide3,objItem,true);}}function onSlideImageLoaded(data,objSlide){objSlide=jQuery(objSlide);var objImage=t.getSlideImage(objSlide);var objButtonVideoPlay=getSlideVideoPlayButton(objSlide);var objSize=g_functions.getElementSize(objImage);g_functions.placeElement(objButtonVideoPlay,"center","middle",objSize.left,objSize.top,objImage);}function initSlideEvents(objSlide){var objVideoPlayButton=getSlideVideoPlayButton(objSlide);g_functions.addClassOnHover(objVideoPlayButton);g_functions.setButtonOnClick(objVideoPlayButton,objVideoPlayClick);}function initEvents(){g_objGallery.on(g_gallery.events.ITEM_IMAGE_UPDATED,onItemImageUpdate);g_objGallery.on(g_gallery.events.ITEM_CHANGE,onItemChange);if(g_objBullets)jQuery(g_objBullets).on(g_objBullets.events.BULLET_CLICK,onBulletClick);if(g_options.slider_enable_arrows==true){g_functions.addClassOnHover(g_objArrowRight,"ug-arrow-hover");g_functions.addClassOnHover(g_objArrowLeft,"ug-arrow-hover");g_gallery.setNextButton(g_objArrowRight);g_gallery.setPrevButton(g_objArrowLeft);}if(g_options.slider_controls_always_on==false){g_objSlider.hover(onMouseEnter,onMouseLeave);}g_objSlider.on("touchend click",onClick);g_objThis.on(t.events.CLICK,onActualClick);if(g_objTextPanel&&g_temp.isTextPanelSaparateHover==true){g_objSlider.hover(showTextPanel,hideTextPanel);}if(g_objButtonPlay){g_functions.addClassOnHover(g_objButtonPlay,"ug-button-hover");g_gallery.setPlayButton(g_objButtonPlay);}if(g_objButtonFullscreen){g_functions.addClassOnHover(g_objButtonFullscreen,"ug-button-hover");g_gallery.setFullScreenToggleButton(g_objButtonFullscreen);}if(g_objZoomSlider){g_objThis.on(t.events.ZOOM_CHANGE,onZoomChange);}if(g_objZoomPanel)g_objZoomPanel.initEvents();g_objVideoPlayer.initEvents();jQuery(g_objVideoPlayer).on(g_objVideoPlayer.events.SHOW,onVideoPlayerShow);jQuery(g_objVideoPlayer).on(g_objVideoPlayer.events.HIDE,onVideoPlayerHide);initSlideEvents(g_objSlide1);initSlideEvents(g_objSlide2);initSlideEvents(g_objSlide3);g_objThis.on(t.events.AFTER_PUT_IMAGE,onSlideImageLoaded);g_objSlider.delegate(".ug-item-wrapper img","mouseenter",function(event){g_objThis.trigger(t.events.IMAGE_MOUSEENTER);});g_objSlider.delegate(".ug-item-wrapper img","mouseleave",function(event){var isMouseOver=t.isMouseInsideSlideImage(event);if(isMouseOver==false)g_objThis.trigger(t.events.IMAGE_MOUSELEAVE);});}this.destroy=function(){g_objThis.off(t.events.AFTER_PUT_IMAGE);g_objGallery.off(g_gallery.events.ITEM_IMAGE_UPDATED);g_objGallery.off(g_gallery.events.ITEM_CHANGE);if(g_objBullets)jQuery(g_objBullets).on(g_objBullets.events.BULLET_CLICK);g_objSlider.off("mouseenter");g_objSlider.off("mouseleave");g_objSlider.off("touchend");g_objSlider.off("click");g_objThis.off(t.events.CLICK);if(g_objZoomSlider)g_objThis.off(t.events.ZOOM_CHANGE);g_objThis.off(t.events.BEFORE_SWITCH_SLIDES);jQuery(g_objVideoPlayer).off(g_objVideoPlayer.events.SHOW);jQuery(g_objVideoPlayer).off(g_objVideoPlayer.events.HIDE);g_objVideoPlayer.destroy();g_objSlider.undelegate(".ug-item-wrapper img","mouseenter");g_objSlider.undelegate(".ug-item-wrapper img","mouseleave");}
function __________GETTERS___________(){};function getLoaderClass(){var loaderClass;switch(g_options.slider_loader_type){default:case 1:loaderClass="ug-loader1";break;case 2:loaderClass="ug-loader2";break;case 3:loaderClass="ug-loader3";break;case 4:loaderClass="ug-loader4";break;case 5:loaderClass="ug-loader5";break;case 6:loaderClass="ug-loader6";break;case 7:loaderClass="ug-loader7";break;case 8:loaderClass="ug-loader8";break;case 9:loaderClass="ug-loader9";break;}if(g_options.slider_loader_color=="black")loaderClass+=" ug-loader-black";return(loaderClass);}function getSlideByNum(num){switch(num){case 1:return(g_objSlide1);break;case 2:return(g_objSlide2);break;case 3:return(g_objSlide3);break;default:throw new Error("wrong num: "+num);break;}}function getSlideDirection(objItem){var slides=t.getSlidesReference();var currentIndex=slides.objCurrentSlide.data("index");var nextIndex=objItem.index;var direction="left";if(currentIndex>nextIndex)direction="right";return(direction);}function getSlidePreloader(objSlide){if(!objSlide)var objSlide=t.getCurrentSlide();var objPreloader=objSlide.children(".ug-slider-preloader");return(objPreloader);}function getSlideVideoPlayButton(objSlide){var objButton=objSlide.children(".ug-button-videoplay");return(objButton);}function getSlideItem(objSlide){if(!objSlide)var objSlide=t.getCurrentSlide();var index=objSlide.data("index");if(index==undefined)return(null);var objItem=g_gallery.getItem(index);return(objItem);}function getNumSlide(objSlide){var numSlide=objSlide.data("slidenum");return(numSlide);}this.________EXTERNAL_GENERAL___________=function(){};this.init=function(objGallery,objOptions,optionsPrefix){initSlider(objGallery,objOptions,optionsPrefix);}
this.getSlideImage=function(objSlide){if(!objSlide)var objSlide=t.getCurrentSlide();var objImage=objSlide.find(".ug-item-wrapper img");return(objImage);}
this.setHtml=function(objParent){setHtmlSlider(objParent);}
this.run=function(){runSlider();}
this.isInnerInPlace=function(){var slides=t.getSlidesReference();var posCurrent=g_functions.getElementSize(slides.objCurrentSlide);var inPlaceX=-posCurrent.left;var objInnerSize=g_functions.getElementSize(g_objInner);if(inPlaceX==objInnerSize.left)return(true);else
return(false);}
this.isAnimating=function(){var isAnimated=g_objInner.is(":animated");return(isAnimated);}
this.isSlideCurrent=function(objSlide){var numSlide=objSlide.data("slidenum");if(g_temp.numCurrent==numSlide)return(true);return(false);}
this.isSlideHasItem=function(objSlide){var index=objSlide.data("index");if(index===undefined||index===null)return(false);return(true);}
this.getObjImagePadding=function(){var objPadding={padding_top:g_options.slider_image_padding_top,padding_bottom:g_options.slider_image_padding_bottom,padding_left:g_options.slider_image_padding_left,padding_right:g_options.slider_image_padding_right};return(objPadding);}
this.getSlidesReference=function(){var obj={objPrevSlide:getSlideByNum(g_temp.numPrev),objNextSlide:getSlideByNum(g_temp.numNext),objCurrentSlide:getSlideByNum(g_temp.numCurrent)};return(obj);}
this.getCurrentSlide=function(){var slides=t.getSlidesReference();return(slides.objCurrentSlide);}
this.getCurrentItemIndex=function(){var slides=t.getSlidesReference();var currentIndex=slides.objCurrentSlide.data("index");if(currentIndex===null||currentIndex===undefined)currentIndex=-1;return(currentIndex);}
this.getCurrentItem=function(){var currentIndex=t.getCurrentItemIndex();if(currentIndex==-1)return(null);var objItem=g_gallery.getItem(currentIndex);return(objItem);}
this.getSlideType=function(objSlide){if(objSlide==undefined)objSlide=t.getCurrentSlide();var type=objSlide.data("type");return(type);}
this.isMouseInsideSlideImage=function(event){var objImage=t.getSlideImage();var point=g_functions.getMousePosition(event);if(point.pageX===undefined)point=g_objTouchSlider.getLastMousePos();var pointImg=g_functions.getMouseElementPoint(point,objImage);var objSize=g_functions.getElementSize(objImage);isMouseInside=g_functions.isPointInsideElement(pointImg,objSize);return(isMouseInside);}
this.isCurrentSlideType=function(type){var currentSlideType=t.getSlideType();if(currentSlideType==type)return(true);return(false);}
this.isCurrentSlideLoadingImage=function(){var currentSlide=t.getCurrentSlide();var isLoading=currentSlide.data("isLoading");if(isLoading===true)return(true);return(false);}
this.setItem=function(objItem,forseTransition){var slides=t.getSlidesReference();var currentIndex=slides.objCurrentSlide.data("index");var nextIndex=objItem.index;if(nextIndex==currentIndex){return(true);}var isFirstSlide=(currentIndex==undefined);if(isFirstSlide){setItemToSlide(slides.objCurrentSlide,objItem);t.placeNabourItems();}else{var direction="left";var numItems=g_gallery.getNumItems();if(currentIndex==(numItems-1)&&nextIndex==0)direction="left";else
if(currentIndex==0&&nextIndex==(numItems-1))direction="right";else
if(currentIndex>nextIndex)direction="right";doTransition(direction,objItem,forseTransition);}}
this.placeNabourItems=function(){var slides=t.getSlidesReference();var currentIndex=slides.objCurrentSlide.data("index");var itemPrev=g_gallery.getPrevItem(currentIndex);var itemNext=g_gallery.getNextItem(currentIndex);setItemToSlide(slides.objNextSlide,itemNext);setItemToSlide(slides.objPrevSlide,itemPrev);positionSlides();}
this.________EXTERNAL_API___________=function(){};this.stopSlideAction=function(objSlide,isPause){if(!objSlide)objSlide=t.getCurrentSlide();if(isPause===true)g_objVideoPlayer.pause();else
g_objVideoPlayer.hide();}
this.startSlideAction=function(objSlide){if(!objSlide)objSlide=t.getCurrentSlide();var objItem=getSlideItem(objSlide);if(objItem.type=="image")return(true)
if(g_options.slider_video_constantsize==true)setVideoPlayerConstantSize();setVideoPlayerPosition();g_objVideoPlayer.show();switch(objItem.type){case"youtube":g_objVideoPlayer.playYoutube(objItem.videoid);break;case"vimeo":g_objVideoPlayer.playVimeo(objItem.videoid);break;case"html5video":g_objVideoPlayer.playHtml5Video(objItem.videoogv,objItem.videowebm,objItem.videomp4,objItem.urlImage);break;case"soundcloud":g_objVideoPlayer.playSoundCloud(objItem.trackid);break;case"wistia":g_objVideoPlayer.playWistia(objItem.videoid);break;}}
this.getScaleMode=function(objSlide){if(!objSlide)var objSlide=t.getCurrentSlide();var slideType=t.getSlideType(objSlide);if(slideType!="image")return(g_options.slider_scale_mode_media);if(g_options.slider_scale_mode==g_options.slider_scale_mode_fullscreen)return(g_options.slider_scale_mode);if(g_gallery.isFullScreen()==true)return(g_options.slider_scale_mode_fullscreen);else
return(g_options.slider_scale_mode);}
this.getObjects=function(){var obj={g_objSlider:g_objSlider,g_objInner:g_objInner,g_options:g_options,g_objZoomSlider:g_objZoomSlider};return(obj);}
this.getObjZoom=function(){return(g_objZoomSlider);}
this.getOptions=function(){return(g_options);}
this.getElement=function(){return(g_objSlider);}
this.getVideoObject=function(){return(g_objVideoPlayer);}
this.isCurrentSlideImageFit=function(){var objSlide=t.getCurrentSlide();var slideType=t.getSlideType(objSlide);validateSlideType("image",objSlide);var objImage=t.getSlideImage(objSlide);if(objImage.length==0)return(false);var isFit=g_functions.isImageFitParent(objImage);return(isFit);}
this.isCurrentImageInPlace=function(){var objImage=t.getSlideImage();if(objImage.length==0)return(false);var scaleMode=t.getScaleMode();var objPadding=t.getObjImagePadding();var objItem=getSlideItem();var objParent=objImage.parent();var objFitSize=g_functions.getImageInsideParentData(objParent,objItem.imageWidth,objItem.imageHeight,scaleMode,objPadding);var objSize=g_functions.getElementSize(objImage);if(objFitSize.imageWidth==objSize.width)return(true);return(false);}
this.isSlideActionActive=function(){return g_objVideoPlayer.isVisible();}
this.isSwiping=function(){if(!g_objTouchSlider)return(false);var isActive=g_objTouchSlider.isTouchActive();return(isActive);}
this.isPreloading=function(){var objPreloader=getSlidePreloader();if(objPreloader.is(":visible"))return(true);return(false);}
this.setOptions=function(objOptions){if(g_optionsPrefix)objOptions=g_functions.convertCustomPrefixOptions(objOptions,g_optionsPrefix,"slider");g_options=jQuery.extend(g_options,objOptions);}
this.setSize=function(width,height){if(width<0||height<0)return(true);var objCssSlider={};objCssSlider["width"]=width+"px";objCssSlider["height"]=height+"px";g_objSlider.css(objCssSlider);var objCssInner={};objCssInner["height"]=height+"px";objCssInner["top"]="0px";objCssInner["left"]="0px";g_objInner.css(objCssInner);var objCssSlide={};objCssSlide["height"]=height+"px";objCssSlide["width"]=width+"px";g_objSlide1.css(objCssSlide);g_objSlide2.css(objCssSlide);g_objSlide3.css(objCssSlide);var itemWidth=width-g_options.slider_item_padding_left-g_options.slider_item_padding_right;var itemHeight=height-g_options.slider_item_padding_top-g_options.slider_item_padding_bottom;var objCssItemWrapper={};objCssItemWrapper["width"]=itemWidth+"px";objCssItemWrapper["height"]=itemHeight+"px";objCssItemWrapper["top"]=g_options.slider_item_padding_top+"px";objCssItemWrapper["left"]=g_options.slider_item_padding_left+"px";g_objSlider.find(".ug-item-wrapper").css(objCssItemWrapper);if(g_objTextPanel){g_objTextPanel.setSizeByParent();}var currentSlideType=t.getSlideType();if(currentSlideType!="image"&&g_options.slider_video_constantsize==true){setVideoPlayerConstantSize();}else{var videoWidth=width-g_options.slider_video_padding_left-g_options.slider_video_padding_right;var videoHeight=height-g_options.slider_video_padding_top-g_options.slider_video_padding_bottom;g_objVideoPlayer.setSize(videoWidth,videoHeight);}positionElements();resizeSlideItem(g_objSlide1);resizeSlideItem(g_objSlide2);resizeSlideItem(g_objSlide3);positionSlides();}
this.refreshSlideItems=function(){if(t.isAnimating()==true)return(true);resizeSlideItem(g_objSlide1);resizeSlideItem(g_objSlide2);resizeSlideItem(g_objSlide3);positionSlides();}
this.isMouseOver=function(){return g_objSlider.ismouseover();}
this.setPosition=function(left,top){g_functions.placeElement(g_objSlider,left,top);}
this.zoomIn=function(){if(!g_objZoomSlider)return(true);g_objZoomSlider.zoomIn();}
this.zoomOut=function(){if(!g_objZoomSlider)return(true);g_objZoomSlider.zoomOut();}
this.zoomBack=function(){if(!g_objZoomSlider)return(true);g_objZoomSlider.zoomBack();}}
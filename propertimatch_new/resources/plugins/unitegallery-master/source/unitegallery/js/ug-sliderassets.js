function UGTextPanel(){var t=this;var g_objPanel,g_objParent,g_objTitle,g_objDesc;var g_objBG,g_objTextWrapper,g_gallery;var g_functions=new UGFunctions(),g_optionsPrefix="";var g_options={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:true,textpanel_enable_description:true,textpanel_enable_bg:true,textpanel_bg_color:"#000000",textpanel_bg_opacity:0.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_bg_css:{}};var g_temp={isFirstTime:true};function positionElementsTop(animateHeight,startY){if(!startY)var startY=g_options.textpanel_padding_top;var maxy=startY;if(g_objTitle){var titleY=maxy;g_functions.placeElement(g_objTitle,0,titleY);var objTitleSize=g_functions.getElementSize(g_objTitle);var maxy=objTitleSize.bottom;}var textDesc="";if(g_objDesc)textDesc=jQuery.trim(g_objDesc.text());if(textDesc!=""){var descY=maxy;if(g_objTitle)descY+=g_options.textpanel_padding_title_description;g_functions.placeElement(g_objDesc,0,descY);var objDescSize=g_functions.getElementSize(g_objDesc);maxy=objDescSize.bottom;}if(!g_options.textpanel_height){var panelHeight=maxy+g_options.textpanel_padding_bottom;setHeight(panelHeight,animateHeight);}}function getTotalTextHeight(){var totalHeight=0;if(g_objTitle)totalHeight+=g_objTitle.outerHeight();if(g_objDesc){var textDesc="";if(g_objDesc)textDesc=jQuery.trim(g_objDesc.text());if(textDesc!=""){if(g_objTitle)totalHeight+=g_options.textpanel_padding_title_description;totalHeight+=g_objDesc.outerHeight();}}return(totalHeight);}function positionElementsMiddle(){var totalTextHeight=getTotalTextHeight();var startY=(g_objTextWrapper.height()-totalTextHeight)/2;positionElementsTop(false,startY);}function positionElementBottom(){var totalTextHeight=getTotalTextHeight();var startY=g_objTextWrapper.height()-totalTextHeight-g_options.textpanel_padding_bottom;positionElementsTop(false,startY);}this.positionElements=function(animateHeight){if(!g_options.textpanel_height||g_options.textpanel_text_valign=="top"){positionElementsTop(animateHeight);return(false);}switch(g_options.textpanel_text_valign){default:case"top":positionElementsTop(false);break;case"bottom":positionElementBottom();break;case"center":case"middle":positionElementsMiddle();break;}}
function setHeight(height,animateHeight){if(!animateHeight)var animateHeight=false;if(animateHeight==true){if(g_objBG){var currentHeight=g_objBG.height();if(height>currentHeight)g_objBG.height(height);}var objCss={height:height+"px"};g_objPanel.add(g_objTextWrapper).animate(objCss,g_options.textpanel_fade_duration);}else{if(g_objBG)g_objBG.height(height);g_objPanel.add(g_objTextWrapper).height(height);}}this.init=function(objGallery,customOptions,optionsPrefix){g_gallery=objGallery;if(optionsPrefix){g_optionsPrefix=optionsPrefix;customOptions=g_functions.convertCustomPrefixOptions(customOptions,g_optionsPrefix,"textpanel");}if(customOptions)g_options=jQuery.extend(g_options,customOptions);if(g_options.textpanel_enable_title==false&&g_options.textpanel_enable_description==false)throw new Error("Textpanel Error: The title or description must be enabled");if(g_options.textpanel_height&&g_options.textpanel_height<0)g_options.textpanel_height=null;}
this.appendHTML=function(objParent){g_objParent=objParent;var html="<div class='ug-textpanel'>";if(g_options.textpanel_enable_bg==true)html+="<div class='ug-textpanel-bg'></div>";html+="<div class='ug-textpanel-textwrapper'>";if(g_options.textpanel_enable_title==true)html+="<div class='ug-textpanel-title'></div>";if(g_options.textpanel_enable_description==true)html+="<div class='ug-textpanel-description'></div>";html+="</div></div>";objParent.append(html);g_objPanel=objParent.children(".ug-textpanel");g_objTextWrapper=g_objPanel.children(".ug-textpanel-textwrapper");setCss();}
function setCss(){if(g_options.textpanel_enable_bg==true){g_objBG=g_objPanel.children(".ug-textpanel-bg");g_objBG.fadeTo(0,g_options.textpanel_bg_opacity);var objCssBG={"background-color":g_options.textpanel_bg_color};objCssBG=jQuery.extend(objCssBG,g_options.textpanel_bg_css);g_objBG.css(objCssBG);}if(g_options.textpanel_enable_title==true){g_objTitle=g_objTextWrapper.children(".ug-textpanel-title");var objCssTitle={};if(g_options.textpanel_title_color!==null)objCssTitle["color"]=g_options.textpanel_title_color;if(g_options.textpanel_title_font_family!==null)objCssTitle["font-family"]=g_options.textpanel_title_font_family;if(g_options.textpanel_title_text_align!==null)objCssTitle["text-align"]=g_options.textpanel_title_text_align;if(g_options.textpanel_title_font_size!==null)objCssTitle["font-size"]=g_options.textpanel_title_font_size+"px";if(g_options.textpanel_title_bold!==null){if(g_options.textpanel_title_bold===true)objCssTitle["font-weight"]="bold";else
objCssTitle["font-weight"]="normal";}if(g_options.textpanel_css_title)objCssTitle=jQuery.extend(objCssTitle,g_options.textpanel_css_title);g_objTitle.css(objCssTitle);}if(g_options.textpanel_enable_description==true){g_objDesc=g_objTextWrapper.children(".ug-textpanel-description");var objCssDesc={};if(g_options.textpanel_desc_color!==null)objCssDesc["color"]=g_options.textpanel_desc_color;if(g_options.textpanel_desc_font_family!==null)objCssDesc["font-family"]=g_options.textpanel_desc_font_family;if(g_options.textpanel_desc_text_align!==null)objCssDesc["text-align"]=g_options.textpanel_desc_text_align;if(g_options.textpanel_desc_font_size!==null)objCssDesc["font-size"]=g_options.textpanel_desc_font_size+"px";if(g_options.textpanel_desc_bold!==null){if(g_options.textpanel_desc_bold===true)objCssDesc["font-weight"]="bold";else
objCssDesc["font-weight"]="normal";}if(g_options.textpanel_css_title)objCssDesc=jQuery.extend(objCssDesc,g_options.textpanel_css_description);g_objDesc.css(objCssDesc);}}function onItemChange(){var objItem=g_gallery.getSelectedItem();t.setText(objItem.title,objItem.description);}function initEvents(){jQuery(g_gallery).on(g_gallery.events.ITEM_CHANGE,onItemChange);}this.destroy=function(){jQuery(g_gallery).off(g_gallery.events.ITEM_CHANGE);}
this.run=function(){t.setSizeByParent();initEvents();}
this.setPanelSize=function(panelWidth){var panelHeight=80;if(g_options.textpanel_height)panelHeight=g_options.textpanel_height;g_objPanel.width(panelWidth);g_objPanel.height(panelHeight);if(g_objBG){g_objBG.width(panelWidth);g_objBG.height(panelHeight);}var textWrapperWidth=panelWidth-g_options.textpanel_padding_left-g_options.textpanel_padding_right;var textWrapperLeft=g_options.textpanel_padding_left;g_functions.setElementSizeAndPosition(g_objTextWrapper,textWrapperLeft,0,textWrapperWidth,panelHeight);if(g_objTitle)g_objTitle.width(textWrapperWidth);if(g_objDesc)g_objDesc.width(textWrapperWidth);if(g_temp.isFirstTime==false)t.positionElements(false);}
this.setSizeByParent=function(){var objSize=g_functions.getElementSize(g_objParent);t.setPanelSize(objSize.width);}
this.setTextPlain=function(title,description){if(g_objTitle)g_objTitle.html(title);if(g_objDesc)g_objDesc.html(description);}
this.setText=function(title,description){if(g_temp.isFirstTime==true){t.setTextPlain(title,description);g_temp.isFirstTime=false;t.positionElements(false);}else{g_objTextWrapper.stop().fadeTo(g_options.textpanel_fade_duration,0,function(){t.setTextPlain(title,description);t.positionElements(true);jQuery(this).fadeTo(g_options.textpanel_fade_duration,1);});}}
this.positionPanel=function(customTop,customLeft){var objCss={};if(customTop!==undefined&&customTop!==null){objCss.top=customTop;}else{switch(g_options.textpanel_align){case"top":objCss.top=g_options.textpanel_margin+"px";break;case"bottom":objCss.top="auto";objCss.bottom=g_options.textpanel_margin+"px";break;case"middle":objCss.top=g_functions.getElementRelativePos(g_objPanel,"middle",g_options.textpanel_margin);break;}}if(customLeft!==undefined&&customLeft!==null)objCss.left=customLeft;g_objPanel.css(objCss);}
this.setOptions=function(objOptions){if(g_optionsPrefix)objOptions=g_functions.convertCustomPrefixOptions(objOptions,g_optionsPrefix,"textpanel");g_options=jQuery.extend(g_options,objOptions);}
this.getElement=function(){return(g_objPanel);}
this.getSize=function(){var objSize=g_functions.getElementSize(g_objPanel);return(objSize);}
this.refresh=function(toShow,noPosition,panelWidth){setCss();if(!panelWidth)t.setSizeByParent();else
t.setPanelSize(panelWidth);t.positionElements(false);if(noPosition!==true)t.positionPanel();if(toShow===true)t.show();}
this.hide=function(){g_objPanel.hide();}
this.show=function(){g_objPanel.show();}
this.getOptions=function(){return(g_options);}
this.getOption=function(optionName){if(g_options.hasOwnProperty(optionName)==false)return(null);return(g_options[optionName]);}}function UGZoomButtonsPanel(){var t=this;var g_objPanel,g_objParent,g_objButtonPlus,g_objButtonMinus,g_objButtonReturn;var g_slider=new UGSlider;var g_functions=new UGFunctions();var g_options={slider_zoompanel_skin:""};var g_temp={};this.init=function(objSlider,customOptions){g_slider=objSlider;if(customOptions)g_options=jQuery.extend(g_options,customOptions);}
this.appendHTML=function(objParent){g_objParent=objParent;var html="<div class='ug-slider-control ug-zoompanel ug-skin-"+g_options.slider_zoompanel_skin+"'>";html+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>";html+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>";html+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>";html+="</div>";objParent.append(html);g_objPanel=objParent.children(".ug-zoompanel");g_objButtonPlus=g_objPanel.children(".ug-zoompanel-plus");g_objButtonMinus=g_objPanel.children(".ug-zoompanel-minus");g_objButtonReturn=g_objPanel.children(".ug-zoompanel-return");}
this.setObjects=function(objButtonPlus,objButtonMinus,objButtonReturn){g_objButtonPlus=objButtonPlus;g_objButtonMinus=objButtonMinus;g_objButtonReturn=objButtonReturn;if(g_objButtonMinus)g_objButtonMinus.addClass("ug-zoompanel-button-disabled");if(g_objButtonReturn)g_objButtonReturn.addClass("ug-zoompanel-button-disabled");}
this.getElement=function(){return(g_objPanel);}
function isButtonDisabled(objButton){if(!objButton)return(true);if(objButton.hasClass("ug-zoompanel-button-disabled"))return(true);return(false);}function disableButton(objButton){if(objButton)objButton.addClass("ug-zoompanel-button-disabled");}function enableButton(objButton){if(objButton)objButton.removeClass("ug-zoompanel-button-disabled");}function onZoomChange(){if(g_slider.isCurrentSlideType("image")==false)return(true);var isFit=g_slider.isCurrentSlideImageFit();if(isFit==true){if(isButtonDisabled(g_objButtonMinus)==false){disableButton(g_objButtonMinus);disableButton(g_objButtonReturn);}}else{if(isButtonDisabled(g_objButtonMinus)==true){enableButton(g_objButtonMinus);enableButton(g_objButtonReturn);}}}t.initEvents=function(){g_functions.addClassOnHover(g_objButtonPlus,"ug-button-hover");g_functions.addClassOnHover(g_objButtonMinus,"ug-button-hover");g_functions.addClassOnHover(g_objButtonReturn,"ug-button-hover");g_functions.setButtonOnClick(g_objButtonPlus,function(){if(isButtonDisabled(g_objButtonPlus)==true)return(true);g_slider.zoomIn();});g_functions.setButtonOnClick(g_objButtonMinus,function(){if(isButtonDisabled(g_objButtonMinus)==true)return(true);g_slider.zoomOut();});g_functions.setButtonOnClick(g_objButtonReturn,function(){if(isButtonDisabled(g_objButtonReturn)==true)return(true);g_slider.zoomBack();});jQuery(g_slider).on(g_slider.events.ZOOM_CHANGE,onZoomChange);jQuery(g_slider).on(g_slider.events.ITEM_CHANGED,onZoomChange);}}function UGBullets(){var t=this,g_numBullets=0,g_gallery=new UniteGalleryMain();var g_objBullets,g_objParent,g_activeIndex=-1;var g_functions=new UGFunctions();var g_temp={isInited:false};var g_options={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1}
this.events={BULLET_CLICK:"bullet_click"};this.init=function(gallery,customOptions,numBullets){g_gallery=gallery;if(numBullets)g_numBullets=numBullets;else
g_numBullets=g_gallery.getNumItems();g_temp.isInited=true;g_options=jQuery.extend(g_options,customOptions);if(g_options.bullets_skin=="")g_options.bullets_skin=g_options.gallery_skin;}
function setHtmlBullets(){var html="";var addHtml="";if(g_options.bullets_space_between!=-1)addHtml=" style='margin-left:"+g_options.bullets_space_between+"px'";for(var i=0;i<g_numBullets;i++){if(i==0)html+="<div class='ug-bullet'></div>";else
html+="<div class='ug-bullet'"+addHtml+"></div>";}g_objBullets.html(html);}this.appendHTML=function(objParent){g_objParent=objParent;validateInited();var addClass="";if(g_options.bullets_addclass!="")addClass=" "+g_options.bullets_addclass;var html="<div class='ug-slider-control ug-bullets ug-skin-"+g_options.bullets_skin+addClass+"'>";html+="</div>";g_objBullets=jQuery(html);objParent.append(g_objBullets);setHtmlBullets();initEvents();}
this.updateNumBullets=function(numBullets){g_numBullets=numBullets;setHtmlBullets();initEvents();}
function onBulletClick(objBullet){if(t.isActive(objBullet)==true)return(true);var index=objBullet.index();jQuery(t).trigger(t.events.BULLET_CLICK,index);}function initEvents(){var objBullets=g_objBullets.children(".ug-bullet");g_functions.setButtonOnClick(objBullets,onBulletClick);objBullets.on("mousedown mouseup",function(event){return(false);});}this.getElement=function(){return g_objBullets;}
this.setActive=function(index){validateInited();validateIndex(index);var children=g_objBullets.children(".ug-bullet");children.removeClass("ug-bullet-active");var bullet=jQuery(children[index]);bullet.addClass("ug-bullet-active");g_activeIndex=index;}
this.isActive=function(index){validateIndex(index);if(typeof index!="number")var objBullet=index;else{var objBullet=g_objBullets.children(".ug-bullet")[index];}if(objBullet.hasClass("ug-bullet-active"))return(true);return(false);}
function validateIndex(index){if(index<0||index>=g_numBullets)throw new Error("wrong bullet index: "+index);}function validateInited(){if(g_temp.isInited==true)return(true);throw new Error("The bullets are not inited!");}}function UGProgressBar(){var t=this,g_isInited=false;var g_percent=0,g_objBar,g_objInner,g_functions=new UGFunctions();var g_options={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:0.6,slider_progressbar_line_width:5}
this.put=function(g_objWrapper,userOptions){if(userOptions)g_options=jQuery.extend(g_options,userOptions);g_objWrapper.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>");g_objBar=g_objWrapper.children(".ug-progress-bar");g_objInner=g_objBar.children(".ug-progress-bar-inner");g_objInner.css("background-color",g_options.slider_progressbar_color);g_objBar.height(g_options.slider_progressbar_line_width);g_objInner.height(g_options.slider_progressbar_line_width);g_objInner.width("0%");var opacity=g_options.slider_progressbar_opacity;var objInnerHTML=g_objInner[0];objInnerHTML.style.opacity=opacity;objInnerHTML.style.filter='alpha(opacity='+opacity*100+')';}
this.putHidden=function(g_objWrapper,userOptions){t.put(g_objWrapper,userOptions);g_objBar.hide();}
this.getElement=function(){return(g_objBar);}
this.setSize=function(width){g_objBar.width(width);g_objInner.width(width);t.draw();}
this.setPosition=function(left,top,offsetLeft,offsetTop){g_functions.placeElement(g_objBar,left,top,offsetLeft,offsetTop);}
this.draw=function(){var innerWidth=g_percent*100;g_objInner.width(innerWidth+"%");}
this.setProgress=function(percent){g_percent=g_functions.normalizePercent(percent);t.draw();}
this.getType=function(){return("bar");}}function UGProgressPie(){var t=this,g_isInited=false;var g_percent,g_objPie,g_functions=new UGFunctions();var g_options={slider_progresspie_type_fill:false,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30}
this.put=function(g_objWrapper,userOptions){if(userOptions)g_options=jQuery.extend(g_options,userOptions);g_objWrapper.append("<canvas class='ug-canvas-pie' width='"+g_options.slider_progresspie_width+"' height='"+g_options.slider_progresspie_height+"'></canvas>");g_objPie=g_objWrapper.children(".ug-canvas-pie");}
this.putHidden=function(g_objWrapper,userOptions){t.put(g_objWrapper,userOptions);draw(0.1);g_objPie.hide();}
this.getElement=function(){return(g_objPie);}
this.setPosition=function(left,top){g_functions.placeElement(g_objPie,left,top);}
this.getSize=function(){var obj={width:g_options.slider_progresspie_width,height:g_options.slider_progresspie_height};return(obj);}
function draw(percent){if(!percent)var percent=0;var radius=Math.min(g_options.slider_progresspie_width,g_options.slider_progresspie_height)/2;var ctx=g_objPie[0].getContext('2d');if(g_isInited==false){g_isInited=true;ctx.rotate(Math.PI*(3/2));ctx.translate(-2*radius,0);}ctx.clearRect(0,0,g_options.slider_progresspie_width,g_options.slider_progresspie_height);var centerX=g_options.slider_progresspie_width/2;var centerY=g_options.slider_progresspie_height/2;var startPoint=0;var endPoint=percent*Math.PI*2;if(g_options.slider_progresspie_type_fill==true){ctx.beginPath();ctx.moveTo(centerX,centerY);ctx.arc(centerX,centerY,radius,startPoint,endPoint);ctx.lineTo(centerX,centerY);ctx.fillStyle=g_options.slider_progresspie_color1;ctx.fill();ctx.closePath();}else{ctx.globalCompositeOperation="source-over";ctx.beginPath();ctx.moveTo(centerX,centerY);ctx.arc(centerX,centerY,radius,startPoint,endPoint);ctx.lineTo(centerX,centerY);ctx.fillStyle=g_options.slider_progresspie_color1;ctx.fill();ctx.closePath();ctx.globalCompositeOperation="destination-out";var radius2=radius-g_options.slider_progresspie_stroke_width;ctx.beginPath();ctx.moveTo(centerX,centerY);ctx.arc(centerX,centerY,radius2,startPoint,endPoint);ctx.lineTo(centerX,centerY);ctx.fillStyle=g_options.slider_progresspie_color1;ctx.fill();ctx.closePath();}if(g_options.slider_progresspie_type_fill==true){startPoint=endPoint;endPoint=Math.PI*2;ctx.beginPath();ctx.arc(centerX,centerY,radius,startPoint,endPoint);ctx.lineTo(centerX,centerY);ctx.fillStyle=g_options.slider_progresspie_color2;ctx.fill();ctx.closePath();}}this.setProgress=function(percent){percent=g_functions.normalizePercent(percent);g_percent=percent;draw(percent);}
this.getType=function(){return("pie");}}
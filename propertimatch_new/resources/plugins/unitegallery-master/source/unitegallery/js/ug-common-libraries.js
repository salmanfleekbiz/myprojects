/* ug-common-libraries.js */

!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var i=t||window.event,u=s.call(arguments,1),l=0,f=0,c=0,h=0;if(t=e.event.fix(i),t.type="mousewheel","detail"in i&&(c=-1*i.detail),"wheelDelta"in i&&(c=i.wheelDelta),"wheelDeltaY"in i&&(c=i.wheelDeltaY),"wheelDeltaX"in i&&(f=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(f=-1*c,c=0),l=0===c?f:c,"deltaY"in i&&(c=-1*i.deltaY,l=c),"deltaX"in i&&(f=i.deltaX,0===c&&(l=-1*f)),0!==c||0!==f){if(1===i.deltaMode){var d=e.data(this,"mousewheel-line-height");l*=d,c*=d,f*=d}else if(2===i.deltaMode){var p=e.data(this,"mousewheel-page-height");l*=p,c*=p,f*=p}return h=Math.max(Math.abs(c),Math.abs(f)),(!o||o>h)&&(o=h,r(i,h)&&(o/=40)),r(i,h)&&(l/=40,f/=40,c/=40),l=Math[l>=1?"floor":"ceil"](l/o),f=Math[f>=1?"floor":"ceil"](f/o),c=Math[c>=1?"floor":"ceil"](c/o),t.deltaX=f,t.deltaY=c,t.deltaFactor=o,t.deltaMode=0,u.unshift(t,l,f,c),a&&clearTimeout(a),a=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,u)}}function n(){o=null}function r(e,t){return f.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var a,o,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],u="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var l=i.length;l;)e.event.fixHooks[i[--l]]=e.event.mouseHooks;var f=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=u.length;n;)this.addEventListener(u[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",f.getLineHeight(this)),e.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=u.length;e;)this.removeEventListener(u[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,a){return jQuery.easing[jQuery.easing.def](e,t,n,r,a)},easeInQuad:function(e,t,n,r,a){return r*(t/=a)*t+n},easeOutQuad:function(e,t,n,r,a){return-r*(t/=a)*(t-2)+n},easeInOutQuad:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,a){return r*(t/=a)*t*t+n},easeOutCubic:function(e,t,n,r,a){return r*((t=t/a-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,a){return r*(t/=a)*t*t*t+n},easeOutQuart:function(e,t,n,r,a){return-r*((t=t/a-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,a){return r*(t/=a)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,a){return r*((t=t/a-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,a){return(t/=a/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,a){return-r*Math.cos(t/a*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,a){return r*Math.sin(t/a*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,a){return-r/2*(Math.cos(Math.PI*t/a)-1)+n},easeInExpo:function(e,t,n,r,a){return 0==t?n:r*Math.pow(2,10*(t/a-1))+n},easeOutExpo:function(e,t,n,r,a){return t==a?n+r:r*(1-Math.pow(2,-10*t/a))+n},easeInOutExpo:function(e,t,n,r,a){return 0==t?n:t==a?n+r:(t/=a/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,r,a){return-r*(Math.sqrt(1-(t/=a)*t)-1)+n},easeOutCirc:function(e,t,n,r,a){return r*Math.sqrt(1-(t=t/a-1)*t)+n},easeInOutCirc:function(e,t,n,r,a){return(t/=a/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,a){var o=1.70158,i=0,u=r;if(0==t)return n;if(1==(t/=a))return n+r;if(i||(i=.3*a),u<Math.abs(r)){u=r;o=i/4}else o=i/(2*Math.PI)*Math.asin(r/u);return-u*Math.pow(2,10*(t-=1))*Math.sin(2*(t*a-o)*Math.PI/i)+n},easeOutElastic:function(e,t,n,r,a){var o=1.70158,i=0,u=r;if(0==t)return n;if(1==(t/=a))return n+r;if(i||(i=.3*a),u<Math.abs(r)){u=r;o=i/4}else o=i/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin(2*(t*a-o)*Math.PI/i)+r+n},easeInOutElastic:function(e,t,n,r,a){var o=1.70158,i=0,u=r;if(0==t)return n;if(2==(t/=a/2))return n+r;if(i||(i=.3*a*1.5),u<Math.abs(r)){u=r;o=i/4}else o=i/(2*Math.PI)*Math.asin(r/u);return 1>t?-.5*u*Math.pow(2,10*(t-=1))*Math.sin(2*(t*a-o)*Math.PI/i)+n:u*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*a-o)*Math.PI/i)*.5+r+n},easeInBack:function(e,t,n,r,a,o){return void 0==o&&(o=1.70158),r*(t/=a)*t*((o+1)*t-o)+n},easeOutBack:function(e,t,n,r,a,o){return void 0==o&&(o=1.70158),r*((t=t/a-1)*t*((o+1)*t+o)+1)+n},easeInOutBack:function(e,t,n,r,a,o){return void 0==o&&(o=1.70158),(t/=a/2)<1?r/2*t*t*((1+(o*=1.525))*t-o)+n:r/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+n},easeInBounce:function(e,t,n,r,a){return r-jQuery.easing.easeOutBounce(e,a-t,0,r,a)+n},easeOutBounce:function(e,t,n,r,a){return(t/=a)<1/2.75?7.5625*r*t*t+n:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,a){return a/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,r,a)+n:.5*jQuery.easing.easeOutBounce(e,2*t-a,0,r,a)+.5*r+n}}),function(e,t){function n(e,t,n){var r=f[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function r(t){var n=s(),r=n._rgba=[];return t=t.toLowerCase(),d(u,function(e,a){var o,i=a.re.exec(t),u=i&&a.parse(i),s=a.space||"rgba";return u?(o=n[s](u),n[l[s].cache]=o[l[s].cache],r=n._rgba=o._rgba,!1):void 0}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),n):o[t]}function a(e,t,n){return n=(n+1)%1,1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}if(void 0===e.cssHooks)return!1;var o,i=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],s=e.Color=function(t,n,r,a){return new e.Color.fn.parse(t,n,r,a)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=s.support={},h=e("<p>")[0],d=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=h.style.backgroundColor.indexOf("rgba")>-1,d(l,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),s.fn=e.extend(s.prototype,{parse:function(a,i,u,f){if(a===t)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=e(a).css(i),i=t);var c=this,h=e.type(a),p=this._rgba=[];return i!==t&&(a=[a,i,u,f],h="array"),"string"===h?this.parse(r(a)||o._default):"array"===h?(d(l.rgba.props,function(e,t){p[t.idx]=n(a[t.idx],t)}),this):"object"===h?(a instanceof s?d(l,function(e,t){a[t.cache]&&(c[t.cache]=a[t.cache].slice())}):d(l,function(t,r){var o=r.cache;d(r.props,function(e,t){if(!c[o]&&r.to){if("alpha"===e||null==a[e])return;c[o]=r.to(c._rgba)}c[o][t.idx]=n(a[e],t,!0)}),c[o]&&e.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,r.from&&(c._rgba=r.from(c[o])))}),this):void 0},is:function(e){var t=s(e),n=!0,r=this;return d(l,function(e,a){var o,i=t[a.cache];return i&&(o=r[a.cache]||a.to&&a.to(r._rgba)||[],d(a.props,function(e,t){return null!=i[t.idx]?n=i[t.idx]===o[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return d(l,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var r=s(e),a=r._space(),o=l[a],i=0===this.alpha()?s("transparent"):this,u=i[o.cache]||o.to(i._rgba),c=u.slice();return r=r[o.cache],d(o.props,function(e,a){var o=a.idx,i=u[o],s=r[o],l=f[a.type]||{};null!==s&&(null===i?c[o]=s:(l.mod&&(s-i>l.mod/2?i+=l.mod:i-s>l.mod/2&&(i-=l.mod)),c[o]=n((s-i)*t+i,a)))}),this[a](c)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),a=s(t)._rgba;return s(e.map(n,function(e,t){return(1-r)*a[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,l.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,a=e[1]/255,o=e[2]/255,i=e[3],u=Math.max(r,a,o),s=Math.min(r,a,o),l=u-s,f=u+s,c=.5*f;return t=s===u?0:r===u?60*(a-o)/l+360:a===u?60*(o-r)/l+120:60*(r-a)/l+240,n=0===l?0:.5>=c?l/f:l/(2-f),[Math.round(t)%360,n,c,null==i?1:i]},l.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],o=e[3],i=.5>=r?r*(1+n):r+n-r*n,u=2*r-i;return[Math.round(255*a(u,i,t+1/3)),Math.round(255*a(u,i,t)),Math.round(255*a(u,i,t-1/3)),o]},d(l,function(r,a){var o=a.props,u=a.cache,l=a.to,f=a.from;s.fn[r]=function(r){if(l&&!this[u]&&(this[u]=l(this._rgba)),r===t)return this[u].slice();var a,i=e.type(r),c="array"===i||"object"===i?r:arguments,h=this[u].slice();return d(o,function(e,t){var r=c["object"===i?e:t.idx];null==r&&(r=h[t.idx]),h[t.idx]=n(r,t)}),f?(a=s(f(h)),a[u]=h,a):s(h)},d(o,function(t,n){s.fn[t]||(s.fn[t]=function(a){var o,u=e.type(a),s="alpha"===t?this._hsla?"hsla":"rgba":r,l=this[s](),f=l[n.idx];return"undefined"===u?f:("function"===u&&(a=a.call(this,f),u=e.type(a)),null==a&&n.empty?this:("string"===u&&(o=i.exec(a))&&(a=f+parseFloat(o[2])*("+"===o[1]?1:-1)),l[n.idx]=a,this[s](l)))})})}),s.hook=function(t){var n=t.split(" ");d(n,function(t,n){e.cssHooks[n]={set:function(t,a){var o,i,u="";if("transparent"!==a&&("string"!==e.type(a)||(o=r(a)))){if(a=s(o||a),!c.rgba&&1!==a._rgba[3]){for(i="backgroundColor"===n?t.parentNode:t;(""===u||"transparent"===u)&&i&&i.style;)try{u=e.css(i,"backgroundColor"),i=i.parentNode}catch(e){}a=a.blend(u&&"transparent"!==u?u:"_default")}a=a.toRgbaString()}try{t.style[n]=a}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=s(t.elem,n),t.end=s(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},s.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return d(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e){function t(){var n=this===document?e(this):e(this).contents();n.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),n.find("iframe").load(t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var n=e(this).is("iframe")?e(this).contents().find("body"):e(this),r=n.offset();t=r.left<=e.mlp.x&&r.left+n.outerWidth()>e.mlp.x&&r.top<=e.mlp.y&&r.top+n.outerHeight()>e.mlp.y}),t}}(jQuery);

/* ug-thmbsnailgeneral.js */

function UGThumbsGeneral(){function e(e,t,r,u){var i={width:e+"px",height:t+"px"},o={width:e-j.thumbInnerReduce+"px",height:t-j.thumbInnerReduce+"px"},h=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";r?(!0!==u&&r.css(i),r.children(h).css(o)):(T.children(".ug-thumb-wrapper").css(i),T.find(h).css(o))}function t(e,t,r,u){if(!u)var u=!1;O.isFakeFullscreen()&&(u=!0);var i=e.children(".ug-thumb-border-overlay"),o={};o["border-width"]=t+"px",0!=t&&(o["border-color"]=r),u&&!0===u?(i.css(o),0==t?i.hide():i.show()):(0==t?i.stop().fadeOut(L.thumb_transition_duration):i.show().stop().fadeIn(L.thumb_transition_duration),a(i,o))}function r(e,t,r){var u=e.children(".ug-thumb-overlay"),i=L.thumb_transition_duration;r&&!0===r&&(i=0),t?u.stop(!0).fadeTo(i,j.colorOverlayOpacity):u.stop(!0).fadeTo(i,0)}function u(e,t,r){var u=e.children("img.ug-thumb-image"),i=e.children("img.ug-thumb-image-overlay"),o=L.thumb_transition_duration;r&&!0===r&&(o=0),t?i.stop(!0).fadeTo(o,1):(u.fadeTo(0,1),i.stop(!0).fadeTo(o,0))}function i(e,i){j.isEffectBorder&&t(e,L.thumb_selected_border_width,L.thumb_selected_border_color,i),j.isEffectOverlay&&r(e,1==L.thumb_overlay_reverse,i),j.isEffectImage&&u(e,!1,i),w.trigger(I.events.SETSELECTEDSTYLE,e)}function o(e){var t=I.getItemByThumb(e);if(t.isLoaded=!0,t.isThumbImageLoaded=!1,1==j.customThumbs)return w.trigger(I.events.IMAGELOADERROR,e),!0;e.children(".ug-thumb-loader").hide(),e.children(".ug-thumb-error").show()}function h(){if(L.thumb_round_corners_radius<=0)return!1;var e={"border-radius":L.thumb_round_corners_radius+"px"};T.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(e)}function a(e,t){e.stop(!0).animate(t,{duration:L.thumb_transition_duration,easing:L.thumb_transition_easing,queue:!1})}function n(e){1==b(e)?i(e,!0,"redraw"):I.setThumbNormalStyle(e,!0,"redraw")}function m(t,r,u){if(1==L.thumb_fixed_size)S.scaleImageCoverParent(r,t);else{"height"==L.thumb_resize_by?S.scaleImageByHeight(r,L.thumb_height):S.scaleImageByWidth(r,L.thumb_width);var i=S.getElementSize(r);S.placeElement(r,0,0),e(i.width,i.height,t)}t.children(".ug-thumb-loader").hide(),r.show(),0==L.thumb_image_overlay_effect?r.fadeTo(0,1):(1==L.thumb_image_overlay_effect&&s(r),r.fadeTo(0,0),n(t)),w.trigger(I.events.AFTERPLACEIMAGE,t)}function s(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var r=S.getElementSize(e),u={width:r.width+"px",height:r.height+"px",left:r.left+"px",top:r.top+"px"};t.css(u),0==j.customThumbs&&t.fadeTo(0,1)}function _(){var e="",t=L.thumb_image_overlay_type.split(",");for(var r in t)switch(t[r]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}return e}function b(e){return!!e.hasClass("ug-thumb-selected")}function d(t,r){r=jQuery(r);I.getItemByThumb(r);var u=S.getElementSize(r);e(u.width,u.height,r,!0),n(r)}function c(e){if(1==j.touchEnabled)return objThumbs.off("mouseenter").off("mouseleave"),!0;0==b(e)&&I.setThumbOverStyle(e)}function f(e){if(1==j.touchEnabled)return!0;0==b(e)&&I.setThumbNormalStyle(e,!1)}function l(e,t){if(!t)var t=!1;var r=jQuery(e),u=r.parent();return 0!=u.parent().length&&(objItem=I.getItemByThumb(u),(1!=objItem.isLoaded||!1!==t)&&(I.triggerImageLoadedEvent(u,r),void(1==j.customThumbs?w.trigger(I.events.PLACEIMAGE,[u,r]):m(u,r,objItem))))}function g(e,t,r){objItem=I.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var u=S.getImageOriginalSize(r);objItem.thumbWidth=u.width,objItem.thumbHeight=u.height,objItem.thumbRatioByWidth=u.width/u.height,objItem.thumbRatioByHeight=u.height/u.width}var v,y,p,E,T,I=this,w=jQuery(I),O=new UniteGalleryMain,S=new UGFunctions;this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var L={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},j={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0},A={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){y=e.getObjects(),O=e,v=jQuery(e),p=y.g_objWrapper,E=y.g_arrItems,L=jQuery.extend(L,t),j.isEffectBorder=L.thumb_border_effect,j.isEffectOverlay=L.thumb_color_overlay_effect,j.isEffectImage=L.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e){T=e;var t=O.getNumItems();if(1==j.isEffectImage)var r=_();for(var u=0;u<t;u++){var i=E[u],o="";0==j.customThumbs&&(o=" ug-thumb-generated");n="<div class='ug-thumb-wrapper"+o+"'></div>";if(1==L.thumb_wrapper_as_link){var h=i.link;""==i.link&&(h="javascript:void(0)");var a="";1==L.thumb_link_newpage&&i.link&&(a=" target='_blank'");var n="<a href='"+h+"'"+a+" class='ug-thumb-wrapper"+o+"'></a>"}var m=jQuery(n),s=i.objThumbImage;if(0==j.customThumbs){if(1==L.thumb_show_loader&&s){var b="ug-thumb-loader-dark";"bright"==L.thumb_loader_type&&(b="ug-thumb-loader-bright"),m.append("<div class='ug-thumb-loader "+b+"'></div>"),m.append("<div class='ug-thumb-error' style='display:none'></div>")}if(s){if(s.addClass("ug-thumb-image"),1==L.thumb_image_overlay_effect){var d=s.clone().appendTo(m);d.addClass("ug-thumb-image-overlay "+r).removeClass("ug-thumb-image"),d.fadeTo(0,0),i.objImageOverlay=d}m.append(s)}}j.isEffectBorder&&m.append("<div class='ug-thumb-border-overlay'></div>"),j.isEffectOverlay&&m.append("<div class='ug-thumb-overlay'></div>"),T.append(m),j.customThumbs&&j.funcSetCustomThumbHtml(m,i),E[u].objThumbWrapper=m}},this.setThumbNormalStyle=function(e,i,o){1==j.customThumbs&&e.removeClass("ug-thumb-over"),j.isEffectBorder&&t(e,L.thumb_border_width,L.thumb_border_color,i),j.isEffectOverlay&&r(e,1!=L.thumb_overlay_reverse,i),j.isEffectImage&&u(e,!0,i),w.trigger(I.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){1==j.customThumbs&&e.addClass("ug-thumb-over"),j.isEffectBorder&&t(e,L.thumb_over_border_width,L.thumb_over_border_color),j.isEffectOverlay&&r(e,1==L.thumb_overlay_reverse),1==j.isEffectImage&&u(e,!1),w.trigger(I.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(){if(0==j.customThumbs){1==L.thumb_fixed_size&&e(L.thumb_width,L.thumb_height),h()}if(T.children(".ug-thumb-wrapper").each(function(){n(jQuery(this))}),j.isEffectOverlay&&L.thumb_overlay_color){var t={};if(S.isRgbaSupported()){var r=S.convertHexToRGB(L.thumb_overlay_color,L.thumb_overlay_opacity);t["background-color"]=r}else t["background-color"]=L.thumb_overlay_color,j.colorOverlayOpacity=L.thumb_overlay_opacity;T.find(".ug-thumb-wrapper .ug-thumb-overlay").css(t)}},this.setThumbSelected=function(e){if(1==j.customThumbs&&e.removeClass("ug-thumb-over"),1==b(e))return!0;e.addClass("ug-thumb-selected"),i(e)},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),I.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){L=jQuery.extend(L,e)},this.setThumbInnerReduce=function(e){j.thumbInnerReduce=e},this.setCustomThumbs=function(e,t){if(j.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");j.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(j.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(j.isEffectBorder=!1),j.isEffectImage=!1},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return L},this.getNumThumbs=function(){return E.length},this.getThumbImage=function(e){return e.children(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=I.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(){return T.children(".ug-thumb-wrapper")},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),E[t]},this.isThumbLoaded=function(e){return I.getItemByThumb(e).isLoaded},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=T.find(".ug-thumb-wrapper");e.on("touchstart",function(){j.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),p.on(A.eventSizeChange,d),e.hover(function(e){c(jQuery(this))},function(e){f(jQuery(this))}),w.on(I.events.THUMB_IMAGE_LOADED,g)},this.destroy=function(){var e=T.find(".ug-thumb-wrapper");e.off("touchstart"),p.off(A.eventSizeChange),e.off("mouseenter"),e.off("mouseleave"),w.off(I.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=T.find(".ug-thumb-image");S.checkImagesLoaded(e,null,function(e,t){0==t?l(e,!0):o(jQuery(e).parent())})},this.triggerImageLoadedEvent=function(e,t){w.trigger(I.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){T.find(".ug-thumb-wrapper").hide()}}

/* ug-thmbsstrip.js */

function UGThumbsStrip(){function t(t,i){E=t.getObjects(),(L=t).attachThumbsPanel("strip",M),I=jQuery(t),w=E.g_objWrapper,y=E.g_arrItems,C=jQuery.extend(C,i),1==(R=C.strip_vertical_type)&&(C=jQuery.extend(C,F),C=jQuery.extend(C,i),i.thumb_resize_by="width"),Q.init(t,i),e()}function e(){var t=Q.getOptions();H.isNotFixedThumbs=!1===t.thumb_fixed_size,R=C.strip_vertical_type}function n(){Q.setHtmlProperties(),s(),p(),u(),0==H.isRunOnce&&(1==C.strip_control_touch&&(G=new UGTouchThumbsControl).init(M),1==C.strip_control_avia&&(P=new UGAviaControl).init(M),l(),Q.loadThumbsImages(),v()),H.isRunOnce=!0}function r(t){N.stripSize=t,N.stripActiveSize=0==R?N.stripSize-C.strip_padding_left-C.strip_padding_right:N.stripSize-C.strip_padding_top-C.strip_padding_bottom,N.stripActiveSize<0&&(N.stripActiveSize=0)}function s(){var t=A.children(".ug-thumb-wrapper"),i=jQuery(t[0]),e=i.outerWidth(),n=i.outerHeight(),s=Q.getOptions();0==R?(N.thumbSize=e,1==s.thumb_fixed_size?N.thumbSecondSize=n:N.thumbSecondSize=s.thumb_height,r(j.width()),N.stripInnerSize=A.width()):(N.thumbSize=n,1==s.thumb_fixed_size?N.thumbSecondSize=e:N.thumbSecondSize=s.thumb_width,r(j.height()),N.stripInnerSize=A.height())}function o(t){0==R?A.width(t):A.height(t),N.stripInnerSize=t,l()}function u(){var t=A.children(".ug-thumb-wrapper"),e=0,n=0;for(0==R&&(n=C.strip_padding_top),i=0;i<t.length;i++){var r=jQuery(t[i]);if(1==H.isNotFixedThumbs){if(objItem=Q.getItemByThumb(r),0==objItem.isLoaded)continue;r.show()}O.placeElement(r,e,n),0==R?e+=r.outerWidth()+C.strip_space_between_thumbs:n+=r.outerHeight()+C.strip_space_between_thumbs}if(0==R)s=e-C.strip_space_between_thumbs;else var s=n-C.strip_space_between_thumbs;o(s)}function p(){if(0==R){var t=N.thumbSecondSize;(e={}).height=t+"px",(n={}).height=t+"px"}else{var i=N.thumbSecondSize,e={};e.width=i+"px";var n={};n.width=i+"px"}j.css(e),A.css(n)}function h(t){var i=M.getInnerStripPos()+t;i=M.fixInnerStripLimits(i),M.positionInnerStrip(i,!0)}function _(t){var i=-1*x(t).min;i=M.fixInnerStripLimits(i),M.positionInnerStrip(i,!0)}function c(t){var i=-1*x(t).max+N.stripSize;i=M.fixInnerStripLimits(i),M.positionInnerStrip(i,!0)}function a(t){if(0==z())return!1;var i=T(),e=x(t);if(e.min<i.minPosThumbs){var n=t.prev();_(n.length?n:t)}else if(e.max>i.maxPosThumbs){var r=t.next();c(r.length?r:t)}}function m(){var t=L.getSelectedItem();if(null==t)return!0;var i=t.objThumbWrapper;i&&a(i)}function d(){if(0==z())return!1;var t=M.getInnerStripPos(),i=M.fixInnerStripLimits(t);t!=i&&M.positionInnerStrip(i,!0)}function l(){1==z()?(P&&P.enable(),G&&G.enable()):(P&&P.disable(),G&&G.disable())}function f(){if(z())return!1;0==R?O.placeElement(A,C.strip_thumbs_align,0):O.placeElement(A,0,C.strip_thumbs_align)}function b(t){if(M.isTouchMotionActive()&&1==G.isSignificantPassed())return!0;var i=Q.getItemByThumb(t);L.selectItem(i)}function g(){clearTimeout(H.handle),H.handle=setTimeout(function(){u()},50)}function S(){var t=L.getSelectedItem();Q.setThumbSelected(t.objThumbWrapper),a(t.objThumbWrapper)}function v(){Q.initEvents(),j.find(".ug-thumb-wrapper").on("click touchend",function(t){b(jQuery(this))}),I.on(L.events.ITEM_CHANGE,S),H.isNotFixedThumbs&&jQuery(Q).on(Q.events.AFTERPLACEIMAGE,g)}function z(){return N.stripInnerSize>N.stripActiveSize}function T(){var t={},i=M.getInnerStripPos();return t.minPosThumbs=-1*i+1,t.maxPosThumbs=-1*i+N.stripSize-1,t}function x(t){var i={},e=t.position();return 0==R?(i.min=e.left,i.max=e.left+N.thumbSize):(i.min=e.top,i.max=e.top+N.thumbSize),i}var I,E,w,y,j,A,P,G,M=this,L=new UniteGalleryMain,O=new UGFunctions,R=!1,Q=new UGThumbsGeneral,O=new UGFunctions,C={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},H={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},N={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove"};var F={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(t){if(!t){var t=w;null!=C.parent_container&&(t=C.parent_container)}t.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),j=t.children(".ug-thumbs-strip"),A=j.children(".ug-thumbs-strip-inner"),Q.setHtmlThumbs(A),1==H.isNotFixedThumbs&&Q.hideThumbs()},this.destroy=function(){var t=j.find(".ug-thumb-wrapper");t.off("click"),t.off("touchend"),I.off(L.events.ITEM_CHANGE),jQuery(Q).off(Q.events.AFTERPLACEIMAGE),G&&G.destroy(),P&&P.destroy(),Q.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(i,e){t(i,e)},this.run=function(){n()},this.positionInnerStrip=function(t,i){if(void 0===i)var i=!1;if(0==R)e={left:t+"px"};else var e={top:t+"px"};0==i?(A.css(e),M.triggerStripMoveEvent()):(M.triggerStripMoveEvent(),A.stop(!0).animate(e,{duration:C.strip_scroll_to_thumb_duration,easing:C.strip_scroll_to_thumb_easing,queue:!1,progress:function(){M.triggerStripMoveEvent()},always:function(){M.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(M).trigger(M.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!G&&G.isTouchActive()},this.isItemThumbVisible=function(t){var i=t.objThumbWrapper,e=i.position(),n=-1*M.getInnerStripPos();if(0==R)var r=n+N.stripSize,s=e.left,o=e.left+i.width();else var r=n+N.stripSize,s=e.top,o=e.top+i.height();var u=!1;return o>=n&&s<=r&&(u=!0),u},this.getInnerStripPos=function(){return 0==R?A.position().left:A.position().top},this.getInnerStripLimits=function(){var t={};return t.maxPos=0==R?C.strip_padding_left:C.strip_padding_top,t.minPos=-(N.stripInnerSize-N.stripActiveSize),t},this.fixInnerStripLimits=function(t){var i=M.getInnerStripLimits();return t>i.maxPos&&(t=i.maxPos),t<i.minPos&&(t=i.minPos),t},this.scrollForeward=function(){h(-N.stripSize)},this.scrollBack=function(){h(N.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(t){C=jQuery.extend(C,t),Q.setOptions(t),e()},this.setSizeVertical=function(t){if(0==R)throw new Error("setSizeVertical error, the strip size is not vertical");var i=N.thumbSecondSize,e={};e.width=i+"px",e.height=t+"px",j.css(e),r(t);var n={};n.width=i+"px",n.left="0px",n.top="0px",A.css(n),H.is_placed=!0,l()},this.setSizeHorizontal=function(t){if(1==R)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var i=N.thumbSecondSize+C.strip_padding_top+C.strip_padding_bottom,e={};e.width=t+"px",e.height=i+"px",j.css(e),r(t);var n=C.strip_padding_left,s={};s.height=i+"px",s.left=n+"px",s.top="0px",A.css(s),H.is_placed=!0,l()},this.setPosition=function(t,i,e,n){O.placeElement(j,t,i,e,n)},this.resize=function(t){0==R?(j.width(t),N.stripActiveSize=t-C.strip_padding_left-C.strip_padding_right):(j.height(t),N.stripActiveSize=t-C.strip_padding_top-C.strip_padding_bottom),r(t),l(),d(),f(),m()},this.setThumbUnselected=function(t){Q.setThumbUnselected(t)},this.setCustomThumbs=function(t){Q.setCustomThumbs(t)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var t=Q.getOptions(),i=jQuery.extend(C,t);return{g_gallery:L,g_objGallery:I,g_objWrapper:w,g_arrItems:y,g_objStrip:j,g_objStripInner:A,g_aviaControl:P,g_touchThumbsControl:G,isVertical:R,g_options:i,g_thumbs:Q}},this.getObjThumbs=function(){return Q},this.getSelectedThumb=function(){var t=L.getSelectedItemIndex();return-1==t?null:Q.getThumbByIndex(t)},this.getSizeAndPosition=function(){return O.getElementSize(j)},this.getHeight=function(){return j.outerHeight()},this.getWidth=function(){return j.outerWidth()},this.getSizes=function(){return N},this.isVertical=function(){return R},this.isPlaced=function(){return H.is_placed},this.isMoveEnabled=function(){return z()}}

/* ug-TouchThumbs.js */

function UGTouchThumbsControl(){function t(){var t=jQuery.now(),e={};return e.passedTime=S.lastTime-S.startTime,e.lastActiveTime=t-S.buttonReleaseTime,e.passedDistance=S.lastPos-S.startPos,e.passedDistanceAbs=Math.abs(e.passedDistance),e}function e(){y.thumb_touch_slowFactor=D.normalizeSetting(5e-5,.01,1,100,_.strip_thumb_touch_sensetivity,!0)}function i(t){return 0==T?D.getMousePosition(t).pageX:D.getMousePosition(t).pageY}function n(t){var e=S.mousePos-t,i=S.innerPos-e,n=p.getInnerStripLimits();if(i>n.maxPos){o=i-n.maxPos;i=n.maxPos+o/3}if(i<n.minPos){var o=n.minPos-i;i=n.minPos-o/3}p.positionInnerStrip(i)}function o(t){var e=p.getInnerStripPos();S.mousePos=t,S.innerPos=e,S.lastPortionPos=e,S.lastDeltaTime=0,S.lastDeltaPos=0,S.startTime=jQuery.now(),S.startPos=S.innerPos,S.lastTime=S.startTime,S.lastPos=S.startPos,S.speed=0}function s(){var t=jQuery.now();t-S.lastTime>=y.touch_portion_time&&(S.lastDeltaTime=t-S.lastTime,S.lastDeltaTime>y.touch_portion_time&&(S.lastDeltaTime=y.touch_portion_time),S.lastDeltaPos=S.lastPos-S.lastPortionPos,S.lastPortionPos=S.lastPos,S.lastTime=t)}function a(){var t=y.thumb_touch_slowFactor,e=y.minDeltaTime,i=y.minPath,n=p.getInnerStripPos(),o=jQuery.now()-S.lastTime,s=n-S.lastPortionPos;o<e&&S.lastDeltaTime>0&&(o=S.lastDeltaTime,s=S.lastDeltaPos+s),o<e&&(o=e);var a=s>0?1:-1,u=0;o>0&&(u=s/o);var l=u*u/(2*t)*a;Math.abs(l)<=i&&(l=0);var m=p.getInnerStripPos(),c=m+l,d=p.fixInnerStripLimits(c),P=p.getInnerStripLimits(),v=y.limitsBreakAddition,h=!1,b=d;if(c>P.maxPos&&(h=!0,d=v,c<v&&(d=c)),c<P.minPos){h=!0;var f=P.minPos-v;d=f,c>f&&(d=c)}var _=d-m,D=Math.abs(Math.round(u/t));if(0!=l&&(D=D*_/l),m!=d){var w={left:d+"px"};1==T&&(w={top:d+"px"}),g.animate(w,{duration:D,easing:y.animationEasing,queue:!0,progress:r})}if(1==h){var j=y.returnAnimateSpeed,E={left:b+"px"};1==T&&(E={top:b+"px"}),g.animate(E,{duration:j,easing:y.returnAnimationEasing,queue:!0,progress:r})}}function r(){S.lastPos=p.getInnerStripPos(),p.triggerStripMoveEvent()}function u(){if(1==S.loop_active)return!0;S.loop_active=!0,S.handle=setInterval(s,10)}function l(t){if(0==S.loop_active)return!0;t&&a(i(t)),S.loop_active=!1,S.handle=clearInterval(S.handle)}function m(t){return 0==S.isControlEnabled||(S.buttonReleaseTime=jQuery.now(),0==S.touch_active?(l(t),!0):(t.preventDefault(),S.touch_active=!1,l(t),void f.removeClass("ug-dragging")))}function c(t){if(0==S.isControlEnabled)return!0;t.preventDefault(),S.touch_active=!0;var e=i(t);g.stop(!0),o(e),u(),f.addClass("ug-dragging")}function d(t){if(0==S.isControlEnabled)return!0;if(0==S.touch_active)return!0;if(t.preventDefault(),0==t.buttons)return S.touch_active=!1,l(t),!0;var e=i(t);S.lastPos=p.getInnerStripPos(),n(e),s()}function P(){f.bind("mousedown touchstart",c),jQuery(window).add("body").bind("mouseup touchend",m),jQuery("body").bind("mousemove touchmove",d)}var p,v,h,b,f,g,_,T,D=new UGFunctions,y={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},S={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){S.isControlEnabled=!0},this.disable=function(){S.isControlEnabled=!1},this.init=function(t){p=t,b=t.getObjects(),v=b.g_gallery,h=b.g_objGallery,f=b.g_objStrip,g=b.g_objStripInner,_=b.g_options,T=b.isVertical,e(),P()},this.isSignificantPassed=function(){var e=t();return e.passedTime>300||e.passedDistanceAbs>30},this.isTouchActive=function(){return 1==S.touch_active||(1==g.is(":animated")||t().lastActiveTime<50)},this.destroy=function(){f.unbind("mousedown"),f.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}

/* ug-panelbase.js */

function UGPanelsBase(){function e(e,n){switch(a.orientation){case"right":case"left":t={left:e+"px"};break;case"top":case"bottom":var t={top:e+"px"}}l.stop(!0).animate(t,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){n&&n()}})}function n(e){switch(a.orientation){case"right":case"left":c.placeElement(l,e,null);break;case"top":case"bottom":c.placeElement(l,null,e)}}function t(){o.trigger(i.events.FINISH_MOVE)}var a,i,l,s,o,r,d,h=new UniteGalleryMain,p=this,c=new UGFunctions;this.init=function(e,n,t,l,r){a=n,i=t,h=e,s=l,o=r,d=jQuery(h)},this.setHtml=function(e){if(l=e,"strip"==a.panelType)n=s.strippanel_enable_handle;else var n=s.gridpanel_enable_handle;if(1==n&&((r=new UGPanelHandle).init(i,l,s,a.panelType,h),r.setHtml()),!0===a.isDisabledAtStart){l.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){l.children(".ug-overlay-disabled").hide()},a.disabledAtStartTimeout)}},this.placeElements=function(){r&&r.placeHandle()},this.initEvents=function(){r&&(r.initEvents(),d.on(h.events.SLIDER_ACTION_START,function(){r.hideHandle()}),d.on(h.events.SLIDER_ACTION_END,function(){r.showHandle()}))},this.destroy=function(){r&&(r.destroy(),d.off(h.events.SLIDER_ACTION_START),d.off(h.events.SLIDER_ACTION_END))},this.openPanel=function(s){if(!s)var s=!1;return!l.is(":animated")&&(0!=a.isClosed&&(a.isClosed=!1,o.trigger(i.events.OPEN_PANEL),void(!1===s?e(a.originalPos,t):(n(a.originalPos),t()))))},this.closePanel=function(s){if(!s)var s=!1;if(l.is(":animated"))return!1;if(1==a.isClosed)return!1;var r=p.getClosedPanelDest();a.isClosed=!0,o.trigger(i.events.CLOSE_PANEL),!1===s?e(r,t):(n(r),t())},this.setClosedState=function(e){a.originalPos=e,o.trigger(i.events.CLOSE_PANEL),a.isClosed=!0},this.setOpenedState=function(e){o.trigger(i.events.OPEN_PANEL),a.isClosed=!1},this.getClosedPanelDest=function(){var e,n=c.getElementSize(l);switch(a.orientation){case"left":a.originalPos=n.left,e=-a.panelWidth;break;case"right":a.originalPos=n.left,e=(t=h.getSize()).width;break;case"top":a.originalPos=n.top,e=-a.panelHeight;break;case"bottom":a.originalPos=n.top;var t=h.getSize();e=t.height}return e},this.isPanelClosed=function(){return a.isClosed},this.setDisabledAtStart=function(e){if(e<=0)return!1;a.isDisabledAtStart=!0,a.disabledAtStartTimeout=e}}function UGPanelHandle(){function e(){o.removeClass("ug-button-hover")}function n(){o.addClass("ug-button-closed")}function t(){o.removeClass("ug-button-closed")}function a(e){if(e.stopPropagation(),e.stopImmediatePropagation(),0==r.validateClickTouchstartEvent(e.type))return!0;s.isPanelClosed()?s.openPanel():s.closePanel()}function i(){switch(s.getOrientation()){case"right":case"left":"top"!=d.panel_handle_align&&"bottom"!=d.panel_handle_align&&(d.panel_handle_align="top");break;case"bottom":"left"!=d.panel_handle_align&&"right"!=d.panel_handle_align&&(d.panel_handle_align="left");break;case"top":"left"!=d.panel_handle_align&&"right"!=d.panel_handle_align&&(d.panel_handle_align="right")}}var l,s,o,r=new UGFunctions,d={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,n,t,a,i){switch(s=e,l=n,a){case"grid":d.panel_handle_align=t.gridpanel_handle_align,d.panel_handle_offset=t.gridpanel_handle_offset,d.panel_handle_skin=t.gridpanel_handle_skin;break;case"strip":d.panel_handle_align=t.strippanel_handle_align,d.panel_handle_offset=t.strippanel_handle_offset,d.panel_handle_skin=t.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+a)}var o=i.getOptions().gallery_skin;""==d.panel_handle_skin&&(d.panel_handle_skin=o)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(s.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}l.append("<div class='"+e+" ug-skin-"+d.panel_handle_skin+"'></div>"),o=l.children(".ug-panel-handle-tip")},this.initEvents=function(){r.addClassOnHover(o),o.bind("click touchstart",a),jQuery(s).on(s.events.OPEN_PANEL,function(){e(),t()}),jQuery(s).on(s.events.CLOSE_PANEL,function(){e(),n()})},this.destroy=function(){r.destroyButton(o),jQuery(s).off(s.events.OPEN_PANEL),jQuery(s).off(s.events.CLOSE_PANEL)},this.placeHandle=function(){var e=r.getElementSize(o);i();var n=s.getOrientation();switch(n){case"left":r.placeElement(o,"right",d.panel_handle_align,-e.width);break;case"right":r.placeElement(o,-e.width,d.panel_handle_align,0,d.panel_handle_offset);break;case"top":r.placeElement(o,d.panel_handle_align,"bottom",d.panel_handle_offset,-e.height);break;case"bottom":r.placeElement(o,d.panel_handle_align,"top",d.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+n)}},this.hideHandle=function(){1==o.is(":visible")&&o.hide()},this.showHandle=function(){0==o.is(":visible")&&o.show()}}

/* ug-strippanel.js */

function UGStripPanel(){function t(t,e){S=t,v=jQuery(S);var n=!1;1==(I=jQuery.extend(I,e)).strippanel_vertical_type&&(I=jQuery.extend(I,k),n=!0),0==I.strippanel_enable_buttons&&(I=jQuery.extend(I,O),n=!0),1==n&&(I=jQuery.extend(I,e));var i=S.getOptions().gallery_skin;""==I.strippanel_buttons_skin&&(I.strippanel_buttons_skin=i),b=S.getElement(),C.init(S,j,y,I,P),(H=new UGThumbsStrip).init(S,I)}function e(){if(0==I.strippanel_vertical_type){if(0==j.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==j.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==j.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function n(){if(1==j.isFirstRun&&0==e())return!1;H.run(),a(),d(),f(),j.isFirstRun=!1,g()}function i(t){if(!t)var t=b;if(t.append("<div class='ug-strip-panel'></div>"),m=t.children(".ug-strip-panel"),1==I.strippanel_enable_buttons){var e="ug-strip-arrow-left",n="ug-strip-arrow-right";1==I.strippanel_vertical_type&&(e="ug-strip-arrow-up",n="ug-strip-arrow-down"),m.append("<div class='ug-strip-arrow "+e+" ug-skin-"+I.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),m.append("<div class='ug-strip-arrow "+n+" ug-skin-"+I.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}C.setHtml(m),H.setHtml(m),1==I.strippanel_enable_buttons&&(w=m.children("."+e),E=m.children("."+n)),r()}function r(){""!=I.strippanel_background_color&&m.css("background-color",I.strippanel_background_color)}function p(){var t=H.getHeight(),e=j.panelWidth;if(E){w.height(t),E.height(t);var n=w.children(".ug-strip-arrow-tip");B.placeElement(n,"center","middle");var i=E.children(".ug-strip-arrow-tip");B.placeElement(i,"center","middle")}var r=t+I.strippanel_padding_top+I.strippanel_padding_bottom;m.width(e),m.height(r),j.panelHeight=r;var p=e-I.strippanel_padding_left-I.strippanel_padding_right;E&&(p=p-2*E.outerWidth()-2*I.strippanel_padding_buttons),H.resize(p)}function s(){var t=H.getWidth(),e=j.panelHeight;if(E){w.width(t),E.width(t);var n=w.children(".ug-strip-arrow-tip");B.placeElement(n,"center","middle");var i=E.children(".ug-strip-arrow-tip");B.placeElement(i,"center","middle")}var r=t+I.strippanel_padding_left+I.strippanel_padding_right;m.width(r),m.height(e),j.panelWidth=r;var p=e-I.strippanel_padding_top-I.strippanel_padding_bottom;E&&(p=p-2*E.outerHeight()-2*I.strippanel_padding_buttons),H.resize(p)}function a(){0==I.strippanel_vertical_type?p():s()}function l(){E&&(B.placeElement(w,"left","top",I.strippanel_padding_left,I.strippanel_padding_top),B.placeElement(E,"right","top",I.strippanel_padding_right,I.strippanel_padding_top));var t=I.strippanel_padding_left;E&&(t+=E.outerWidth()+I.strippanel_padding_buttons),H.setPosition(t,I.strippanel_padding_top)}function o(){E&&(B.placeElement(w,"left","top",I.strippanel_padding_left,I.strippanel_padding_top),B.placeElement(E,"left","bottom",I.strippanel_padding_left,I.strippanel_padding_bottom));var t=I.strippanel_padding_top;E&&(t+=E.outerHeight()+I.strippanel_padding_buttons),H.setPosition(I.strippanel_padding_left,t)}function d(){0==I.strippanel_vertical_type?l():o(),C.placeElements()}function _(t){if(B.isButtonDisabled(t))return!0;"advance_item"==I.strippanel_buttons_role?S.nextItem():H.scrollForeward()}function u(t){if(B.isButtonDisabled(t))return!0;"advance_item"==I.strippanel_buttons_role?S.prevItem():H.scrollBack()}function g(){if(!E)return!0;if(0==H.isMoveEnabled())return B.disableButton(w),B.disableButton(E),!0;var t=H.getInnerStripLimits(),e=H.getInnerStripPos();e>=t.maxPos?B.disableButton(w):B.enableButton(w),e<=t.minPos?B.disableButton(E):B.enableButton(E)}function c(){g()}function h(){S.isLastItem()?B.disableButton(E):B.enableButton(E),S.isFirstItem()?B.disableButton(w):B.enableButton(w)}function f(){if(1==j.isEventsInited)return!1;j.isEventsInited=!0,E&&(B.addClassOnHover(E,"ug-button-hover"),B.addClassOnHover(w,"ug-button-hover"),B.setButtonOnClick(w,u),B.setButtonOnClick(E,_),"advance_item"!=I.strippanel_buttons_role?(jQuery(H).on(H.events.STRIP_MOVE,c),v.on(S.events.SIZE_CHANGE,g)):0==S.getOptions().gallery_carousel&&jQuery(S).on(S.events.ITEM_CHANGE,h)),C.initEvents()}var v,b,m,E,w,y=this,P=jQuery(this),S=new UniteGalleryMain,B=new UGFunctions,H=new UGThumbsStrip,C=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var I={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},k={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},O={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},j={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){E&&(B.destroyButton(E),B.destroyButton(w),jQuery(H).off(H.events.STRIP_MOVE),jQuery(S).off(S.events.ITEM_CHANGE),jQuery(S).off(S.events.SIZE_CHANGE)),C.destroy(),H.destroy()},this.getOrientation=function(){return j.orientation},this.setOrientation=function(t){j.orientation=t},this.init=function(e,n){t(e,n)},this.run=function(){n()},this.setHtml=function(t){i(t)},this.getElement=function(){return m},this.getSize=function(){return B.getElementSize(m)},this.setWidth=function(t){j.panelWidth=t},this.setHeight=function(t){j.panelHeight=t},this.resize=function(t){y.setWidth(t),a(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return C.isPanelClosed()},this.getClosedPanelDest=function(){return C.getClosedPanelDest()},this.openPanel=function(t){C.openPanel(t)},this.closePanel=function(t){C.closePanel(t)},this.setOpenedState=function(t){C.setOpenedState(t)},this.setClosedState=function(t){C.setClosedState(t)},this.setCustomThumbs=function(t){H.setCustomThumbs(t)},this.setDisabledAtStart=function(t){C.setDisabledAtStart(t)}}

/* ug-gridpanel.js */

function UGGridPanel(){function e(e,i){W=e,r(),i&&i.vertical_scroll&&(C.gridpanel_vertical_scroll=i.vertical_scroll),C=jQuery.extend(C,i),1==x.isHorType?(C=jQuery.extend(C,j),C=jQuery.extend(C,i)):1==C.gridpanel_vertical_scroll&&(C=jQuery.extend(C,G),(C=jQuery.extend(C,i)).grid_panes_direction="bottom");var n=W.getOptions().gallery_skin;""==C.gridpanel_arrows_skin&&(C.gridpanel_arrows_skin=n);var t=e.getObjects();k=t.g_objWrapper,O.init(W,x,S,C,P),(T=new UGThumbsGrid).init(W,C)}function r(){if(null==x.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function i(){r(),a(),T.run(),l(),g(),v(),_()}function n(){k.append("<div class='ug-grid-panel'></div>"),E=k.children(".ug-grid-panel"),x.isHorType?(E.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+C.gridpanel_arrows_skin+"'></div>"),E.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+C.gridpanel_arrows_skin+"'></div>"),H=E.children(".grid-arrow-left-hortype"),y=E.children(".grid-arrow-right-hortype")):0==C.gridpanel_vertical_scroll?(E.append("<div class='grid-arrow grid-arrow-left ug-skin-"+C.gridpanel_arrows_skin+"'></div>"),E.append("<div class='grid-arrow grid-arrow-right ug-skin-"+C.gridpanel_arrows_skin+"'></div>"),H=E.children(".grid-arrow-left"),y=E.children(".grid-arrow-right")):(E.append("<div class='grid-arrow grid-arrow-up ug-skin-"+C.gridpanel_arrows_skin+"'></div>"),E.append("<div class='grid-arrow grid-arrow-down ug-skin-"+C.gridpanel_arrows_skin+"'></div>"),H=E.children(".grid-arrow-up"),y=E.children(".grid-arrow-down")),O.setHtml(E),H.fadeTo(0,0),y.fadeTo(0,0),T.setHtml(E),t()}function t(){""!=C.gridpanel_background_color&&E.css("background-color",C.gridpanel_background_color)}function a(){"center"==C.gridpanel_grid_align&&(C.gridpanel_grid_align="middle")}function d(){var e=C.gridpanel_padding_border_top+C.gridpanel_padding_border_bottom,r=x.panelHeight-e;if(0==C.gridpanel_arrows_always_on&&1==T.getNumPanesEstimationByHeight(r))return r;e=z.getElementSize(y).height+C.gridpanel_arrows_padding_vert;return 1==C.gridpanel_vertical_scroll&&(e*=2),e+=C.gridpanel_padding_border_top+C.gridpanel_padding_border_bottom,r=x.panelHeight-e}function o(){var e=C.gridpanel_padding_border_left+C.gridpanel_padding_border_right,r=x.panelWidth-e;return 0==C.gridpanel_arrows_always_on&&1==T.getNumPanesEstimationByWidth(r)?r:(e+=2*(z.getElementSize(y).width+C.gridpanel_arrows_padding_hor),r=x.panelWidth-e)}function l(){var e=!1;1==C.gridpanel_arrows_always_on?e=!0:T.getNumPanes()>1&&(e=!0),1==e?(y.show().fadeTo(0,1),H.show().fadeTo(0,1),x.arrowsVisible=!0):(y.hide(),H.hide(),x.arrowsVisible=!1)}function g(){var e=T.getSize();1==x.isHorType?x.panelHeight=e.height+C.gridpanel_padding_border_top+C.gridpanel_padding_border_bottom:x.panelWidth=e.width+C.gridpanel_padding_border_left+C.gridpanel_padding_border_right,z.setElementSize(E,x.panelWidth,x.panelHeight)}function _(){if(1==x.isEventsInited)return!1;x.isEventsInited=!0,H&&(z.addClassOnHover(H),T.attachPrevPaneButton(H)),y&&(z.addClassOnHover(y),T.attachNextPaneButton(y)),O.initEvents()}function s(){return C.gridpanel_padding_border_left}function p(){var e=C.gridpanel_grid_align,r=0;switch(e){case"top":r=C.gridpanel_padding_border_top;break;case"bottom":r=C.gridpanel_padding_border_bottom}var i=s(),n=T.getElement();z.placeElement(n,i,e,0,r)}function h(){var e,r,i,n,t=z.getElementSize(H),a=T.getSize();switch(C.gridpanel_grid_align){default:case"top":e=C.gridpanel_padding_border_top+t.height+C.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=x.panelHeight-a.height-t.height-C.gridpanel_padding_border_bottom-C.gridpanel_arrows_padding_vert}var d=s(),o=T.getElement();z.placeElement(o,d,e);a=T.getSize();switch(C.gridpanel_arrows_align_vert){default:case"center":case"middle":r=(a.top-t.height)/2,i=a.bottom+(x.panelHeight-a.bottom-t.height)/2,n=0;break;case"grid":r=a.top-t.height-C.gridpanel_arrows_padding_vert_vert,i=a.bottom+C.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":r=C.gridpanel_padding_border_top,i="bottom",n=C.gridpanel_padding_border_bottom}z.placeElement(H,"center",r),z.placeElement(y,"center",i,0,n)}function c(){1==x.arrowsVisible?h():p()}function b(){var e,r,i,n=z.getElementSize(H),t=T.getSize(),a=C.gridpanel_padding_border_top;switch(C.gridpanel_grid_align){case"middle":switch(C.gridpanel_arrows_align_vert){default:d=t.height+C.gridpanel_arrows_padding_vert+n.height;a=(x.panelHeight-d)/2;break;case"border":case"borders":a=(x.panelHeight-n.height-C.gridpanel_padding_border_bottom-t.height)/2}break;case"bottom":var d=t.height+n.height+C.gridpanel_arrows_padding_vert;a=x.panelHeight-d-C.gridpanel_padding_border_bottom}var o=T.getElement(),l=s();z.placeElement(o,l,a);t=T.getSize();switch(C.gridpanel_arrows_align_vert){default:case"center":case"middle":e=t.bottom+(x.panelHeight-t.bottom-n.height)/2,i=0;break;case"grid":e=t.bottom+C.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=C.gridpanel_padding_border_bottom}r=-n.width/2-C.gridpanel_space_between_arrows/2,z.placeElement(H,"center",e,r,i);var g=Math.abs(r);z.placeElement(y,"center",e,g,i)}function w(){1==x.arrowsVisible?b():p()}function u(){var e,r,i,n,t=z.getElementSize(H),a=T.getSize();switch(C.gridpanel_grid_align){default:case"left":e=C.gridpanel_padding_border_left+C.gridpanel_arrows_padding_hor+t.width;break;case"middle":case"center":e="center";break;case"right":e=x.panelWidth-a.width-t.width-C.gridpanel_padding_border_right-C.gridpanel_arrows_padding_hor}var d=T.getElement();switch(z.placeElement(d,e,C.gridpanel_padding_border_top),a=T.getSize(),C.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(a.height-t.height)/2+a.top;break;case"top":n=C.gridpanel_padding_border_top+C.gridpanel_arrows_padding_vert;break;case"bottom":n=x.panelHeight-C.gridpanel_padding_border_bottom-C.gridpanel_arrows_padding_vert-t.height}switch(C.gridpanel_arrows_align_hor){default:case"borders":r=C.gridpanel_padding_border_left,i=x.panelWidth-C.gridpanel_padding_border_right-t.width;break;case"grid":r=a.left-C.gridpanel_arrows_padding_hor-t.width,i=a.right+C.gridpanel_arrows_padding_hor;break;case"center":r=(a.left-t.width)/2,i=a.right+(x.panelWidth-a.right-t.width)/2}z.placeElement(H,r,n),z.placeElement(y,i,n)}function f(){var e,r=T.getSize();switch(C.gridpanel_grid_align){default:case"left":e=C.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=x.panelWidth-r.width-C.gridpanel_padding_border_right}var i=T.getElement();z.placeElement(i,e,C.gridpanel_padding_border_top)}function m(){1==x.arrowsVisible?u():f()}function v(){0==x.isHorType?1==C.gridpanel_vertical_scroll?c():w():m(),O.placeElements()}var k,E,y,H,S=this,P=jQuery(this),W=new UniteGalleryMain,z=new UGFunctions,T=new UGThumbsGrid,O=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var C={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},G={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},j={gridpanel_grid_align:"center"},x={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){H&&z.destroyButton(H),y&&z.destroyButton(y),O.destroy(),T.destroy()},this.getOrientation=function(){return x.orientation},this.setOrientation=function(e){switch(x.orientation=e,e){case"right":case"left":x.isHorType=!1;break;case"top":case"bottom":x.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==x.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+x.orientation+"). Please use setWidth");x.panelHeight=e;var r=d();T.setMaxHeight(r)},this.setWidth=function(e){if(0==x.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+x.orientation+"). Please use setHeight");x.panelWidth=e;var r=o();T.setMaxWidth(r)},this.init=function(r,i){e(r,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return E},this.getSize=function(){return z.getElementSize(E)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return O.isPanelClosed()},this.getClosedPanelDest=function(){return O.getClosedPanelDest()},this.openPanel=function(e){O.openPanel(e)},this.closePanel=function(e){O.closePanel(e)},this.setOpenedState=function(e){O.setOpenedState(e)},this.setClosedState=function(e){O.setClosedState(e)},this.setDisabledAtStart=function(e){O.setDisabledAtStart(e)}}

/* ug-thumbsgrid.js */

function UGThumbsGrid(){function e(e,t,n){S=e.getObjects(),(V=e).attachThumbsPanel("grid",B),C=jQuery(e),D=S.g_objWrapper,z=S.g_arrItems,!0===n&&(R.isTilesMode=!0),R.numThumbs=z.length,d(t),R.isNavigationVertical="top"==k.grid_panes_direction||"bottom"==k.grid_panes_direction,1==R.isTilesMode?(U.setFixedMode(),U.setApproveClickFunction(I),U.init(e,k),O=U.getObjThumbs()):(t.thumb_fixed_size=!0,O.init(e,t))}function t(e){var t=D;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),Q=t.children(".ug-thumbs-grid"),G=Q.children(".ug-thumbs-grid-inner"),1==R.isTilesMode?U.setHtml(G):O.setHtmlThumbs(G)}function n(){if(0==R.isHorizontal){if(0==R.gridHeight)throw new Error("You must set height before run.")}else if(0==R.gridWidth)throw new Error("You must set width before run.")}function r(){var e=V.getSelectedItem();if(n(),1==R.isFirstTimeRun&&(1==R.isTilesMode?(u(),U.run()):(O.setHtmlProperties(),u(),O.loadThumbsImages()),j()),_(),1==R.isFirstTimeRun&&R.isTilesMode){var t=O.getThumbs();t.each(function(e,t){D.trigger(R.eventSizeChange,jQuery(t))}),t.fadeTo(0,1)}null!=e&&o(e.index),F.trigger(B.events.PANE_CHANGE,R.currentPane),R.isFirstTimeRun=!1}function s(){var e=G.children(".ug-thumb-wrapper"),t=jQuery(e[0]).outerHeight(),n=R.gridWidth,i=k.grid_num_rows*t+(k.grid_num_rows-1)*k.grid_space_between_rows+2*k.grid_padding;R.gridHeight=i,L.setElementSize(Q,n,i),L.setElementSize(G,n,i),R.innerWidth=n,R.innerHeight=i}function a(){var e=G.children(".ug-thumb-wrapper"),t=jQuery(e[0]).outerWidth(),n=k.grid_num_cols*t+(k.grid_num_cols-1)*k.grid_space_between_cols+2*k.grid_padding,i=R.gridHeight;R.gridWidth=n,L.setElementSize(Q,n,i),L.setElementSize(G,n,i),R.innerWidth=n,R.innerHeight=i}function u(){0==R.isHorizontal?a():s()}function o(e){var t=E(e);if(-1==t)return!1;B.gotoPane(t,"scroll")}function d(e){k=jQuery.extend(k,e),O.setOptions(e)}function h(){var e=G.children(".ug-thumb-wrapper"),t=0,n=0,r=0,s=0,a=0,u=0;R.innerWidth=0,R.numPanes=1,R.arrPanes=[],R.numThumbsInPane=0,R.arrPanes.push(s);var o=e.length;for(i=0;i<o;i++){var d=jQuery(e[i]);L.placeElement(d,t,n);var h=d.outerWidth(),g=d.outerHeight();t>a&&(a=t);var c=n+g;c>u&&(u=c);var _=a+h;_>R.innerWidth&&(R.innerWidth=_),t+=h+k.grid_space_between_cols,++r>=k.grid_num_cols&&(n+=g+k.grid_space_between_rows,t=s,r=0),1==R.numPanes&&R.numThumbsInPane++,n+g>R.gridHeight&&(n=0,t=s=R.innerWidth+k.grid_space_between_cols,r=0,1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=u,Q.height(R.gridHeight)),i<o-1&&(R.numPanes++,R.arrPanes.push(s)))}G.width(R.innerWidth),1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=u,Q.height(u))}function g(){var e=G.children(".ug-thumb-wrapper"),t=0,n=0,r=0,s=0,a=0,u=0;R.innerWidth=0,R.numPanes=1,R.arrPanes=[],R.numThumbsInPane=0,R.arrPanes.push(a);var o=e.length;for(i=0;i<o;i++){var d=jQuery(e[i]);L.placeElement(d,t,n);var h=d.outerWidth(),g=d.outerHeight();t+=h+k.grid_space_between_cols;var c=n+g;c>r&&(r=c),++s>=k.grid_num_cols&&(n+=g+k.grid_space_between_rows,t=a,s=0),1==R.numPanes&&R.numThumbsInPane++,c=n+g;var _=u+R.gridHeight;c>_&&(1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=r,Q.height(R.gridHeight),_=R.gridHeight),u=n=_+k.grid_space_between_rows,t=a=0,s=0,i<o-1&&(R.numPanes++,R.arrPanes.push(n)))}G.height(r),R.innerHeight=r,1==R.isMaxHeight&&1==R.numPanes&&(R.gridHeight=r,Q.height(r))}function c(){var e=G.children(".ug-thumb-wrapper"),t=k.grid_padding,n=k.grid_padding,r=n,s=t,a=0,u=0,o=0,d=0;R.innerWidth=0,R.numPanes=1,R.arrPanes=[],R.numThumbsInPane=0,R.arrPanes.push(t-k.grid_padding);var h=e.length;for(i=0;i<h;i++){var g=jQuery(e[i]),c=g.outerWidth(),_=g.outerHeight();s-t+c>R.gridWidth&&(r=0,++d>=k.grid_num_rows?(d=0,t=s,o=0,r=n,1==R.numPanes&&(R.gridWidth=a+k.grid_padding,Q.width(R.gridWidth)),R.numPanes++,R.arrPanes.push(t-k.grid_padding)):(s=t,r=o+k.grid_space_between_rows)),L.placeElement(g,s,r);var l=s+c;l>a&&(a=l);var m=r+_;m>o&&(o=m),m>u&&(u=m),(l=a+c)>R.innerWidth&&(R.innerWidth=l),s+=c+k.grid_space_between_cols,1==R.numPanes&&R.numThumbsInPane++}R.innerWidth=a,R.innerHeight=o,G.width(R.innerWidth),G.height(R.innerHeight),1==R.numPanes&&(R.gridWidth=a+k.grid_padding,R.gridHeight=u+k.grid_padding,Q.width(R.gridWidth),Q.height(R.gridHeight))}function _(){0==R.isHorizontal?R.isNavigationVertical?g():h():c()}function l(e){if(e<0||e>=R.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function m(e){if(e>=R.numPanes||e<0)throw new Error("Pane "+index+" doesn't exists.");return!0}function f(e){var t=p(e);if(0==t)return!1;G.css(t)}function v(e){var t=p(e);if(0==t)return!1;G.stop(!0).animate(t,{duration:k.grid_transition_duration,easing:k.grid_transition_easing,queue:!1})}function P(){v(-R.arrPanes[R.currentPane])}function b(){return 1==R.isNavigationVertical?R.gridHeight:R.gridWidth}function p(e){var t={};return 1==R.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function w(){var e=L.getElementSize(G);return 1==R.isNavigationVertical?e.top:e.left}function E(e){return 0==l(e)?-1:Math.floor(e/R.numThumbsInPane)}function H(){if(1==R.numPanes)return!1;var e=L.getStoredEventData(R.storedEventID),t=e.diffTime,n=w(),i=Math.abs(n-e.startInnerPos);return i>30||i>5&&t>300}function T(){var e=L.getStoredEventData(R.storedEventID),t=w();diffPos=Math.abs(e.startInnerPos-t);var n=b(),i=Math.round(3*n/8);return diffPos>=i||e.diffTime<300&&diffPos>25}function I(){return 1==R.numPanes||L.isApproveStoredEventClick(R.storedEventID,R.isNavigationVertical)}function N(e){if(1==H())return!0;var t=jQuery(this),n=O.getItemByThumb(t);V.selectItem(n)}function W(e){if(1==R.numPanes)return!0;if(1==R.touchActive)return!0;0==R.isTilesMode&&e.preventDefault(),R.touchActive=!0;var t={startInnerPos:w()};L.storeEventData(e,R.storedEventID,t)}function M(){return 0!=k.grid_vertical_scroll_ondrag&&(1!=R.isNavigationVertical&&"vert"===L.handleScrollTop(R.storedEventID))}function y(e){if(0==R.touchActive)return!0;e.preventDefault(),L.updateStoredEventData(e,R.storedEventID);var t=L.getStoredEventData(R.storedEventID,R.isNavigationVertical);if(M())return!0;var n=t.diffMousePos,i=t.startInnerPos+n,r=n>0?"prev":"next",s=R.arrPanes[R.numPanes-1];0==k.grid_carousel&&i>0&&"prev"==r&&(i/=3),0==k.grid_carousel&&i<-s&&"next"==r&&(i=t.startInnerPos+n/3),f(i)}function A(e){if(0==R.touchActive)return!0;L.updateStoredEventData(e,R.storedEventID);var t=L.getStoredEventData(R.storedEventID,R.isNavigationVertical);if(R.touchActive=!1,0==T())return P(),!0;"next"==(w()-t.startInnerPos>0?"prev":"next")?0==k.grid_carousel&&B.isLastPane()?P():B.nextPane():0==k.grid_carousel&&B.isFirstPane()?P():B.prevPane()}function x(){var e=V.getSelectedItem();O.setThumbSelected(e.objThumbWrapper),o(e.index)}function j(){0==R.isTilesMode?(O.initEvents(),Q.find(".ug-thumb-wrapper").on("click touchend",N),C.on(V.events.ITEM_CHANGE,x)):U.initEvents(),Q.bind("mousedown touchstart",W),jQuery("body").bind("mousemove touchmove",y),jQuery(window).add("body").bind("mouseup touchend",A)}var C,S,D,z,Q,G,B=this,F=jQuery(this),V=new UniteGalleryMain,L=new UGFunctions,O=new UGThumbsGeneral,U=new UGTileDesign,k={grid_panes_direction:"left",grid_num_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var R={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid"};this.destroy=function(){if(0==R.isTilesMode){var e=Q.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),C.on(V.events.ITEM_CHANGE),O.destroy()}else U.destroy();Q.unbind("mousedown"),Q.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),F.off(B.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){O.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return E(e.index)==R.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==R.isTilesMode)t=k.tile_height;else var t=O.getOptions().thumb_height;var n=O.getNumThumbs(),i=Math.ceil(n/k.grid_num_cols),r=i*t+(i-1)*k.grid_space_between_rows;return Math.ceil(r/e)},this.getNumPanesEstimationByWidth=function(e){if(R.isTilesMode)t=k.tile_width;else var t=O.getOptions().thumb_width;var n=O.getNumThumbs(),i=Math.ceil(n/k.grid_num_rows),r=i*t+(i-1)*k.grid_space_between_cols;return Math.ceil(r/e)},this.getHeightEstimationByWidth=function(e){if(0==R.isTilesMode)throw new Error("This function works only with tiles mode");var t=O.getNumThumbs(),n=L.getNumItemsInSpace(e,k.tile_width,k.grid_space_between_cols),i=Math.ceil(t/n);i>k.grid_num_rows&&(i=k.grid_num_rows);var r=L.getSpaceByNumItems(i,k.tile_height,k.grid_space_between_rows);return r+=2*k.grid_padding},this.getElement=function(){return Q},this.getSize=function(){return L.getElementSize(Q)},this.getNumPanes=function(){return R.numPanes},this.isFirstPane=function(){return 0==R.currentPane},this.isLastPane=function(){return R.currentPane==R.numPanes-1},this.getPaneInfo=function(){return{pane:R.currentPane,total:R.numPanes}},this.getPane=function(){return R.currentPane},this.setWidth=function(e){R.gridWidth=e,R.isHorizontal=!0},this.setMaxWidth=function(e){R.gridWidth=e,R.isMaxWidth=!0,R.isHorizontal=!0},this.setHeight=function(e){R.gridHeight=e,R.isHorizontal=!1},this.setMaxHeight=function(e){R.gridHeight=e,R.isMaxHeight=!0,R.isHorizontal=!1},this.gotoPane=function(e,t){if(0==m(e))return!1;if(e==R.currentPane)return!1;var n=-R.arrPanes[e];R.currentPane=e,v(n),F.trigger(B.events.PANE_CHANGE,e)},this.nextPane=function(){var e=R.currentPane+1;if(e>=R.numPanes){if(0==k.grid_carousel)return!0;e=0}B.gotoPane(e,"next")},this.prevPane=function(){var e=R.currentPane-1;if(e<0&&(e=R.numPanes-1,0==k.grid_carousel))return!1;B.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){if(L.setButtonOnClick(e,B.nextPane),1==k.grid_carousel)return!0;B.isLastPane()&&e.addClass("ug-button-disabled"),F.on(B.events.PANE_CHANGE,function(){B.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachPrevPaneButton=function(e){if(L.setButtonOnClick(e,B.prevPane),1==k.grid_carousel)return!0;B.isFirstPane()&&e.addClass("ug-button-disabled"),F.on(B.events.PANE_CHANGE,function(){B.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")})},this.attachBullets=function(e){e.setActive(R.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,n){B.gotoPane(n,"theme"),e.setActive(n)}),jQuery(B).on(B.events.PANE_CHANGE,function(t,n){e.setActive(n)})},this.getObjTileDesign=function(){return U},this.init=function(t,n,i){e(t,n,i)},this.run=function(){r()},this.setHtml=function(e){t(e)}}

/* ug-tiles.js */

function UGTiles(){function e(e,i){g_objects=e.getObjects(),le=e,q=jQuery(e),J=g_objects.g_objWrapper,$=g_objects.g_arrItems,de=jQuery.extend(de,i),t(),ae.init(e,de),oe=ae.getObjThumbs()}function t(){de.tiles_min_columns<1&&(de.tiles_min_columns=1),0!=de.tiles_max_columns&&de.tiles_max_columns<de.tiles_min_columns&&(de.tiles_max_columns=de.tiles_min_columns)}function i(e){if(!e)var e=J;K=e;var t=de.tiles_type;e.addClass("ug-tiletype-"+t),ae.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function n(){if(K.addClass("ug-tiles-rest-mode"),he.isTransInited=!0,1==de.tiles_enable_transition){K.addClass("ug-tiles-transit");var e=ae.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&K.addClass("ug-tiles-transit-overlays"),he.isTransActive=!0}}function l(){return re.getElementSize(K).width}function r(){return 0!=he.isTransInited&&(K.addClass("ug-tiles-transition-active"),K.removeClass("ug-tiles-rest-mode"),0!=he.isTransActive&&void ae.disableEvents())}function a(){if(0==he.isTransInited)return!1;K.removeClass("ug-tiles-transition-active"),K.addClass("ug-tiles-rest-mode")}function o(){1==he.isTransActive?(setTimeout(function(){ae.enableEvents(),ae.triggerSizeChangeEventAllTiles(),a()},800),he.handle&&clearTimeout(he.handle),he.handle=setTimeout(function(){a(),ae.triggerSizeChangeEventAllTiles(),he.handle=null},2e3)):(ae.triggerSizeChangeEventAllTiles(),a())}function s(){se.colWidth=(se.availWidth-se.colGap*(se.numCols-1))/se.numCols,se.colWidth=Math.floor(se.colWidth),se.totalWidth=re.getSpaceByNumItems(se.numCols,se.colWidth,se.colGap)}function d(){if(se.colWidth=de.tiles_col_width,se.minCols=de.tiles_min_columns,0==le.isMobileMode()?se.colGap=de.tiles_space_between_cols:se.colGap=de.tiles_space_between_cols_mobile,se.galleryWidth=l(),se.availWidth=se.galleryWidth,1==de.tiles_include_padding&&(se.availWidth=se.galleryWidth-2*se.colGap),1==de.tiles_exact_width)se.numCols=re.getNumItemsInSpace(se.availWidth,se.colWidth,se.colGap),se.maxCols>0&&se.numCols>se.maxCols&&(se.numCols=se.maxCols),se.numCols<se.minCols?(se.numCols=se.minCols,s()):se.totalWidth=se.numCols*(se.colWidth+se.colGap)-se.colGap;else{var e=re.getNumItemsInSpaceRound(se.availWidth,se.colWidth,se.colGap);e<se.minCols?e=se.minCols:0!=se.maxCols&&e>se.maxCols&&(e=se.maxCols),se.numCols=e,s()}switch(de.tiles_align){case"center":default:se.addX=Math.round((se.galleryWidth-se.totalWidth)/2);break;case"left":se.addX=0;break;case"right":se.addX=se.galleryWidth-se.totalWidth}for(se.maxColHeight=0,se.arrPosx=[],col=0;col<se.numCols;col++){var t=re.getColX(col,se.colWidth,se.colGap);se.arrPosx[col]=t+se.addX}se.colHeights=[0]}function h(){var e=0,t=999999999;for(col=0;col<se.numCols;col++){if(void 0==se.colHeights[col]||0==se.colHeights[col])return col;se.colHeights[col]<t&&(e=col,t=se.colHeights[col])}return e}function u(e,t,i,n){if(null===n||void 0===n)var n=h();var l=0;void 0!==se.colHeights[n]&&(l=se.colHeights[n]);var r=ae.getTileHeightByWidth(se.colWidth,e);if(null===r){if(1==de.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");r=re.getElementSize(e).height}var a=se.arrPosx[n];re.placeElement(e,a,l);var o=l+r;se.colHeights[n]=o+se.colGap,se.maxColHeight<o&&(se.maxColHeight=o),1==t&&e.show().fadeTo(0,1),1==i&&K.height(se.maxColHeight)}function c(e){e||(e=!1),d();var t=oe.getThumbs();r(),ae.resizeAllTiles(se.colWidth,ae.resizemode.VISIBLE_ELEMENTS);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),l=void 0;1==de.tiles_keep_order&&(l=re.getColByIndex(se.numCols,i)),u(n,e,!1,l)}o();var a=K.height();1==he.isTransActive&&a>se.maxColHeight?setTimeout(function(){K.height(se.maxColHeight)},700):K.height(se.maxColHeight)}function m(e){var t=e.index();if(!0===le.getItem(t).ordered_placed)return!1;var i=re.getPrevRowSameColIndex(t,se.numCols);return i<0||!0===le.getItem(i).ordered_placed}function g(e,t){if(!0!==t&&0==m(e))return!1;var i=e.index(),n=re.getColByIndex(se.numCols,i),l=le.getItem(i);ae.resizeTile(e,se.colWidth),u(e,!0,!0,n),l.ordered_placed=!0;var r=le.getNumItems(),a=re.getNextRowSameColIndex(i,se.numCols);if(a>=r)return!1;var o=oe.getThumbByIndex(a),s=le.getItem(a);oe.isThumbLoaded(o);oe.isThumbLoaded(o)&&!s.ordered_placed&&g(o,!0)}function f(e,t){if(1==t)return!1;e=jQuery(e);var i=jQuery(e).parent();oe.triggerImageLoadedEvent(i,e),1==de.tiles_keep_order?g(i):(ae.resizeTile(i,se.colWidth),u(i,!0,!0))}function _(){var e=oe.getThumbs();d();var t=Math.abs(se.galleryWidth-se.totalWidth);if(1==de.tiles_set_initial_height&&0==re.isScrollbarExists()&&t<25){e.length;var i=Math.ceil(e.length/se.numCols)*de.tiles_col_width*.75;K.height(i),d()}e.fadeTo(0,0);var l=jQuery(K).find("img.ug-thumb-image");if(1==he.isFixedMode)ne.trigger(ie.events.TILES_FIRST_PLACED),c(!0),re.checkImagesLoaded(l,function(){n()});else{var r=se.numCols,a=se.galleryWidth,o=!1;re.checkImagesLoaded(l,function(){d(),r==se.numCols&&a==se.galleryWidth||c(!1),n()},function(e,t){0==o&&ne.trigger(ie.events.TILES_FIRST_PLACED),o=!0,f(e,t)})}}function v(){var e=l(),t=oe.getThumbs(),i=de.tiles_justified_row_height,n=[],r=0,a=de.tiles_justified_space_between,o=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var l=oe.getItemByThumb(t),a=l.thumbWidth;l.thumbHeight!==i&&(a=Math.floor(l.thumbRatioByWidth*i)),n[e]=a,r+=a});var s=Math.ceil(r/e);s>o&&(s=o);var d=r/s,h=[],u=0,c=[],m=[],g=0,f=0;jQuery.each(t,function(e,t){var i=n[e];g+i/2>(f+1)*d&&(c[h.length]=u,h.push(m),m=[],u=0,f++),g+=i,u+=i,m.push(t)}),c[h.length]=u,h.push(m);var _=[],v=[],p=0;return jQuery.each(h,function(t,l){l.length;var r=c[t],o=(l.length-1)*a,s=(e-o)/r,d=Math.round(i*s);p+=d,t>0&&(p+=a),v.push(d);var h=d/i,u=[],m=o;jQuery.each(l,function(e,t){var i=jQuery(t).index(),l=n[i],r=Math.round(l*h);u[e]=r,m+=r});var g=m-e;jQuery.each(u,function(e,t){if(0==g)return!1;g<0?(u[e]=t+1,g++):(u[e]=t-1,g--),e==u.length-1&&0!=g&&(u[e]-=g)}),_[t]=u}),{arrRows:h,arrRowWidths:_,arrRowHeights:v,gap:a,totalHeight:p}}function p(e){if(!e)var e=!1;var t=l(),i=v();K.height(i.totalHeight),l()!=t&&(i=v()),r();var n=0,a=0;jQuery.each(i.arrRows,function(t,l){var r=i.arrRowWidths[t],o=i.arrRowHeights[t],s=0;jQuery.each(l,function(t,l){var d=jQuery(l),h=o,u=r[t];ae.resizeTile(d,u,h,ae.resizemode.VISIBLE_ELEMENTS),re.placeElement(d,s,n),(s+=u)>a&&(a=s),s+=i.gap,1==e&&jQuery(l).show()}),n+=o+i.gap}),o()}function W(){var e=jQuery(J).find("img.ug-thumb-image"),t=oe.getThumbs();t.fadeTo(0,0),re.checkImagesLoaded(e,function(){setTimeout(function(){p(!0),t.fadeTo(0,1),ne.trigger(ie.events.TILES_FIRST_PLACED),n()})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();oe.triggerImageLoadedEvent(i,e)})}function C(){var e=jQuery(J).find("img.ug-thumb-image");oe.getThumbs().fadeTo(0,0),re.checkImagesLoaded(e,function(){H(!0),ne.trigger(ie.events.TILES_FIRST_PLACED),n()},function(e,t){e=jQuery(e);var i=jQuery(e).parent();oe.triggerImageLoadedEvent(i,e)})}function T(){var e=l();switch(ue.galleryWidth=e,ee={},ue.colWidth=de.tiles_nested_col_width,ue.optimalTileWidth=de.tiles_nested_optimal_tile_width,ue.currentGap=de.tiles_space_between_cols,1==le.isMobileMode()&&(ue.currentGap=de.tiles_space_between_cols_mobile),null==ue.colWidth?ue.colWidth=Math.floor(ue.optimalTileWidth/ue.nestedOptimalCols):ue.optimalTileWidth>ue.colWidth?ue.nestedOptimalCols=Math.ceil(ue.optimalTileWidth/ue.colWidth):ue.nestedOptimalCols=1,ue.maxColumns=re.getNumItemsInSpace(e,ue.colWidth,ue.currentGap),ue.colWidth=re.getItemSizeInSpace(e,ue.maxColumns,ue.currentGap),ue.gridY=0,te=[],oe.getThumbs().each(function(){var e=b(jQuery(this));te.push(e)}),ue.optimalTileWidth>ue.colWidth?ue.nestedOptimalCols=Math.ceil(ue.optimalTileWidth/ue.colWidth):ue.nestedOptimalCols=1,ue.totalWidth=ue.maxColumns*(ue.colWidth+ue.currentGap)-ue.currentGap,de.tiles_align){case"center":default:ue.addX=Math.round((ue.galleryWidth-ue.totalWidth)/2);break;case"left":ue.addX=0;break;case"right":ue.addX=ue.galleryWidth-ue.totalWidth}ue.maxGridY=0}function H(e){var t=l();T(),y();var i=ue.maxGridY*(ue.colWidth+ue.currentGap)-ue.currentGap;K.height(i),l()!=t&&(T(),y()),0==de.tiles_nested_debug&&V(e)}function b(e){var t,i,n={},l=ue.colWidth,r=ue.currentGap,a=ae.getTileImageSize(e),o=e.index(),s=Math.ceil(I(o)*(1*ue.nestedOptimalCols/3)+2*ue.nestedOptimalCols/3),d=a.width,h=a.height,u=d/h;return d>h?(t=s,0==(i=Math.round(t/u))&&(i=1)):(i=s,0==(t=Math.round(i*u))&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*l+r*(t-1),n.height=i*l+r*(i-1),n.imgWidth=d,n.imgHeight=h,n.left=0,n.top=0,n}function I(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function x(e,t){if(0==t){for(i=ue.currentItem;i<te.length;i++)w(i,!0);ue.currentItem=te.length-1}else w(ue.currentItem,!0);for(var i=0;i<=ue.currentItem;i++)P(i,!0);ue.currentItem++}function y(e){if(1==de.tiles_nested_debug)return void 0===e&&(e=!0),x(!0,e),!1;for(var t=0;t<te.length;t++)w(t,!0)}function w(e,t){if(!t)var t=!1;ue.maxColHeight=0;for(var i=re.getObjectLength(ee),n=ue.gridY;n<=i+1;n++){for(var l=0;l<ue.maxColumns;l++)if(0==O(ue.gridY)||0==B(ue.gridY,l))return void j(e,A(l),l);ue.gridY++}}function j(e,t,i){var n=jQuery.extend(!0,{},te[e]),l=n.dimWidth,r=t-n.dimWidth,a=ue.nestedOptimalCols;if(t<=n.dimWidth||r<=.33*a||t<=a)L(e,t);else if(r<=a)a>=4?1==k(Math.floor(t/2),i)?L(e,Math.floor(t/2)+1):L(e,Math.floor(t/2)):L(objImage,t);else if(1==k(l,i))switch(l>=a){case!0:L(e,l-1);break;case!1:L(e,l+1)}var o=z(e,(n=jQuery.extend(!0,{},te[e])).dimWidth,i);if(ue.columnsValueToEnableHeightResize<=o[0]&&ue.maxColumns>=2*ue.nestedOptimalCols){var s=Q(i,n),d=Y(e,s.newHeight,!0);te[e].dimHeight=d.dimHeight;var h=S(o,d.dimWidth),u=!1;E(h)>=2&&(u=!0),s.newHeight>=n.dimHeight&&(n=Y(e,s.newHeight,!0));var c=M(s.idToResize,s.newHeight,n.dimHeight);return n.top=ue.gridY,n.left=i,c.push({tileID:e,sizes:n}),R(c)<R(h)||1==u?void G(c):void G(h)}n.left=i,n.top=ue.gridY,te[e]=n,F(e,n,i,ue.gridY),ue.maxGridY=n.top+n.dimHeight}function E(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var l=-1,r=-1;O((a=e[n].sizes).top+a.dimHeight)&&ue.maxColumns>a.left+a.dimWidth&&(l=ee[a.top+a.dimHeight-1][a.left+a.dimWidth],r=ee[a.top+a.dimHeight][a.left+a.dimWidth]),l!=r&&t++}for(n=0;n<e.length-1;n++){var a=e[n].sizes,l=-1,r=-1;O(a.top+a.dimHeight)&&a.left-1>=0&&(l=ee[a.top+a.dimHeight-1][a.left-1],r=ee[a.top+a.dimHeight][a.left-1]),l!=r&&i++}return Math.max(i,t)}function M(e,t,i){var n=te[e],l=n.dimHeight,r=(n.dimWidth,n.left),a=n.top,o=(parseInt(a/(ue.colWidth+ue.currentGap)),parseInt(r/(ue.colWidth+ue.currentGap)),Y(e,l-t+i,!0)),s=[];return s.push({tileID:e,sizes:o}),s}function G(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;te[n]=jQuery.extend(!0,{},i),F(n,i,i.left,i.top)}}function S(e,t){for(var i=0,n=0,l=[],r=0,a=0,o=0;o<e[1].length;o++){var s=e[1][o],d=te[e[1][o]];if(n+=d.dimHeight,0!=o)i+=d.dimHeight,l.push([s,d.dimHeight]);else{var h=L(s,t,!0);i+=h.dimHeight,l.push([e[1][o],h.dimHeight])}}r=d.left,a=d.top;for(var u=n,c=[],o=l.length-1;o>=0;o--){var m,s=l[o][0];0!=o?(u-=m=Math.max(Math.round(1*n/3),Math.floor(l[o][1]*(n/i))),(h=Y(s,m,!0)).left=r,h.top=a,c.push({tileID:s,sizes:h}),a+=h.dimHeight):((h=Y(s,m=u,!0)).left=r,h.top=a,c.push({tileID:s,sizes:h}))}return c}function z(e,t,i){var n=ue.gridY-1,l=0,r=0,a=1,o=[],s=[];if(o.push(e),n>=0){for(r=0;n>=0;){if(l=ee[n][i],void 0!==ee[n][i-1]&&ee[n][i-1]==ee[n][i]||void 0!==ee[n][i+t]&&ee[n][i+t-1]==ee[n][i+t]||ee[n][i]!=ee[n][i+t-1])return s.push(a),s.push(o),s;r!=l&&(a++,o.push(l)),n--,r=l}return s.push(a),s.push(o),s}return[0,[]]}function Q(e,t){var i=0,n=0,l=t.dimWidth,r=t.dimHeight,a=0,o=0,s=jQuery.map(ee,function(e,t){return[e]});if(void 0===s[ue.gridY]||void 0===s[ue.gridY][e-1])n=0;else for(var d=0;;){if(void 0===ee[ue.gridY+d]||-1==ee[ue.gridY+d][e-1])break;a=ee[ue.gridY+d][e-2],d++,n++}if(void 0===s[ue.gridY]||void 0===s[ue.gridY][e+l])i=0;else for(d=0;;){if(void 0===ee[ue.gridY+d]||-1==ee[ue.gridY+d][e+l])break;o=ee[ue.gridY+d][e+l+1],d++,i++}var h=0,u=0;return Math.abs(r-n)<Math.abs(r-i)&&0!=n?(h=n,u=a):0!=i?(h=i,u=o):h=r,{newHeight:h,idToResize:u}}function L(e,t,i){i||(i=!1);var n=ue.colWidth,l=ue.currentGap,r=te[e],a=r.imgWidth/r.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/a),1==i){var o=jQuery.extend(!0,{},r);return o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+l*(dimWidth-1),o.height=dimHeight*n+l*(dimHeight-1),o}r.dimWidth=dimWidth,r.dimHeight=dimHeight,r.width=dimWidth*n+l*(dimWidth-1),r.height=dimHeight*n+l*(dimHeight-1)}function Y(e,t,i){i||(i=!1);var n=te[e],l=n.dimWidth,r=ue.colWidth,a=ue.currentGap;if(1==i){var o=jQuery.extend(!0,{},n);return o.dimHeight=t,o.width=l*r+a*(l-1),o.height=t*r+a*(t-1),o}n.dimHeight=t,n.width=l*r+a*(l-1),n.height=t*r+a*(t-1)}function R(e){for(var t=0,i=0,n=0;n<e.length;n++){var l=te[e[n].tileID];if(0==l.dimHeight||0==l.height)return;resizeVal=l.dimWidth/l.dimHeight/(l.imgWidth/l.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function k(e,t){var i=ue.gridY-1;return!(i<=0||0==O(i))&&ee[i][t+e-1]!=ee[i][t+e]}function A(e){var t=e,i=0;if(1==O(ue.gridY))for(;0==B(ue.gridY,t);)i++,t++;else i=ue.maxColumns;return i}function O(e){return void 0!==ee[e]}function F(e,t,i,n){for(var l=0;l<t.dimHeight;l++)for(var r=0;r<t.dimWidth;r++)0==O(n+l)&&D(n+l),N(n+l,i+r,e)}function D(e){ee[e]=new Object;for(var t=0;t<ue.maxColumns;t++)ee[e][t]=-1}function B(e,t){return-1!=ee[e][t]}function N(e,t,i){ee[e][t]=i}function V(e){if(!e)var e=!1;r();for(var t=0;t<te.length;t++)P(t,e);K.height(ue.maxColHeight),o()}function P(e,t){var i=oe.getThumbByIndex(e),n=te[e],l=n.top*(ue.colWidth+ue.currentGap),r=ue.addX+n.left*(ue.colWidth+ue.currentGap);ae.resizeTile(i,n.width,n.height,ae.resizemode.VISIBLE_ELEMENTS),re.placeElement(i,r,l),l+n.height>ue.maxColHeight&&(ue.maxColHeight=l+n.height),1==t&&i.fadeTo(0,1)}function X(){if(1==he.isFirstTimeRun)return!0;switch(de.tiles_type){case"columns":c(!1);break;case"justified":p(!1);break;case"nested":1==le.isMobileMode()?c(!1):H(!1)}}function U(){q.on(le.events.SIZE_CHANGE,X),ae.initEvents()}function Z(){switch(J.children(".ug-tile").show(),ae.run(),de.tiles_type){default:case"columns":_();break;case"justified":W();break;case"nested":C()}1==he.isFirstTimeRun&&U(),he.isFirstTimeRun=!1}var q,J,K,$,ee,te,ie=this,ne=jQuery(this),le=new UniteGalleryMain,re=new UGFunctions,ae=new UGTileDesign,oe=new UGThumbsGeneral,se={},de={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed"};var he={isFixedMode:!1,isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1},ue={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){q.off(le.events.SIZE_CHANGE),ae.destroy()},this.setFixedSizeMode=function(){he.isFixedMode=!0,ae.setFixedMode()},this.init=function(t,i){e(t,i)},this.setHtml=function(e){i(e)},this.getObjTileDesign=function(){return ae},this.run=function(){Z()}}

/* ug-tiledesign.js */

function UGTileDesign(){function e(e,n){B=e,S=jQuery(e);var l=B.getObjects();k=l.g_objWrapper,L=B.getArrItems(),P=jQuery.extend(P,H),P=jQuery.extend(P,n),t(),O.init(e,P);var a={},r=["overlay"];Q.funcCustomTileHtml&&(r=[]),O.setCustomThumbs(i,r,a);var o=O.getOptions();P=jQuery.extend(P,o),Q.isSaparateIcons=!j.isRgbaSupported(),Q.ratioByWidth=P.tile_width/P.tile_height,Q.ratioByHeight=P.tile_height/P.tile_width}function t(){1==P.tile_enable_overlay?(P.thumb_overlay_opacity=P.tile_overlay_opacity,P.thumb_overlay_color=P.tile_overlay_color):0==P.tile_enable_icons?P.thumb_color_overlay_effect=!1:P.thumb_overlay_opacity=0,P.tile_as_link&&(P.thumb_wrapper_as_link=!0,P.thumb_link_newpage=P.tile_link_newpage),1==P.tile_enable_outline&&0==P.tile_enable_border&&(P.tile_enable_outline=!1),Q.tileInnerReduce=0,P.tile_enable_border&&(Q.tileInnerReduce=2*P.tile_border_width,O.setThumbInnerReduce(Q.tileInnerReduce))}function i(e,t){if(e.addClass("ug-tile"),Q.funcCustomTileHtml)return Q.funcCustomTileHtml(e,t),!1;var i="ug-thumb-image";0!=P.tile_enable_image_effect&&1!=P.tile_image_effect_reverse||(i+=" ug-trans-enabled");var n="<img src='"+t.urlThumb+"' alt='"+t.title+"' class='"+i+"'>";e.append(n);e.children(".ug-thumb-image");P.tile_size_by==A.sizeby.GLOBAL_RATIO&&(e.fadeTo(0,0),j.setElementSize(e,P.tile_width,P.tile_height));var l={};if(1==P.tile_enable_border&&(l["border-width"]=P.tile_border_width+"px",l["border-style"]="solid",l["border-color"]=P.tile_border_color,P.tile_border_radius&&(l["border-radius"]=P.tile_border_radius+"px")),1==P.tile_enable_outline&&(l.outline="1px solid "+P.tile_outline_color),1==P.tile_enable_shadow){var a=P.tile_shadow_h+"px ";a+=P.tile_shadow_v+"px ",a+=P.tile_shadow_blur+"px ",a+=P.tile_shadow_spread+"px ",a+=P.tile_shadow_color,l["box-shadow"]=a}e.css(l);var r="";if(P.tile_enable_icons){if(0==P.tile_as_link&&1==P.tile_enable_action){var o="ug-button-play ug-icon-zoom";"image"!=t.type&&(o="ug-button-play ug-icon-play"),r+="<div class='ug-tile-icon "+o+"' style='display:none'></div>"}if(t.link&&1==P.tile_show_link_icon||1==P.tile_as_link)if(0==P.tile_as_link){var _="";1==P.tile_link_newpage&&(_=" target='_blank'"),r+="<a href='"+t.link+"'"+_+" class='ug-tile-icon ug-icon-link'></a>"}else r+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var s=Q.isSaparateIcons;if(0==s&&"image"!=t.type&&1==P.tile_videoplay_icon_always_on&&(s=!0),s)u=e;else var u=e.children(".ug-thumb-overlay");u.append(r);var c=u.children("."+o);0==c.length?c=null:c.hide();var h=u.children(".ug-icon-link");0==h.length?h=null:h.hide(),h||1!=P.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==P.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==P.tile_enable_image_effect){var d="";0==P.tile_image_effect_reverse&&(d=" ug-trans-enabled");var g="<div class='ug-tile-image-overlay"+d+"' style='display:none'>",f=" ug-"+P.tile_image_effect_type+"-effect";g+="<img src='"+t.urlThumb+"' alt='"+t.title+"' class='"+f+d+"'>",g+="</div>",e.append(g)}if(1==P.tile_enable_textpanel){var m=new UGTextPanel;m.init(B,P,"tile"),m.appendHTML(e);var b=t.title;switch(P.tile_textpanel_source){case"desc":case"description":b=t.description;break;case"desc_title":""!=t.description&&(b=t.description)}m.setTextPlain(b,""),0==P.tile_textpanel_always_on&&m.getElement().fadeTo(0,0),e.data("objTextPanel",m)}null!==t.addHtml&&e.append(t.addHtml)}function n(e){return e.children(".ug-tile-image-overlay")}function l(e){return e.find(".ug-tile-image-overlay img")}function a(e){return e.data("objTextPanel")}function r(e){return e.find(".ug-textpanel")}function o(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function _(e){var t=Q.ratioByHeight;switch(P.tile_size_by){default:t=Q.ratioByHeight;break;case A.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=A.getItemByTile(e);if(void 0!==i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw new Error("the item ratio not inited yet");t=i.thumbRatioByHeight}break;case A.sizeby.CUSTOM:return null}return t}function s(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function u(e){return!!e.hasClass("ug-thumb-over")}function c(e){return e.hasClass("ug-tile-clickable")}function h(e,t,i){var a=n(e),r=A.getTileImage(e),o=l(e);t-=Q.tileInnerReduce,i-=Q.tileInnerReduce,0==P.tile_enable_image_effect?j.scaleImageCoverParent(r,t,i):(j.setElementSize(a,t-Q.tileInnerReduce,i-Q.tileInnerReduce),j.scaleImageCoverParent(o,t,i),j.cloneElementSizeAndPos(o,r),setTimeout(function(){j.cloneElementSizeAndPos(o,r)},500))}function d(e){e.index();A.getItemByTile(e);var t=s(e),i=o(e),n=j.getElementSize(e);h(e,n.width,n.height);var l=a(e);if(1==P.tile_enable_textpanel&&l&&(l.refresh(!1,!0),1!=P.tile_textpanel_always_on&&"fade"!=P.tile_textpanel_appear_type||l.positionPanel()),t||i){var _=0;if(1==P.tile_enable_textpanel){var u=r(e),c=j.getElementSize(u);c.height>0&&(_=Math.floor(c.height/2*-1))}}if(t&&i){var d=j.getElementSize(t),g=j.getElementSize(i),f=P.tile_space_between_icons,m=d.width+f+g.width,b=Math.floor((n.width-m)/2);b<f&&(f=Math.floor((n.width-d.width-g.width)/3),m=d.width+f+g.width,b=Math.floor((n.width-m)/2)),j.placeElement(t,b,"middle",0,_),j.placeElement(i,b+d.width+f,"middle",0,_)}else t&&j.placeElement(t,"center","middle",0,_),i&&j.placeElement(i,"center","middle",0,_);t&&t.show(),i&&i.show()}function g(e,t){A.getItemByTile(e);var i=n(e),l=P.thumb_transition_duration;if(0==P.tile_image_effect_reverse){var a=A.getTileImage(e);t?(a.fadeTo(1,1),i.stop(!0).fadeTo(l,0)):i.stop(!0).fadeTo(l,1)}else t?i.stop(!0).fadeTo(l,1):i.stop(!0).fadeTo(l,0)}function f(e,t){var i=P.thumb_transition_duration,n=r(e);if(!n)return!0;if("slide"==P.tile_textpanel_appear_type){var l=j.getElementSize(n);if(0==l.width)return!1;var a=-l.height;1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css("bottom",a+"px"),n.stop(!0).animate({bottom:"0px"},i)):n.stop(!0).animate({bottom:a+"px"},i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function m(e,t,i){var n=P.thumb_transition_duration;i&&!0===i&&(n=0);var l=s(e),a=o(e),r=t?1:0;l&&l.stop(!0).fadeTo(n,r),a&&a.stop(!0).fadeTo(n,r)}function b(e,t){if(t=jQuery(t),P.tile_enable_image_effect&&g(t,!0),1==P.tile_enable_textpanel&&0==P.tile_textpanel_always_on&&f(t,!0),Q.isSaparateIcons&&1==P.tile_enable_icons){var i=1==P.thumb_overlay_reverse,n=A.getItemByTile(t);1==P.tile_videoplay_icon_always_on&&"image"!=n.type||m(t,i,!1)}}function p(e,t){t=jQuery(t),P.tile_enable_image_effect&&g(t,!1),1==P.tile_enable_textpanel&&0==P.tile_textpanel_always_on&&f(t,!1),Q.isSaparateIcons&&1==P.tile_enable_icons&&m(t,1!=P.thumb_overlay_reverse,!1)}function v(e){O.getThumbs().not(e).each(function(e,t){O.setThumbNormalStyle(jQuery(t))})}function y(e,t){var i=a(e);return!!i&&(!(t<j.getElementSize(e).width)&&void i.refresh(!1,!0,t))}function T(e,t,i){if(t=jQuery(t),1==P.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i)return!0;d(t)}function w(e,t,i){d(t),i.fadeTo(0,1),t.data("image_placed",!0)}function E(e){if(1==c(e))return R.trigger(A.events.TILE_CLICK,e),!0;0==u(e)&&(v(e),O.setThumbOverStyle(e))}function I(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(Q.funcParentApproveClick&&0==Q.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==u(t))1==n&&E(t);else{if(0==c(t))return!0;1==n&&R.trigger(A.events.TILE_CLICK,t)}}function C(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return Q.funcParentApproveClick&&0==Q.funcParentApproveClick()&&(i=!1),0==u(t)?(E(t),!0):1==i?(R.trigger(A.events.TILE_CLICK,t),!1):void 0}function x(e){var t=jQuery(this).parents(".ug-tile");Q.funcParentApproveClick&&0==Q.funcParentApproveClick()&&e.preventDefault(),0==u(t)&&0==P.tile_as_link&&(e.preventDefault(),E(t))}var S,z,k,L,A=this,R=jQuery(this),B=new UniteGalleryMain,j=new UGFunctions,O=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var P={tile_width:250,tile_height:200,tile_size_by:A.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:!1,tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide"},H={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},Q={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0};this.loadTileImage=function(e){var t=A.getTileImage(e);j.checkImagesLoaded(t,null,function(t,i){w(null,e,jQuery(t))})},this.setHtml=function(e){z=e,O.setHtmlThumbs(e)},this.initEvents=function(){O.initEvents(),jQuery(O).on(O.events.SETOVERSTYLE,b),jQuery(O).on(O.events.SETNORMALSTYLE,p),jQuery(O).on(O.events.PLACEIMAGE,w),k.on(Q.eventSizeChange,T),z.delegate(".ug-tile .ug-button-play","click",C),z.delegate(".ug-tile","click",I),z.delegate(".ug-tile .ug-icon-link","click",x)},this.destroy=function(){if(jQuery(O).off(O.events.SETOVERSTYLE),jQuery(O).off(O.events.SETNORMALSTYLE),jQuery(O).off(O.events.PLACEIMAGE),k.off(Q.eventSizeChange),1==P.tile_enable_textpanel){var e=O.getThumbs();jQuery.each(e,function(e,t){var i=a(jQuery(t));i&&i.destroy()})}O.destroy()},this.init=function(t,i,n){e(t,i)},this.setFixedMode=function(){P.tile_size_by=A.sizeby.GLOBAL_RATIO,P.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){Q.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(t){if(!i)i=A.getTileHeightByWidth(t,e)}else var t=P.tile_width,i=P.tile_height;switch(j.setElementSize(e,t,i),n){default:case A.resizemode.FULL:A.triggerSizeChangeEvent(e,!0);break;case A.resizemode.WRAPPER_ONLY:return!0;case A.resizemode.VISIBLE_ELEMENTS:if(Q.funcCustomTileHtml)return A.triggerSizeChangeEvent(e,!0),!0;h(e,t,i),1==P.tile_enable_textpanel&&1==P.tile_textpanel_always_on&&t&&y(e,t-Q.tileInnerReduce)}},this.resizeAllTiles=function(e,t){var i=null;P.tile_size_by==A.sizeby.GLOBAL_RATIO&&(i=A.getTileHeightByWidth(e)),O.getThumbs().each(function(n,l){A.resizeTile(jQuery(l),e,i,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;k.trigger(Q.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){O.getThumbs().each(function(){var t=jQuery(this);A.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){O.getThumbs().css("pointer-events","none")},this.enableEvents=function(){O.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){P=jQuery.extend(P,e),O.setOptions(e)},this.setCustomFunctions=function(e,t){Q.funcCustomTileHtml=e,Q.funcCustomPositionElements=t},this.run=function(){var e=O.getThumbs();1==P.tile_enable_image_effect&&0==P.tile_image_effect_reverse&&e.children(".ug-thumb-image").fadeTo(0,0),O.setHtmlProperties(),1==P.tile_visible_before_image&&(e.children(".ug-thumb-image").fadeTo(0,0),O.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return O},this.getOptions=function(){return P},this.getTileImage=function(e){return e.children("img.ug-thumb-image")},this.getItemByTile=function(e){return O.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var i=_(t);return null===i?null:Math.floor((e-Q.tileInnerReduce)*i)+Q.tileInnerReduce},this.getTileImageSize=function(e){var t=A.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}}}

/* ug-avia.js */

function UGAviaControl(){function t(t){return 0==v?t.pageX:t.pageY}function i(i){jQuery("body").on("touchstart",function(t){if(0==c.isControlEnabled)return!0;c.touchEnabled=!0}),jQuery("body").mousemove(function(i){if(0==c.isControlEnabled)return!0;if(1==c.touchEnabled)return jQuery("body").off("mousemove"),!0;c.isMouseInsideStrip=h.ismouseover();var n=f.isTouchMotionActive();1==c.isMouseInsideStrip&&0==n?a(t(i)):u()})}function n(t){var i=_.strip_padding_top,n=(_.strip_padding_bottom,h.height()),o=p.height();if(n>o)return null;var r=t-h.offset().top-i;if(r<0)return null;var e=_.thumb_height,u=n-_.thumb_height,s=u-e;r<e&&(r=e),r>u&&(r=u);var a=(o-n)*((r-e)/s);return a=-1*Math.round(a)+i}function o(t){var i=_.strip_padding_left,n=_.strip_padding_right,o=h.width()-i-n,r=p.width();if(o>r)return null;var e=t-h.offset().left-i,u=_.thumb_width,s=o-_.thumb_width,a=s-u;e<u&&(e=u),e>s&&(e=s);var f=(r-o)*((e-u)/a);return f=-1*Math.round(f)+i}function r(){if(0==c.is_strip_moving)return!1;var t=f.getInnerStripPos();Math.floor(t)==Math.floor(c.strip_finalPos)&&u();var i,n=Math.abs(c.strip_finalPos-t);n<1?i=n:(i=n/4)>0&&i<1&&(i=1),c.strip_finalPos<t&&(i*=-1);var o=t+i;f.positionInnerStrip(o)}function e(){if(1==c.isStripMoving)return!1;c.isStripMoving=!0,c.handle_timeout=setInterval(r,10)}function u(){if(0==c.isStripMoving)return!1;c.isStripMoving=!1,c.handle_timeout=clearInterval(c.handle_timeout)}function s(t){return 0==v?o(t):n(t)}function a(t){var i=s(t);if(null===i)return!1;c.is_strip_moving=!0,c.strip_finalPos=i,e()}var f,l,d,h,p,_,v,c={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){c.isControlEnabled=!0},this.disable=function(){c.isControlEnabled=!1},this.init=function(t){f=t,d=t.getObjects(),l=d.g_gallery,h=d.g_objStrip,p=d.g_objStripInner,_=d.g_options,v=d.isVertical,i()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}

/* ug-sliderassets.js */

function UGTextPanel(){function e(e,t){if(!t)var t=b.textpanel_padding_top;i=t;if(_){var n=i;f.placeElement(_,0,n);var i=f.getElementSize(_).bottom}var s="";if(u&&(s=jQuery.trim(u.text())),""!=s){var o=i;_&&(o+=b.textpanel_padding_title_description),f.placeElement(u,0,o),i=f.getElementSize(u).bottom}b.textpanel_height||l(i+b.textpanel_padding_bottom,e)}function t(){var e=0;if(_&&(e+=_.outerHeight()),u){var t="";u&&(t=jQuery.trim(u.text())),""!=t&&(_&&(e+=b.textpanel_padding_title_description),e+=u.outerHeight())}return e}function n(){var n=t();e(!1,(c.height()-n)/2)}function i(){var n=t();e(!1,c.height()-n-b.textpanel_padding_bottom)}function l(e,t){if(!t)var t=!1;if(1==t){d&&e>d.height()&&d.height(e);var n={height:e+"px"};r.add(c).animate(n,b.textpanel_fade_duration)}else d&&d.height(e),r.add(c).height(e)}function s(){if(1==b.textpanel_enable_bg){(d=r.children(".ug-textpanel-bg")).fadeTo(0,b.textpanel_bg_opacity);var e={"background-color":b.textpanel_bg_color};e=jQuery.extend(e,b.textpanel_bg_css),d.css(e)}if(1==b.textpanel_enable_title){_=c.children(".ug-textpanel-title");var t={};null!==b.textpanel_title_color&&(t.color=b.textpanel_title_color),null!==b.textpanel_title_font_family&&(t["font-family"]=b.textpanel_title_font_family),null!==b.textpanel_title_text_align&&(t["text-align"]=b.textpanel_title_text_align),null!==b.textpanel_title_font_size&&(t["font-size"]=b.textpanel_title_font_size+"px"),null!==b.textpanel_title_bold&&(!0===b.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),b.textpanel_css_title&&(t=jQuery.extend(t,b.textpanel_css_title)),_.css(t)}if(1==b.textpanel_enable_description){u=c.children(".ug-textpanel-description");var n={};null!==b.textpanel_desc_color&&(n.color=b.textpanel_desc_color),null!==b.textpanel_desc_font_family&&(n["font-family"]=b.textpanel_desc_font_family),null!==b.textpanel_desc_text_align&&(n["text-align"]=b.textpanel_desc_text_align),null!==b.textpanel_desc_font_size&&(n["font-size"]=b.textpanel_desc_font_size+"px"),null!==b.textpanel_desc_bold&&(!0===b.textpanel_desc_bold?n["font-weight"]="bold":n["font-weight"]="normal"),b.textpanel_css_title&&(n=jQuery.extend(n,b.textpanel_css_description)),u.css(n)}}function o(){var e=g.getSelectedItem();h.setText(e.title,e.description)}function a(){jQuery(g).on(g.events.ITEM_CHANGE,o)}var r,p,_,u,d,c,g,h=this,f=new UGFunctions,x="",b={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_bg_css:{}},m={isFirstTime:!0};this.positionElements=function(t){if(!b.textpanel_height||"top"==b.textpanel_text_valign)return e(t),!1;switch(b.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":i();break;case"center":case"middle":n()}},this.init=function(e,t,n){if(g=e,n&&(x=n,t=f.convertCustomPrefixOptions(t,x,"textpanel")),t&&(b=jQuery.extend(b,t)),0==b.textpanel_enable_title&&0==b.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");b.textpanel_height&&b.textpanel_height<0&&(b.textpanel_height=null)},this.appendHTML=function(e){p=e;var t="<div class='ug-textpanel'>";1==b.textpanel_enable_bg&&(t+="<div class='ug-textpanel-bg'></div>"),t+="<div class='ug-textpanel-textwrapper'>",1==b.textpanel_enable_title&&(t+="<div class='ug-textpanel-title'></div>"),1==b.textpanel_enable_description&&(t+="<div class='ug-textpanel-description'></div>"),t+="</div></div>",e.append(t),r=e.children(".ug-textpanel"),c=r.children(".ug-textpanel-textwrapper"),s()},this.destroy=function(){jQuery(g).off(g.events.ITEM_CHANGE)},this.run=function(){h.setSizeByParent(),a()},this.setPanelSize=function(e){var t=80;b.textpanel_height&&(t=b.textpanel_height),r.width(e),r.height(t),d&&(d.width(e),d.height(t));var n=e-b.textpanel_padding_left-b.textpanel_padding_right,i=b.textpanel_padding_left;f.setElementSizeAndPosition(c,i,0,n,t),_&&_.width(n),u&&u.width(n),0==m.isFirstTime&&h.positionElements(!1)},this.setSizeByParent=function(){var e=f.getElementSize(p);h.setPanelSize(e.width)},this.setTextPlain=function(e,t){_&&_.html(e),u&&u.html(t)},this.setText=function(e,t){1==m.isFirstTime?(h.setTextPlain(e,t),m.isFirstTime=!1,h.positionElements(!1)):c.stop().fadeTo(b.textpanel_fade_duration,0,function(){h.setTextPlain(e,t),h.positionElements(!0),jQuery(this).fadeTo(b.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var n={};if(void 0!==e&&null!==e)n.top=e;else switch(b.textpanel_align){case"top":n.top=b.textpanel_margin+"px";break;case"bottom":n.top="auto",n.bottom=b.textpanel_margin+"px";break;case"middle":n.top=f.getElementRelativePos(r,"middle",b.textpanel_margin)}void 0!==t&&null!==t&&(n.left=t),r.css(n)},this.setOptions=function(e){x&&(e=f.convertCustomPrefixOptions(e,x,"textpanel")),b=jQuery.extend(b,e)},this.getElement=function(){return r},this.getSize=function(){return f.getElementSize(r)},this.refresh=function(e,t,n){s(),n?h.setPanelSize(n):h.setSizeByParent(),h.positionElements(!1),!0!==t&&h.positionPanel(),!0===e&&h.show()},this.hide=function(){r.hide()},this.show=function(){r.show()},this.getOptions=function(){return b},this.getOption=function(e){return 0==b.hasOwnProperty(e)?null:b[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function n(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function i(){if(0==_.isCurrentSlideType("image"))return!0;1==_.isCurrentSlideImageFit()?0==e(a)&&(t(a),t(r)):1==e(a)&&(n(a),n(r))}var l,s,o,a,r,p=this,_=new UGSlider,u=new UGFunctions,d={slider_zoompanel_skin:""};this.init=function(e,t){_=e,t&&(d=jQuery.extend(d,t))},this.appendHTML=function(e){s=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+d.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),l=e.children(".ug-zoompanel"),o=l.children(".ug-zoompanel-plus"),a=l.children(".ug-zoompanel-minus"),r=l.children(".ug-zoompanel-return")},this.setObjects=function(e,t,n){o=e,r=n,(a=t)&&a.addClass("ug-zoompanel-button-disabled"),r&&r.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return l},p.initEvents=function(){u.addClassOnHover(o,"ug-button-hover"),u.addClassOnHover(a,"ug-button-hover"),u.addClassOnHover(r,"ug-button-hover"),u.setButtonOnClick(o,function(){if(1==e(o))return!0;_.zoomIn()}),u.setButtonOnClick(a,function(){if(1==e(a))return!0;_.zoomOut()}),u.setButtonOnClick(r,function(){if(1==e(r))return!0;_.zoomBack()}),jQuery(_).on(_.events.ZOOM_CHANGE,i),jQuery(_).on(_.events.ITEM_CHANGED,i)}}function UGBullets(){function e(){var e="",t="";-1!=c.bullets_space_between&&(t=" style='margin-left:"+c.bullets_space_between+"px'");for(var n=0;n<r;n++)e+=0==n?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";s.html(e)}function t(e){if(1==a.isActive(e))return!0;var t=e.index();jQuery(a).trigger(a.events.BULLET_CLICK,t)}function n(){var e=s.children(".ug-bullet");u.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function i(e){if(e<0||e>=r)throw new Error("wrong bullet index: "+e)}function l(){if(1==d.isInited)return!0;throw new Error("The bullets are not inited!")}var s,o,a=this,r=0,p=new UniteGalleryMain,_=-1,u=new UGFunctions,d={isInited:!1},c={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,n){p=e,r=n||p.getNumItems(),d.isInited=!0,""==(c=jQuery.extend(c,t)).bullets_skin&&(c.bullets_skin=c.gallery_skin)},this.appendHTML=function(t){o=t,l();var i="";""!=c.bullets_addclass&&(i=" "+c.bullets_addclass);var a="<div class='ug-slider-control ug-bullets ug-skin-"+c.bullets_skin+i+"'>";a+="</div>",s=jQuery(a),t.append(s),e(),n()},this.updateNumBullets=function(t){r=t,e(),n()},this.getElement=function(){return s},this.setActive=function(e){l(),i(e);var t=s.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),_=e},this.isActive=function(e){if(i(e),"number"!=typeof e)t=e;else var t=s.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")}}function UGProgressBar(){var e,t,n=this,i=0,l=new UGFunctions,s={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(n,i){i&&(s=jQuery.extend(s,i)),n.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=n.children(".ug-progress-bar"),(t=e.children(".ug-progress-bar-inner")).css("background-color",s.slider_progressbar_color),e.height(s.slider_progressbar_line_width),t.height(s.slider_progressbar_line_width),t.width("0%");var l=s.slider_progressbar_opacity,o=t[0];o.style.opacity=l,o.style.filter="alpha(opacity="+100*l+")"},this.putHidden=function(t,i){n.put(t,i),e.hide()},this.getElement=function(){return e},this.setSize=function(i){e.width(i),t.width(i),n.draw()},this.setPosition=function(t,n,i,s){l.placeElement(e,t,n,i,s)},this.draw=function(){var e=100*i;t.width(e+"%")},this.setProgress=function(e){i=l.normalizePercent(e),n.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(o.slider_progresspie_width,o.slider_progresspie_height)/2,i=n[0].getContext("2d");0==l&&(l=!0,i.rotate(1.5*Math.PI),i.translate(-2*t,0)),i.clearRect(0,0,o.slider_progresspie_width,o.slider_progresspie_height);var s=o.slider_progresspie_width/2,a=o.slider_progresspie_height/2,r=0,p=e*Math.PI*2;if(1==o.slider_progresspie_type_fill)i.beginPath(),i.moveTo(s,a),i.arc(s,a,t,r,p),i.lineTo(s,a),i.fillStyle=o.slider_progresspie_color1,i.fill(),i.closePath();else{i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(s,a),i.arc(s,a,t,r,p),i.lineTo(s,a),i.fillStyle=o.slider_progresspie_color1,i.fill(),i.closePath(),i.globalCompositeOperation="destination-out";var _=t-o.slider_progresspie_stroke_width;i.beginPath(),i.moveTo(s,a),i.arc(s,a,_,r,p),i.lineTo(s,a),i.fillStyle=o.slider_progresspie_color1,i.fill(),i.closePath()}1==o.slider_progresspie_type_fill&&(r=p,p=2*Math.PI,i.beginPath(),i.arc(s,a,t,r,p),i.lineTo(s,a),i.fillStyle=o.slider_progresspie_color2,i.fill(),i.closePath())}var t,n,i=this,l=!1,s=new UGFunctions,o={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(o=jQuery.extend(o,t)),e.append("<canvas class='ug-canvas-pie' width='"+o.slider_progresspie_width+"' height='"+o.slider_progresspie_height+"'></canvas>"),n=e.children(".ug-canvas-pie")},this.putHidden=function(t,l){i.put(t,l),e(.1),n.hide()},this.getElement=function(){return n},this.setPosition=function(e,t){s.placeElement(n,e,t)},this.getSize=function(){return{width:o.slider_progresspie_width,height:o.slider_progresspie_height}},this.setProgress=function(n){n=s.normalizePercent(n),t=n,e(n)},this.getType=function(){return"pie"}}

/* ug-touchslider.js */

function UGTouchSliderControl(){function e(e){if(!e)var e=_.getSlidesReference();return-S.getElementSize(e.objCurrentSlide).left-S.getElementSize(v).left}function t(){var t=_.getSlidesReference(),i=e(t),s=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)>=s)return!0;var r=Math.abs(M.lastMouseX-M.startMouseX);Math.abs(M.lastMouseY-M.startMouseY);return!(r<20)&&jQuery.now()-M.startTime<500}function i(e){if(1==_.isInnerInPlace())return!1;if(h.trigger(_.events.BEFORE_RETURN),!e)var e=_.getSlidesReference();var t=-S.getElementSize(e.objCurrentSlide).left;v.animate({left:t+"px"},{duration:b.slider_transition_return_speed,easing:b.slider_transition_continuedrag_easing,queue:!1,progress:function(e,i,s){if(1==M.isDragVideo){var r=S.getElementSize(v).left-t,n=M.videoStartX+r;M.videoObject.css("left",n)}},complete:function(){h.trigger(_.events.AFTER_RETURN)}})}function s(e){_.getVideoObject().hide(),_.switchSlideNums(e),_.placeNabourItems()}function r(){var t=_.getSlidesReference(),r=e(t);if(0==r)return!1;var n=r>0?"left":"right",a=!1;switch(n){case"right":if(_.isSlideHasItem(t.objPrevSlide))o=-S.getElementSize(t.objPrevSlide).left;else a=!0;break;case"left":if(_.isSlideHasItem(t.objNextSlide))var o=-S.getElementSize(t.objNextSlide).left;else a=!0}1==a?i(t):v.stop().animate({left:o+"px"},{duration:b.slider_transition_continuedrag_speed,easing:b.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==M.isDragVideo){var e=S.getElementSize(v).left-M.startPosx,t=M.videoStartX+e;M.videoObject.css("left",t)}},always:function(){s(n),h.trigger(_.events.AFTER_DRAG_CHANGE)}})}function n(e){var t=M.lastMouseX-M.startMouseX;if(0==t)return!0;var i=t<0?"left":"right",s=_.getObjZoom();if(s){if(1==s.isPanEnabled(e,i))return M.isInitDataValid=!1,!0;if(0==M.isInitDataValid)return a(e),!0}var r=M.startPosx+t;if(t>0&&r>0?r/=3:t<0&&r+v.width()<f.width()&&(r=M.startPosx+t/3),0==M.isDragging&&(M.isDragging=!0,h.trigger(_.events.START_DRAG)),v.css("left",r+"px"),1==M.isDragVideo){var n=r-M.startPosx,o=M.videoStartX+n;M.videoObject.css("left",o)}}function a(e){var t=S.getMousePosition(e);M.startMouseX=t.pageX,M.startMouseY=t.pageY,M.lastMouseX=M.startMouseX,M.lastMouseY=M.startMouseY,M.startTime=jQuery.now();var i=S.getArrTouches(e);M.startArrTouches=S.getArrTouchPositions(i);var s=S.getElementSize(v);M.startPosx=s.left,M.isInitDataValid=!0,M.isDragVideo=!1,S.storeEventData(e,M.storedEventID)}function o(e){M.touch_active=!1}function u(e,t){M.touch_active=!0,a(t)}function l(e){return e.preventDefault(),M.isDragging=!1,1==_.isAnimating()&&v.stop(!0,!0),S.getArrTouches(e).length>1?(1==M.touch_active&&o("1"),!0):1==M.touch_active||void u("1",e)}function c(e){if(0==M.touch_active)return!0;if(0==e.buttons)return o("2"),r(),!0;S.updateStoredEventData(e,M.storedEventID),e.preventDefault();var t=S.getMousePosition(e);M.lastMouseX=t.pageX,M.lastMouseY=t.pageY;var i=null;1==b.slider_vertical_scroll_ondrag&&(i=S.handleScrollTop(M.storedEventID)),"vert"!==i&&n(e)}function d(e){var s=S.getArrTouches(e).length;if(1==_.isInnerInPlace()&&0==M.touch_active&&0==s)return!0;if(0==s&&1==M.touch_active){o("3");var n=!1;0==S.wasVerticalScroll(M.storedEventID)&&(n=t()),1==n?r():i()}else 1==s&&0==M.touch_active&&u("2",e)}function g(){f.bind("mousedown touchstart",l),jQuery("body").bind("mousemove touchmove",c),jQuery(window).add("body").bind("mouseup touchend",d)}var f,v,h,_=new UGSlider,S=new UGFunctions,b={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},M={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var i=S.getArrTouches(t).length;if(0!=i||0!=M.lastNumTouches)return M.lastNumTouches=i,!1;M.lastNumTouches=i;e(_.getSlidesReference());var s=Math.abs(M.lastMouseX-M.startMouseX),r=Math.abs(M.lastMouseY-M.startMouseY),n=jQuery.now()-M.startTime;return s<20&&r<50&&n<500},this.init=function(e,t){_=e,h=jQuery(_),g_objects=e.getObjects(),f=g_objects.g_objSlider,v=g_objects.g_objInner,b=jQuery.extend(b,t),g()},this.getLastMousePos=function(){return{pageX:M.lastMouseX,pageY:M.lastMouseY}},this.isTouchActive=function(){return M.touch_active}}

/* ug-zoomslider.js */

function UGZoomSliderControl(){function e(e,t){S=e,P=jQuery(S),g_objects=e.getObjects(),_=g_objects.g_objSlider,h=g_objects.g_objInner,A=jQuery.extend(A,t),v()}function t(){var e=S.getScaleMode();return"down"!=e&&(e="fit"),e}function i(){if((n=jQuery.now())-O.storeImageLastTime<20)return!1;var e=S.getSlidesReference();if(O.objSlide=e.objCurrentSlide,O.objImage=e.objCurrentSlide.find("img"),0==O.objImage.length)return!1;O.objImageSize=z.getElementSize(O.objImage),O.objParent=O.objImage.parent(),O.objParentSize=z.getElementSize(O.objParent);var i=t();objPadding=S.getObjImagePadding(),O.objFitImageSize=z.getImageInsideParentDataByImage(O.objImage,i,objPadding);var n=jQuery.now();return O.storeImageLastTime=n,!0}function n(e,i){var n=S.getSlidesReference().objCurrentSlide.find("img"),o=t();P.trigger(S.events.ZOOM_START);var a=!0,r=S.getObjImagePadding();if("back"==e){var g=z.getImageOriginalSize(n);z.scaleImageFitParent(n,g.width,g.height,o,r)}else{var s="in"==e;a=z.zoomImageInsideParent(n,s,A.slider_zoom_step,i,o,A.slider_zoom_max_ratio,r)}1==a&&(P.trigger(S.events.ZOOMING),P.trigger(S.events.ZOOM_CHANGE),P.trigger(S.events.ZOOM_END))}function o(e,t,i){var n=z.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(n.length>1)return!1;return!!z.isElementBiggerThenParent(e)}function a(e){var t=z.getMousePosition(e);O.startMouseX=t.pageX,O.startMouseY=t.pageY,O.lastMouseX=O.startMouseX,O.lastMouseY=O.startMouseY,O.startImageX=O.objImageSize.left,O.startImageY=O.objImageSize.top,O.panXActive=O.objImageSize.width>O.objParentSize.width,O.panYActive=O.objImageSize.height>O.objParentSize.height}function r(e){O.isPanActive=!0,a(e)}function g(e){if(void 0==O.objImage||0==O.objImage.length)return!0;var t=z.getMousePosition(e),i=(t.pageX,O.startMouseX,t.pageY,O.startMouseY,t.pageX-O.lastMouseX),n=t.pageY-O.lastMouseY,o=i<0?"left":"right",a=n<0?"up":"down";O.lastMouseX=t.pageX,O.lastMouseY=t.pageY;var r=z.getElementSize(O.objImage);0==O.panYActive?n=0:"down"==a&&r.top>0?n/=3:"up"==a&&r.bottom<O.objParentSize.height&&(n/=3),0==O.panXActive||0==S.isInnerInPlace()?i=0:"right"==o&&r.left>0?i/=3:"left"==o&&r.right<O.objParentSize.width&&(i/=3);var g=r.left+i,s=r.top+n;z.placeElement(O.objImage,g,s)}function s(){var e=!1,t=!1,i=0,n=0,o=z.getElementSize(O.objImage),a=S.getObjImagePadding(),r=z.getElementCenterPosition(O.objImage,a);O.panXActive=O.objImageSize.width>O.objParentSize.width,O.panYActive=O.objImageSize.height>O.objParentSize.height,1==O.panYActive?o.top>0?(n=0,t=!0):o.bottom<O.objParentSize.height&&(n=O.objParentSize.height-o.height,t=!0):o.top!=r.top&&(t=!0,n=r.top),1==O.panXActive?o.left>0?(i=0,e=!0):o.right<O.objParentSize.width&&(i=O.objParentSize.width-o.width,e=!0):o.left!=r.left&&(e=!0,i=r.left);var g={};1==t&&(g.top=n+"px"),1==e&&(g.left=i+"px"),1!=t&&1!=e||O.objImage.animate(g,{duration:A.slider_zoom_return_pan_duration,easing:A.slider_zoom_return_pan_easing,queue:!1})}function m(){return!(!O.objImage||!O.objImage.is(":animated"))}function u(e){O.isZoomActive=!0,O.startDistance=z.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==O.startDistance&&(O.startDistance=1),O.startMiddlePoint=z.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),O.objImageSize=z.getElementSize(O.objImage),O.startImageX=O.objImageSize.left,O.startImageY=O.objImageSize.top,O.imageOrientPoint=z.getElementLocalPoint(O.startMiddlePoint,O.objImage),0==z.isPointInsideElement(O.imageOrientPoint,O.objImageSize)&&(O.imageOrientPoint=z.getElementCenterPoint(O.objImage)),P.trigger(S.events.ZOOM_START)}function l(e){if(0==O.isZoomActive)return!1;2!=z.getArrTouches(e).length&&(O.isZoomActive=!1,P.trigger(S.events.ZOOM_END))}function d(e){if(1==O.isZoomActive)return!0;var t=z.getArrTouches(e);if(2!=t.length)return!0;u(t)}function b(e){var t=z.getArrTouches(e),i=z.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/O.startDistance,n=z.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=O.objImageSize.width*i,a=O.objImageSize.height*i,r=z.getImageOriginalSize(O.objImage),g=1;if(r.width>0&&(g=o/r.width),g>A.slider_zoom_max_ratio)return!0;panX=-(O.imageOrientPoint.x*i-O.imageOrientPoint.x),panY=-(O.imageOrientPoint.y*i-O.imageOrientPoint.y);var s=n.x-O.startMiddlePoint.x,m=n.y-O.startMiddlePoint.y,u=O.startImageX+panX+s,l=O.startImageY+panY+m;z.setElementSizeAndPosition(O.objImage,u,l,o,a),P.trigger(S.events.ZOOMING),P.trigger(S.events.ZOOM_CHANGE)}function c(){if(void 0==O.objImage||0==O.objImage.length)return!0;if(z.getElementSize(O.objImage).width<O.objFitImageSize.imageWidth){O.objImage.css({position:"absolute",margin:"none"});var e={top:O.objFitImageSize.imageTop+"px",left:O.objFitImageSize.imageLeft+"px",width:O.objFitImageSize.imageWidth+"px",height:O.objFitImageSize.imageHeight+"px"};O.objImage.animate(e,{duration:A.slider_zoom_return_pan_duration,easing:A.slider_zoom_return_pan_easing,queue:!1})}else s()}function j(e){if(0==S.isCurrentSlideType("image"))return!0;i();if(void 0==O.objImage||0==O.objImage.length)return!0;e.preventDefault(),1==m()&&O.objImage.stop(!0),1==O.isZoomActive?l(e):d(e),1==O.isZoomActive?O.isPanActive=!1:1==o(O.objImage,e)&&1==O.isZoomedOnce&&r(e)}function I(e){if(0==S.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;i();if(void 0==O.objImage||0==O.objImage.length)return!0;var t=O.isPanActive,n=O.isZoomActive;if(0==S.isInnerInPlace())return O.isZoomActive=!1,O.isPanActive=!1,!0;if(1==O.isZoomActive?l(e):d(e),1==O.isZoomActive)O.isPanActive;else{var a=o(O.objImage,e,!0);1==O.isPanActive?O.isPanActive=!1:1==a&&r(e)}(t||n)&&0==O.isZoomActive&&0==O.isPanActive&&c()}function f(e){if(0==S.isCurrentSlideType("image"))return!0;1==O.isZoomActive?b(e):1==O.isPanActive&&g(e)}function p(e,t,i,o){if(0==A.slider_zoom_mousewheel)return!0;if(0==S.isCurrentSlideType("image"))return!0;e.preventDefault();var a=t>0,r=z.getMousePosition(e);n(1==a?"in":"out",r)}function v(){_.on("mousewheel",p),_.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",f),jQuery(window).add("body").bind("mouseup touchend",I),P.bind(S.events.BEFORE_RETURN,function(){c()}),P.bind(S.events.ITEM_CHANGED,function(){O.isZoomedOnce=!1}),P.bind(S.events.ZOOM_CHANGE,function(){O.isZoomedOnce=!0})}var _,h,P,S=new UGSlider,z=new UGFunctions,A={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},O={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),void 0==O.objImage||0==O.objImage.length)return!1;if(0==O.isZoomedOnce)return!1;if(0==o(O.objImage,e))return!1;if(0==S.isInnerInPlace())return!1;if("left"==t){if(O.objImageSize.right<=O.objParentSize.width)return!1}else if(O.objImageSize.left>=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n("in")},this.zoomOut=function(){n("out")},this.zoomBack=function(){n("back")}}

/* ug-video.js */

function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,n,a,u){o=null,s=!1;var r=e+"_video",d="<div id='"+r+"' class='wistia_embed' style='width:"+n+";height:"+a+";' data-video-width='"+n+"' data-video-height='"+a+"'>&nbsp;</div>";jQuery("#"+e).html(d),o=Wistia.embed(t,{version:"v1",videoWidth:n,videoHeight:a,container:r,autoPlay:u}),s=!0,i()}function i(){o.bind("play",function(){u.trigger(a.events.START_PLAYING)}),o.bind("pause",function(){u.trigger(a.events.STOP_PLAYING)}),o.bind("end",function(){u.trigger(a.events.STOP_PLAYING)})}this.isAPILoaded=!1;var n,o,a=this,u=jQuery(this),s=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==o)return!1;if(0==s)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.putVideo=function(i,o,a,u,s){if(e())return t(i,o,a,u,s),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,o,a,u,s),clearInterval(n))},500)},this.isPlayerReady=function(){return!(!s||!o)}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,n,u,s){o=null,g_isPlayerReady=!1;var r=e+"_iframe",d=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;d+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";var l="<iframe id='"+r+"' src="+(d+=!0===s?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+n+"' height='"+u+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(l),(o=SC.Widget(r)).bind(SC.Widget.Events.READY,function(){o&&(g_isPlayerReady=!0,i())}),a=e}function i(){o.bind(SC.Widget.Events.PLAY,function(){s.trigger(u.events.START_PLAYING)}),o.bind(SC.Widget.Events.PAUSE,function(){s.trigger(u.events.STOP_PLAYING)}),o.bind(SC.Widget.Events.FINISH,function(){s.trigger(u.events.STOP_PLAYING)})}this.isAPILoaded=!1;var n,o,a,u=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(i,o,a,u,s){if(e())return t(i,o,a,u,s),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,o,a,u,s),clearInterval(n))},500)},this.doCommand=function(e){if(null==o)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){u.doCommand("pause")},this.play=function(){u.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,o=null,a&&(jQuery("#"+a).html(""),a=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,n,a,u){o=null,g_isPlayerReady=!1;var s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",r=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",d=e+"_video",l="";u&&!0===u&&(l="autoplay='autoplay'");var c="";t.posterImage&&(c="poster='"+t.posterImage+"'");var y="<video id='"+d+"' width='"+n+"' height='"+a+"'  controls='controls' preload='none' "+l+" "+c+">";""!=t.mp4&&(y+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(y+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(y+="<source type='video/ogg' src='"+t.ogv+"' />"),y+="<object width='"+n+"' height='"+a+"' type='application/x-shockwave-flash' data='"+s+"'>",y+="<param name='movie' value='"+s+"' />",y+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",y+="</object>",y+="</video>",jQuery("#"+e).html(y),new MediaElement(d,{enablePluginDebug:!1,flashName:s,silverlightName:r,success:function(e,t){g_isPlayerReady=!0,o=e,0==u&&o.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(o,"play",function(){u.trigger(a.events.START_PLAYING)}),g_ugFunctions.addEvent(o,"pause",function(){u.trigger(a.events.STOP_PLAYING)}),g_ugFunctions.addEvent(o,"ended",function(){u.trigger(a.events.STOP_PLAYING)})}this.isAPILoaded=!1;var n,o,a=this,u=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(i,o,a,u,s){if(e())return t(i,o,a,u,s),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,o,a,u,s),clearInterval(n))},500)},this.doCommand=function(e){if(null==o)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,n,a,u){s=null,r=!1;var d=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===u&&(d+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var l="<iframe src="+d+" width='"+n+"' height='"+a+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(l);var c=jQuery("#"+e+" iframe")[0];(s=Froogaloop(c)).addEvent("ready",function(){s&&(r=!0,i())}),o=e}function i(){if(!s)return!1;s.addEvent("cuechange",function(){1==d&&a.play()}),s.addEvent("play",function(){u.trigger(a.events.START_PLAYING)}),s.addEvent("pause",function(){u.trigger(a.events.STOP_PLAYING)}),s.addEvent("finish",function(){u.trigger(a.events.STOP_PLAYING)})}this.isAPILoaded=!1;var n,o,a=this,u=jQuery(this),s=null,r=!1,d=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=s&&(0!=r&&void s.api(e))},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){s&&(s.api("unload"),s=null,r=!1),o&&jQuery("#"+o).html("")},this.putVideo=function(i,o,a,u,s){if(e())return t(i,o,a,u,s),!0;this.loadAPI(),n=setInterval(function(){e()&&(t(i,o,a,u,s),clearInterval(n))},500)},this.isPlayerReady=function(){return!(!r||!s)},this.changeVideo=function(e,t){if(0==a.isPlayerReady())return!1;d=t,s.api("loadVideo",e)},this.getVideoImages=function(e,t,i){var n=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,o,u,d){s&&r&&s.destroy();var l={controls:2,showinfo:c.video_youtube_showinfo,rel:0};!0===d&&(l.autoplay=1),r=!1,s=new YT.Player(e,{height:u,width:o,videoId:t,playerVars:l,events:{onReady:i,onStateChange:n}}),a=e}function t(){return"undefined"!=typeof YT&&void 0!==YT.Player}function i(){r=!0}function n(){if("function"!=typeof s.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:d.trigger(u.events.START_PLAYING);break;default:l==YT.PlayerState.PLAYING&&d.trigger(u.events.STOP_PLAYING)}l=e}this.isAPILoaded=!1;var o,a,u=this,s=null,r=!1,d=jQuery(this),l=-1,c={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.setOptions=function(e){c=jQuery.extend(c,e)},this.putVideo=function(i,n,a,u,s){if(t())return e(i,n,a,u,s),!0;this.loadAPI(),o=setInterval(function(){t()&&(e(i,n,a,u,s),clearInterval(o))},500)},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("www.youtube.com/player_api",!0),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!s)return!0;if(0==r)return!1;switch(e){case"play":if("function"!=typeof s.playVideo)return!1;s.playVideo();break;case"pause":if("function"!=typeof s.pauseVideo)return!1;s.pauseVideo();break;case"seek":if("function"!=typeof s.seekTo)return!1;s.seekTo(t);break;case"stopToBeginning":var i=s.getPlayerState();switch(s.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){u.doCommand("play")},this.pause=function(){u.doCommand("pause")},this.destroy=function(){s&&(r=!1,s.destroy())},this.stopToBeginning=function(){u.doCommand("stopToBeginning")},this.changeVideo=function(e,t){if(0==u.isPlayerReady())return!1;t&&1==t?s.loadVideoById(e,0,"default"):s.cueVideoById(e,0,"default")},this.isPlayerReady=function(){return!(!r||!s)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){f.hide()}function t(){p.trigger(f.events.PLAY_START),l&&l.hide()}function i(){p.trigger(f.events.PLAY_STOP),l&&l.show()}function n(){l&&(v.setButtonMobileReady(l),v.setButtonOnClick(l,e)),jQuery(g).on(g.events.START_PLAYING,t),jQuery(g).on(g.events.STOP_PLAYING,i),jQuery(h).on(h.events.START_PLAYING,t),jQuery(h).on(h.events.STOP_PLAYING,i),jQuery(P).on(P.events.START_PLAYING,t),jQuery(P).on(P.events.STOP_PLAYING,i),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,i),jQuery(I).on(I.events.START_PLAYING,t),jQuery(I).on(I.events.STOP_PLAYING,i)}function o(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":g.pause(),g.destroy(),s.hide();break;case"vimeo":h.pause(),h.destroy(),r.hide();break;case"html5":P.pause(),d.hide();break;case"soundcloud":m.pause(),m.destroy(),c.hide();break;case"wistia":I.pause(),y.hide()}}}var a,u,s,r,d,l,c,y,f=this,p=jQuery(this),v=new UGFunctions,g=new UGYoutubeAPI,h=new UGVimeoAPI,P=new UGHtml5MediaAPI,m=new UGSoundCloudAPI,I=new UGWistiaAPI,A=null,_={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop"};var w={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(!(a=i))throw new Error("missing gallery ID for video player, it's a must!");_=jQuery.extend(_,e),g.setOptions(_),t&&1==t&&(w.standAloneMode=!0)},this.setHtml=function(e){w.youtubeInnerID=a+"_youtube_inner",w.vimeoPlayerID=a+"_videoplayer_vimeo",w.html5PlayerID=a+"_videoplayer_html5",w.wistiaPlayerID=a+"_videoplayer_wistia",w.soundCloudPlayerID=a+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+w.youtubeInnerID+"'></div></div>",t+="<div id='"+w.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+w.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+w.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+w.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==w.standAloneMode&&1==_.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),u=e.children(".ug-videoplayer"),s=u.children(".ug-videoplayer-youtube"),r=u.children(".ug-videoplayer-vimeo"),d=u.children(".ug-videoplayer-html5"),c=u.children(".ug-videoplayer-soundcloud"),y=u.children(".ug-videoplayer-wistia"),0==w.standAloneMode&&1==_.video_enable_closebutton&&(l=u.children(".ug-videoplayer-button-close"))},this.destroy=function(){l&&(l.off("click"),l.off("touchend")),jQuery(g).off(g.events.START_PLAYING),jQuery(g).off(g.events.STOP_PLAYING),jQuery(h).off(h.events.START_PLAYING),jQuery(h).off(h.events.STOP_PLAYING),jQuery(P).off(P.events.START_PLAYING),jQuery(P).off(P.events.STOP_PLAYING),jQuery(m).off(m.events.START_PLAYING,t),jQuery(m).off(m.events.STOP_PLAYING,i),jQuery(I).off(I.events.START_PLAYING,t),jQuery(I).off(I.events.STOP_PLAYING,i),A=null},this.initEvents=function(){n()},this.setSize=function(e,t){v.setElementSize(u,e,t),l&&v.placeElement(l,"right","top")},this.setPosition=function(e,t){v.placeElement(u,e,t)},this.getObject=function(){return u},this.show=function(){if(1==f.isVisible())return!0;u.show(),u.fadeTo(0,1),l&&l.show(),p.trigger(f.events.SHOW)},this.hide=function(){if(0==f.isVisible())return!0;o(),A=null,u.hide(),p.trigger(f.events.HIDE)},this.getActiveAPI=function(){switch(A){case"youtube":return g;case"vimeo":return h;case"wistia":return I;case"soundcloud":return m;case"html5":return P;default:return null}},this.pause=function(){var e=f.getActiveAPI();if(null==e)return!1;"function"==typeof e.pause&&e.pause()},this.isVisible=function(){return u.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)var t=!0;o("youtube"),s.show(),0==s.children("#"+w.youtubeInnerID).length&&s.append("<div id='"+w.youtubeInnerID+"'></div>"),1==g.isPlayerReady()&&1==w.standAloneMode?g.changeVideo(e,t):g.putVideo(w.youtubeInnerID,e,"100%","100%",t),A="youtube"},this.playVimeo=function(e,t){if(void 0===t)var t=!0;o("vimeo"),r.show(),h.isPlayerReady()&&1==w.standAloneMode?h.changeVideo(e,t):h.putVideo(w.vimeoPlayerID,e,"100%","100%",t),A="vimeo"},this.playHtml5Video=function(e,t,i,n,a){if(void 0===a)var a=!0;o("html5"),d.show();var u={ogv:e,webm:t,mp4:i,posterImage:n};P.putVideo(w.html5PlayerID,u,"100%","100%",a),A="html5"},this.playSoundCloud=function(e,t){if(void 0===t)var t=!0;o("soundcloud"),c.show(),m.putSound(w.soundCloudPlayerID,e,"100%","100%",t),A="soundcloud"},this.playWistia=function(e,t){if(void 0===t)var t=!0;o("wistia"),y.show(),I.putVideo(w.wistiaPlayerID,e,"100%","100%",t),A="wistia"}}var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;

/* ug-lightbox.js */

function UGLightbox(){function e(e,i){ee=e,k=jQuery(e),ne=jQuery.extend(ne,se),ne=jQuery.extend(ne,i),le.originalOptions=jQuery.extend({},ne),"compact"==ne.lightbox_type&&(le.isCompact=!0,ne=jQuery.extend(ne,re),ne=jQuery.extend(ne,i)),t(),1==le.putSlider?(ee.initSlider(ne,"lightbox"),g_objects=e.getObjects(),te=g_objects.g_objSlider):te=null,1==ne.lightbox_show_textpanel?oe.init(ee,ne,"lightbox"):oe=null}function t(){1==le.isCompact&&1==ne.lightbox_show_textpanel&&(ne.lightbox_slider_image_padding_bottom=le.initTextPanelHeight),1==le.isCompact&&"inside"==ne.lightbox_arrows_position&&(le.isArrowsInside=!0),1==le.isArrowsInside&&0==ne.lightbox_arrows_inside_alwayson&&(le.isArrowsOnHoverMode=!0)}function i(){var e="",t="";1==le.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==le.isCompact&&(e+="<div class='ug-lightbox-top-panel'>"),e+="<div class='ug-lightbox-top-panel-overlay'></div>",e+="<div class='ug-lightbox-button-close'></div>",ne.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),0==le.isCompact&&(e+="</div>"),e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",X=jQuery(e),jQuery("body").append(X),te&&te.setHtml(X),B=X.children(".ug-lightbox-overlay"),0==le.isCompact&&(q=X.children(".ug-lightbox-top-panel")),Z=X.find(".ug-lightbox-button-close"),ne.lightbox_show_numbers&&(W=X.find(".ug-lightbox-numbers")),K=X.children(".ug-lightbox-arrow-left"),V=X.children(".ug-lightbox-arrow-right"),oe&&(q?oe.appendHTML(q):oe.appendHTML(X))}function o(){if(null!==ne.lightbox_overlay_color&&B.css("background-color",ne.lightbox_overlay_color),null!==ne.lightbox_overlay_opacity&&B.fadeTo(0,ne.lightbox_overlay_opacity),q&&null!==ne.lightbox_top_panel_opacity&&q.children(".ug-lightbox-top-panel-overlay").fadeTo(0,ne.lightbox_top_panel_opacity),W){var e={};null!==ne.lightbox_numbers_size&&(e["font-size"]=ne.lightbox_numbers_size+"px"),ne.lightbox_numbers_color&&(e.color=ne.lightbox_numbers_color),null!==ne.lightbox_numbers_padding_right&&(e["padding-right"]=ne.lightbox_numbers_padding_right+"px"),null!==ne.lightbox_numbers_padding_top&&(e["padding-top"]=ne.lightbox_numbers_padding_top+"px"),W.css(e)}}function n(e){if(!te)return!0;var t={slider_image_padding_top:e,slider_video_padding_top:e};te.setOptions(t),te.refreshSlideItems()}function l(){if(!q)return!1;if(!oe)return!1;var e=q.height();if(0==e)return!1;var t=e,i=oe.getSize().height;e!=le.topPanelHeight&&(t=le.topPanelHeight),i>t&&(t=i),e!=t&&(q.height(t),te&&0==te.isAnimating()&&n(t))}function s(e){var t={},i=ne.lightbox_textpanel_width;i>e.width-47-40?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",ne.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=ne.lightbox_textpanel_desc_text_align),ne.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=ne.lightbox_textpanel_desc_text_align)),oe.setOptions(t),oe.refresh(!0,!0),l(),oe.positionPanel()}function r(e){if(0==le.isOpened)return!1;if(!oe)return!1;if(!te)return!1;var t=ie.getElementSize(X),i=oe.getSize();if(0==i.width||i.height>120)return!1;if(!e)var o=te.getSlideImage(),e=ie.getElementSize(o);if(0==e.height||0==e.width)return!1;if(e.bottom+i.height<t.height)return!1;var n=te.getOptions(),l=i.height;if(l!=n.slider_image_padding_bottom){var s={slider_image_padding_bottom:l};if(0==te.isAnimating())return te.setOptions(s),te.refreshSlideItems(),!0}return!1}function a(e,t){if(!e)var i=te.getSlideImage(),e=ie.getElementSize(i);le.textPanelTop=e.bottom,!0===t&&oe.positionPanel(le.textPanelTop,le.textPanelLeft)}function _(e){ie.getElementSize(X);var t=te.getSlideImage(),i=ie.getElementSize(t);if(0==i.width)return!1;le.textPanelLeft=i.left,le.textPanelTop=i.bottom;var o=i.width;if(W){var n=ie.getElementSize(W);o-=n.width;var l=i.right-n.width;ie.placeElement(W,l,le.textPanelTop)}oe&&(oe.show(),oe.refresh(!0,!0,o),a(i)),0==r(i)&&(le.positionFrom="handleCompactTextpanelSizes",oe&&(oe.positionPanel(le.textPanelTop,le.textPanelLeft),!0===e&&(e(),A())))}function d(){return 0==te.isCurrentSlideType("image")||1==te.isCurrentImageInPlace()}function g(e,t){if(0==le.isArrowsInside)return!1;if(!K)return!1;var i=d();if(K.show(),V.show(),le.positionFrom="positionArrowsInside",1==le.isArrowsOnHoverMode&&1==i&&0==x()&&m(!0),0==i)var o=ie.getElementRelativePos(K,"left",ne.lightbox_arrows_offset),n=ie.getElementRelativePos(K,"middle"),l=ie.getElementRelativePos(V,"right",ne.lightbox_arrows_offset),s=n;else var r=te.getSlideImage(),a=ie.getElementSize(r),o=(ie.getElementSize(te.getElement()),ie.getElementRelativePos(K,"left",0,r)+a.left+ne.lightbox_arrows_inside_offset),n=ie.getElementRelativePos(K,"middle",0,r)+a.top,l=ie.getElementRelativePos(K,"right",0,r)+a.left-ne.lightbox_arrows_inside_offset,s=n;if(!0===t){var _={left:o,top:n},g={left:l,top:s};K.stop().animate(_,{duration:le.fadeDuration}),V.stop().animate(g,{duration:le.fadeDuration})}else K.stop(),V.stop(),ie.placeElement(K,o,n),ie.placeElement(V,l,s);1==e&&w(t)}function u(e,t){le.positionFrom=null;var i=d(),o=ie.getElementRelativePos(Z,"right",2,X);if(0==i)var n=2,l=o;else{var s=te.getSlideImage(),r=ie.getElementSize(s),a=ie.getElementSize(te.getElement()),_=ie.getElementSize(Z);a.top==a.height&&(a.top=0);l=a.left+r.right-_.width/2+ne.lightbox_compact_closebutton_offsetx;(n=a.top+r.top-_.height/2-ne.lightbox_compact_closebutton_offsety)<2&&(n=2),l>o&&(l=o)}if(!0===t){var g={left:l,top:n};Z.stop().animate(g,{duration:le.fadeDuration})}else Z.stop(),ie.placeElement(Z,l,n);!0===e&&y(t)}function p(){Z&&Z.stop().fadeTo(le.fadeDuration,0),c(),b(),le.positionFrom="hideCompactElements",1==le.isArrowsInside&&m()}function h(){Z&&Z.hide(),K&&1==le.isArrowsInside&&(K.hide(),V.hide()),W&&W.hide(),oe&&oe.hide()}function f(){var e=ie.getElementSize(X);q&&ie.setElementSizeAndPosition(q,0,0,e.width,le.topPanelHeight),K&&0==le.isArrowsInside&&(1==ne.lightbox_hide_arrows_onvideoplay&&(K.show(),V.show()),ie.placeElement(K,"left","middle",ne.lightbox_arrows_offset),ie.placeElement(V,"right","middle",ne.lightbox_arrows_offset)),0==le.isCompact&&ie.placeElement(Z,"right","top",2,2),oe&&(le.positionFrom="positionElements",0==le.isCompact?s(e):(S(),A()));var t=e.width,i=e.height;if(te){if(q){var o=q.height(),n={slider_image_padding_top:o,slider_video_padding_top:o};te.setOptions(n)}te.setSize(t,i),te.setPosition(0,0)}}function c(){oe&&oe.getElement().stop().fadeTo(le.fadeDuration,0)}function b(){W&&W.stop().fadeTo(le.fadeDuration,0)}function x(){if(!le.lastMouseX)return!0;var e={pageX:le.lastMouseX,pageY:le.lastMouseY};return te.isMouseInsideSlideImage(e)}function m(e,t){return!!K&&(1==le.isArrowsOnHoverMode&&!1===t?(x(),!0):void(!0===e?(K.stop().fadeTo(0,0),V.stop().fadeTo(0,0)):(K.stop().fadeTo(le.fadeDuration,0),V.stop().fadeTo(le.fadeDuration,0))))}function v(){return!K||(0==K.is(":visible")||1!=K.css("opacity"))}function w(e,t){return!!K&&(1==le.isArrowsOnHoverMode&&!0!==t&&1==d()||(1==te.isSwiping()||(!0!==e&&(K.stop(),V.stop()),K.fadeTo(le.fadeDuration,1),void V.fadeTo(le.fadeDuration,1))))}function y(e){!0!==e&&Z.stop(),Z.fadeTo(le.fadeDuration,1)}function E(e){if(!oe)return!1;if(!e)var e=te.getCurrentItem();oe.setTextPlain(e.title,e.description)}function T(e){if(!W)return!1;if(!e)var e=te.getCurrentItem();var t=ee.getNumItems(),i=e.index+1;W.html(i+" / "+t)}function S(){if(!oe)return!1;oe.getElement().show().stop().fadeTo(le.fadeDuration,1)}function A(){W&&W.stop().fadeTo(le.fadeDuration,1)}function I(){if(0==le.isCompact)return!0;p()}function C(){if(0==le.isCompact)return!0;le.positionFrom="onZoomChange",u(!1,!0),g(!1,!0),1==le.isCompact&&(0==(te.isCurrentSlideType("image")&&1==te.isCurrentImageInPlace())?(c(),b()):(le.positionFrom="onZoomChange",S(),A()))}function O(){if(0==le.isCompact)return!0;le.positionFrom="onSliderAfterReturn",u(!0),g(!0),0==r()&&_(),S(),A()}function P(e,t){return t=jQuery(t),0==le.isCompact||(0==te.isSlideCurrent(t)||(le.positionFrom="onSliderAfterPutImage",u(!0),g(!0),void _()))}function j(){var e=te.getOptions().slider_image_padding_top;if(q){var t=q.height();t!=e&&n(t)}1==le.isCompact&&(E(),T(),le.positionFrom="onSliderTransitionEnd",u(!0),g(!0),0==te.isSlideActionActive()&&(0==r()&&_(),S(),A()))}function M(e,t){0==le.isCompact?(W&&T(t),oe&&(E(t),oe.positionElements(!1),l(),oe.positionPanel())):0==te.isAnimating()&&(oe&&E(t),W&&T(t)),0==le.isSliderChangedOnce&&(le.isSliderChangedOnce=!0,$.trigger(J.events.LIGHTBOX_INIT))}function Q(e,t){return!("image"==te.getSlideType()||0!=le.isCompact||!te.isSlideActionActive())||(1==te.isPreloading()?(J.close("slider"),!0):void(0==te.isMouseInsideSlideImage(t)&&J.close("slider_inside")))}function R(){f()}function H(){K&&1==ne.lightbox_hide_arrows_onvideoplay&&(K.hide(),V.hide())}function z(){K&&1==ne.lightbox_hide_arrows_onvideoplay&&(K.show(),V.show())}function D(e,t){switch(t){case 27:1==le.isOpened&&J.close("keypress")}}function G(){1==le.isArrowsOnHoverMode&&w(!1,!0)}function N(e){le.positionFrom="hideCompactElements",1==le.isArrowsOnHoverMode&&1==d()&&m(!1,!0)}function L(e){le.lastMouseX=e.pageX,le.lastMouseY=e.pageY,1==v()&&x()&&0==te.isAnimating()&&(le.positionFrom="onMouseMove",K&&0==K.is(":animated")&&w(!1,!0))}function F(e,t,i,o){if(0==le.isOpened)return!0;switch(ne.gallery_mousewheel_role){default:case"zoom":"image"!=te.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ee.onGalleryMouseWheel(e,t,i,o)}}function Y(){if(B.on("touchstart",function(e){e.preventDefault()}),B.on("touchend",function(e){J.close("overlay")}),ie.addClassOnHover(V,"ug-arrow-hover"),ie.addClassOnHover(K,"ug-arrow-hover"),ie.addClassOnHover(Z),ee.setNextButton(V),ee.setPrevButton(K),Z.click(function(){J.close("button")}),k.on(ee.events.ITEM_CHANGE,M),te){jQuery(te).on(te.events.TRANSITION_END,j),jQuery(te).on(te.events.CLICK,Q);var e=te.getVideoObject();jQuery(e).on(e.events.PLAY_START,H),jQuery(e).on(e.events.PLAY_STOP,z),jQuery(te).on(te.events.START_DRAG,I),jQuery(te).on(te.events.TRANSITION_START,I),jQuery(te).on(te.events.AFTER_DRAG_CHANGE,O),jQuery(te).on(te.events.AFTER_RETURN,O),jQuery(te).on(te.events.AFTER_PUT_IMAGE,P),jQuery(te).on(te.events.ZOOM_CHANGE,C),jQuery(te).on(te.events.IMAGE_MOUSEENTER,G),jQuery(te).on(te.events.IMAGE_MOUSELEAVE,N)}jQuery(window).resize(function(){if(0==le.isOpened)return!0;ie.whenContiniousEventOver("lightbox_resize",R,100)}),k.on(ee.events.GALLERY_KEYPRESS,D),1==le.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",L),X.on("mousewheel",F)}function U(){le.isCompact=!1,t(),ne=jQuery.extend({},le.originalOptions),trace(ne),te.setOptions(ne)}var k,X,B,K,V,Z,W,q,J=this,$=jQuery(this),ee=new UniteGalleryMain,te=new UGSlider,ie=new UGFunctions,oe=new UGTextPanel,ne={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1};this.events={LIGHTBOX_INIT:"lightbox_init"};var le={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1},se={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:le.topPanelHeight,lightbox_slider_image_padding_bottom:10,lightbox_slider_video_padding_top:le.topPanelHeight,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},re={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),B.off("touchstart"),B.off("touchend"),Z.off("click"),k.off(ee.events.ITEM_CHANGE),te){jQuery(te).off(te.events.TRANSITION_END),jQuery(te).off(te.events.CLICK),jQuery(te).off(te.events.START_DRAG),jQuery(te).off(te.events.TRANSITION_START),jQuery(te).off(te.events.AFTER_DRAG_CHANGE),jQuery(te).off(te.events.AFTER_RETURN);var e=te.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(te).on(te.events.IMAGE_MOUSEENTER,G),jQuery(te).on(te.events.IMAGE_MOUSELEAVE,N),te.destroy()}jQuery(window).unbind("resize"),k.off(ee.events.GALLERY_KEYPRESS,D),X.off("mousewheel"),X.remove()},this.open=function(e){var t=ee.getItem(e);le.isOpened=!0,te&&te.setItem(t,"lightbox_open"),oe&&oe.setTextPlain(t.title,t.description),B.stop().fadeTo(0,0),X.show(),X.fadeTo(0,1),B.stop().fadeTo(le.fadeDuration,ne.lightbox_overlay_opacity),f(),1==le.isCompact&&(1==te.isPreloading()?h():1==le.isArrowsInside&&(K.hide(),V.hide())),te&&te.startSlideAction()},this.close=function(e){le.isOpened=!1,1==le.isCompact&&p(),te&&te.stopSlideAction(),"image"!=te.getSlideType()?X.hide():X.fadeTo(le.fadeDuration,0,function(){X.hide()})},this.init=function(t,i){e(t,i)},this.putHtml=function(){ee.isMobileMode()&&1==le.isCompact&&U(),i()},this.run=function(){o(),te&&te.run(),Y()}}

/* ug-carousel.js */

function UGCarousel(){function e(e,t){g_objects=e.getObjects(),F=e,O=jQuery(e),L=g_objects.g_objWrapper,R=g_objects.g_arrItems,k=jQuery.extend(k,t),H.setFixedMode(),H.setApproveClickFunction(Q),H.init(e,k),N=H.getObjThumbs(),k=H.getOptions(),q.initTileWidth=k.tile_width,q.initTileHeight=k.tile_height,q.tileWidth=k.tile_width}function t(e){if(!e)var e=L;L.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),D=L.children(".ug-carousel-wrapper"),B=D.children(".ug-carousel-inner"),H.setHtml(B),N.getThumbs().fadeTo(0,1)}function n(e,t){if(!t)var t=q.initTileHeight/q.initTileWidth*e;q.tileWidth=e;var n={tile_width:e,tile_height:t};H.setOptions(n),k.tile_width=e,k.tile_height=t,H.resizeAllTiles(e),_(!0)}function i(){if(null===q.carouselMaxWidth)throw new Error("The carousel width not set");if(q.tileWidth<q.initTileWidth){(t=q.carouselMaxWidth-2*k.carousel_padding)>q.initTileWidth&&(t=q.initTileWidth),n(t);var e=G.getNumItemsInSpace(q.carouselMaxWidth,t,k.carousel_space_between_tiles)}else if((e=G.getNumItemsInSpace(q.carouselMaxWidth,q.tileWidth,k.carousel_space_between_tiles))<=0){e=1;var t=q.carouselMaxWidth-2*k.carousel_padding;n(t)}var i=G.getSpaceByNumItems(e,q.tileWidth,k.carousel_space_between_tiles);i+=2*k.carousel_padding,D.width(i),1==q.isFirstTimeRun?(z(),H.run(),jQuery.each(R,function(e,t){t.objThumbWrapper.data("index",e),L.trigger(q.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),_(!0),1==k.carousel_autoplay&&Y.startAutoplay()):(1==k.carousel_autoplay&&Y.pauseAutoplay(),T(0,!1),1==k.carousel_autoplay&&Y.startAutoplay()),M(),q.isFirstTimeRun=!1}function r(){return G.getElementSize(B).left}function a(e){return G.getMousePosition(e).pageX}function o(){return B.children(".ug-thumb-wrapper")}function u(e){return G.getNumItemsInSpace(e,q.tileWidth,k.carousel_space_between_tiles)}function s(){return o().length}function l(e){m(e);var t=o();return jQuery(t[e])}function c(){return B.children(".ug-thumb-wrapper").first()}function d(){return B.children(".ug-thumb-wrapper").last()}function h(e,t,n){var i=e.data("index");if(void 0==i)throw new Error("every tile should have index!");for(var r=[],a=0;a<t;a++){if("prev"==n)o=F.getPrevItem(i,!0);else var o=F.getNextItem(i,!0);if(!o)throw new Error("the item to add is empty");var u=o.objTileOriginal.clone(!0,!0);i=o.index,u.addClass("cloned"),r.push(u)}return r}function p(){var e=G.getElementSize(D),t=G.getElementSize(B),n=t.width-e.width+t.left;return q.sideSpace-n}function f(){var e=-r();return q.sideSpace-e}function v(){return G.getElementSize(D).width}function g(){return u(v())}function _(e){if(!e)var e=!1;var t,n=o(),i=0,r=0;return jQuery.each(n,function(e,a){a=jQuery(a),G.placeElement(a,i,0);var o=G.getElementSize(a);i+=o.width+k.carousel_space_between_tiles,r=Math.max(r,o.height),e==n.length-1&&(t=o.right)}),B.width(t),r+=2*k.carousel_padding,!0===e&&(B.height(r),D.height(r)),T(q.numCurrent,!1),t}function m(e){if(e>o().length-1)throw new Error("Wrogn tile number: "+e)}function y(e,t){if("left"==t)n=c();else var n=d();var i=h(n,e,"left"==t?"prev":"next");jQuery.each(i,function(e,n){"left"==t?B.prepend(n):B.append(n),L.trigger(q.eventSizeChange,n),H.loadTileImage(n)})}function b(e,t){m(i);for(var n=o(),i=n.length,r=0;r<e;r++)"left"==t?jQuery(n[r]).remove():jQuery(n[i-1-r]).remove()}function P(e){var t={left:e+"px"};B.css(t)}function T(e,t,n){if(void 0===t){var t=!0;if(B.is(":animated"))return!0}var i=l(e),r={left:-G.getElementSize(i).left+k.carousel_padding+"px"};if(!0===t){var a=k.carousel_scroll_duration,o=k.carousel_scroll_easing;!0===n&&(a=q.scrollShortDuration,o=q.scrollShortEasing),B.stop(!0).animate(r,{duration:a,easing:o,queue:!1,complete:function(){q.numCurrent=e,S(!0)}})}else q.numCurrent=e,B.css(r)}function w(){var e=-r(),t=u(e),n=G.getElementSize(l(t)).left,i=G.getElementSize(l(t+1)).left;return Math.abs(n-e)<Math.abs(i-e)?t:t+1}function A(){T(w(),!0,!0)}function S(){var e=f(),t=p(),n=0,i=0,r=0,a=0,o=s();if(e>q.spaceActionSize?(y(n=u(e),"left"),q.numCurrent+=n):e<-q.spaceActionSize&&(b(r=u(Math.abs(e)),"left"),q.numCurrent-=r),t>q.spaceActionSize?y(i=u(t),"right"):t<-q.spaceActionSize&&b(a=u(Math.abs(t)),"right"),a>o)throw new Error("Can't remove more then num tiles");var l=!1;return(n||i||r||a)&&(_(),l=!0),l}function M(e){G.placeElement(B,0,k.carousel_padding),S()}function j(){"left"==k.carousel_autoplay_direction?Y.scrollRight(1):Y.scrollLeft(1)}function E(e){if(1==q.touchActive)return!0;q.touchActive=!0,Y.pauseAutoplay(),q.startTime=jQuery.now(),q.startMousePos=a(e),q.startInnerPos=r(),q.lastTime=q.startTime,q.lastMousePos=q.startMousePos,G.storeEventData(e,q.storedEventID)}function W(e){if(0==q.touchActive)return!0;G.updateStoredEventData(e,q.storedEventID),e.preventDefault();var t=null;if(1==k.carousel_vertical_scroll_ondrag&&(t=G.handleScrollTop(q.storedEventID)),"vert"===t)return!0;q.lastMousePos=a(e);var n=q.lastMousePos-q.startMousePos,i=q.startInnerPos+n,r=n>0?"prev":"next",o=G.getElementSize(B).width;i>0&&"prev"==r&&(i/=3),i<-o&&"next"==r&&(i=q.startInnerPos+n/3),P(i)}function I(e){if(0==q.touchActive)return!0;q.touchActive=!1,A(),Y.unpauseAutoplay()}function x(e){if(0==k.carousel_autoplay_pause_onhover)return!0;1==q.isPlayMode&&0==q.isPaused&&Y.pauseAutoplay()}function C(e){if(0==k.carousel_autoplay_pause_onhover)return!0;Y.unpauseAutoplay()}function z(){H.initEvents(),D.bind("mousedown touchstart",E),jQuery("body").bind("mousemove touchmove",W),jQuery(window).add("body").bind("mouseup touchend",I),D.hover(x,C)}function Q(){var e=q.lastTime-q.startTime,t=Math.abs(q.lastMousePos-q.startMousePos);return!(e>300)&&!(t>30)}var O,L,R,D,B,Y=this,U=jQuery(this),F=new UniteGalleryMain,G=new UGFunctions,H=new UGTileDesign,N=new UGThumbsGeneral,k={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var q={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){q.isPlayMode=!0,q.isPaused=!1,U.trigger(Y.events.START_PLAY),q.handle&&clearInterval(q.handle),q.handle=setInterval(j,k.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==q.isPlayMode||(0==q.isPaused||void Y.startAutoplay())},this.pauseAutoplay=function(){if(0==q.isPlayMode)return!0;q.isPaused=!0,q.handle&&clearInterval(q.handle),U.trigger(Y.events.PAUSE_PLAY)},this.stopAutoplay=function(){if(0==q.isPlayMode)return!0;q.isPaused=!1,q.isPlayMode=!1,q.handle&&clearInterval(q.handle),U.trigger(Y.events.STOP_PLAY)},this.destroy=function(){q.handle&&clearInterval(q.handle),U.off(Y.events.START_PLAY),U.off(Y.events.STOP_PLAY),D.unbind("mousedown"),D.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),D.off("mouseenter").off("mouseleave"),H.destroy()},this.init=function(t,n,i){i&&this.setMaxWidth(i),e(t,n)},this.setMaxWidth=function(e){q.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return D},this.getObjTileDesign=function(){return H},this.getEstimatedHeight=function(){return k.tile_height+2*k.carousel_padding},this.run=function(){i()},this.scrollRight=function(e){if(!e||"object"==typeof e)var e=k.carousel_navigation_numtiles;var t=g();e>t&&(e=t);var n=q.numCurrent-e;n<=0&&(n=0),T(n)},this.scrollLeft=function(e){if(!e||"object"==typeof e)var e=k.carousel_navigation_numtiles;var t=g();e>t&&(e=t);var n=s(),i=q.numCurrent+e;i>=n&&(i=n-1),T(i)},this.setScrollLeftButton=function(e){G.setButtonMobileReady(e),G.setButtonOnClick(e,Y.scrollLeft)},this.setScrollRightButton=function(e){G.setButtonMobileReady(e),G.setButtonOnClick(e,Y.scrollRight)},this.setPlayPauseButton=function(e){G.setButtonMobileReady(e),1==q.isPlayMode&&0==q.isPaused&&e.addClass("ug-pause-icon"),U.on(Y.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),U.on(Y.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),G.setButtonOnClick(e,function(){0==q.isPlayMode||1==q.isPaused?Y.startAutoplay():Y.stopAutoplay()})}}

/* ug-api.js */

function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},n=e.objThumbImage.data();for(var i in n){switch(i){case"image":case"description":continue}t[i]=n[i]}return t}var n,i=this,o=(jQuery(i),new UniteGalleryMain);o=e,n=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,r){switch(e){case"item_change":n.on(o.events.ITEM_CHANGE,function(){var e=t(o.getSelectedItem());r(e.index,e)});break;case"resize":n.on(o.events.SIZE_CHANGE,r);break;case"enter_fullscreen":n.on(o.events.ENTER_FULLSCREEN,r);break;case"exit_fullscreen":n.on(o.events.EXIT_FULLSCREEN,r);break;case"play":n.on(o.events.START_PLAY,r);break;case"stop":n.on(o.events.STOP_PLAY,r);break;case"pause":n.on(o.events.PAUSE_PLAYING,r);break;case"continue":n.on(o.events.CONTINUE_PLAYING,r);break;default:console&&console.log("wrong api event: "+e)}n.trigger(i.events.API_ON_EVENT,[e,r])},this.play=function(){o.startPlayMode()},this.stop=function(){o.stopPlayMode()},this.togglePlay=function(){o.togglePlayMode()},this.enterFullscreen=function(){o.toFullScreen()},this.exitFullscreen=function(){o.exitFullScreen()},this.toggleFullscreen=function(){o.toggleFullscreen()},this.resetZoom=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomBack()},this.zoomIn=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomIn()},this.zoomOut=function(){var e=o.getObjSlider();if(!e)return!1;e.zoomOut()},this.nextItem=function(){o.nextItem()},this.prevItem=function(){o.prevItem()},this.selectItem=function(e){o.selectItem(e)},this.resize=function(e,t){t?o.resize(e,t):o.resize(e)},this.getItem=function(e){return t(o.getItem(e))},this.getNumItems=function(){return o.getNumItems()},this.reloadGallery=function(e){if(!e)var e={};o.run(null,e)},this.destroy=function(){o.destroy()},n.trigger(i.events.API_INIT_FUNCTIONS,i)}

